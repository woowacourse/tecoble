{"componentChunkName":"component---src-templates-post-tsx","path":"/post/2022-10-10-Service/","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVQY003Qvw7BUBTH8YYgLCKExWw1IczEwAtIJCa1GJuyCalI/EmERUgHi5cxeI8uTTt1aHp9r9wmhk/OOfee/HJzNd/3Dc/zutS24zgZIUQpiqIt9YY+vUb9+eur6Kh5GN9LGkEn2DBd1y1zmGfxjjf9AFm1XEQCBe6aVBMVLJHiLBcHTiHwQS0MQ/mSOlYsjPDCAjOMccUFR3Z0NdvYISkDW9jAQi8IAhnYgAyZ4wELEzUfcFZfYmCPJ9ZIfwG9owW1fLgCkwAAAABJRU5ErkJggg==","width":400,"height":88,"src":"/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png","srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png 1x"}}},"markdownRemark":{"html":"<h1>😘 서론</h1>\n<p>우아한테크코스에서 사용하는 협업 도구 중 하나인 <code class=\"language-text\">Slack</code>은 무료 프리티어 사용 시 3개월이 지난 메시지들을 보여주지 않습니다.\n레벨 3 팀 프로젝트인 <a href=\"https://github.com/woowacourse-teams/2022-pickpick\">줍줍</a>에서는 이 사라지는 메시지들을 백업해주는 서비스를 제공합니다.\n<code class=\"language-text\">Slack</code>의 메시지에 대한 정보를 주로 다루다 보니 <code class=\"language-text\">Slack 라이브러리</code>에 의존적인 로직이 많습니다.\n이 포스팅에서는 외부 라이브러리(<code class=\"language-text\">Slack 라이브러리</code>)를 사용하는 <strong>로직을 어떻게, 왜 추상화했는지</strong>에 관해 이야기하려고 합니다.</p>\n<p><br/><br/></p>\n<h1>🤔 왜 서비스를 추상화해야 하는가?</h1>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 2000px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b2dcb1b209c58854930913b00f9529f5/c7a69/2022-10-10-slack.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 25.6%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABJ0lEQVQY0y3QP0jCURDA8UssgoKiIUiizAQjXRISGiIoQYegEKKhP1BLQ0MR1ZK4SVY0SdFgIREhgZb85AfiIphENDQ1CC1BS0tLU1a8vuo7+PDg7h53nHjv3+2+sgqPFLJ5t7GVGzIPbaPZHWuH1y7EMPphohd9cKEFbfDAruvt9V7Hy2/U86zSrqKRshl7uU4jtulXqvbBjWNMI4dx7OMUY5hFEjPIIIQlCUcy+fWj0l0kfrCRMAPJ6O1cSRqxiics4xIF7CKOIq4R0Cp4xYBUrRPbXxJMfU5OXX2XHKm/G2dCqXMLRV+TiMGbRxpnSOhtL7QYFlHWA+flR/xS6Vo5eVsIPn48uKKq2irNVKwWptUaRJzw6puFdK4bg1irb9W4ZU9t23/AHlcN3eRL0AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"2022 10 10 slack\" title=\"2022 10 10 slack\" src=\"/static/b2dcb1b209c58854930913b00f9529f5/f97d7/2022-10-10-slack.png\" srcset=\"/static/b2dcb1b209c58854930913b00f9529f5/0eb09/2022-10-10-slack.png 500w,\n/static/b2dcb1b209c58854930913b00f9529f5/1263b/2022-10-10-slack.png 1000w,\n/static/b2dcb1b209c58854930913b00f9529f5/f97d7/2022-10-10-slack.png 2000w,\n/static/b2dcb1b209c58854930913b00f9529f5/c7a69/2022-10-10-slack.png 2560w\" sizes=\"(max-width: 2000px) 100vw, 2000px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>기존의 테스트에서는 <code class=\"language-text\">Slack 라이브러리</code>를 호출하는 부분은 모킹 처리해두었습니다.\n테스트 코드를 리팩토링하다 보니 모킹 작업이 계속 <strong>반복</strong>되는 <strong>지루</strong>한 작업으로 느껴졌습니다.\n반복되는 모킹 작업을 제거하기 위해 테스트 방식을 <code class=\"language-text\">목</code>에서 <code class=\"language-text\">스텁</code>으로 변경해야겠다는 결심을 하게 되었습니다.\n(테스트에 대한 이야기는 <code class=\"language-text\">2기_스티치</code>의 <a href=\"https://tecoble.techcourse.co.kr/post/2020-09-19-what-is-test-double/\">Test Double을 알아보자</a>를 참고\n바랍니다.)</p>\n<p><code class=\"language-text\">Slack 라이브러리</code>의 스텁용 객체를 만들기 위해서는 <code class=\"language-text\">MethodsClient</code>라는 인터페이스를 구현해야 합니다.\n해당 인터페이스는 약 250개의 메서드를 갖고 있으며 그중 저희 서비스에서 실제로 사용하는 메서드는 약 10개 정도에 불과합니다.\n이를 모두 구현하는 것은 불필요하고 번거로운 작업이기에 더 간편한 방법을 고민하게 되었습니다.\n이때 떠오른 방법이 <strong>서비스를 추상화해 필요한 부분만</strong> 사용하도록 만드는 것이었습니다.\n자세한 설명은 아래 예제 코드를 보며 살펴보겠습니다.</p>\n<p><br/><br/></p>\n<h1>😆 예제 코드</h1>\n<h2>0. 기존 코드</h2>\n<p>예제로 채널을 생성하는 <code class=\"language-text\">ChannelCreateService</code>의 기존 로직을 가져와 보았습니다.\n로직 대부분이 <code class=\"language-text\">Slack 라이브러리</code>에 의존하고 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ChannelCreatedService</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">MethodsClient</span> slackClient<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">ChannelRepository</span> channels<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">ChannelCreatedService</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">MethodsClient</span> slackClient<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ChannelRepository</span> channels<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>slackClient <span class=\"token operator\">=</span> slackClient<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>channels <span class=\"token operator\">=</span> channels<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Channel</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> channelSlackId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// slack api를 호출하는 부분</span>\n      <span class=\"token class-name\">Conversation</span> conversation <span class=\"token operator\">=</span> slackClient\n        <span class=\"token punctuation\">.</span><span class=\"token function\">conversationsInfo</span><span class=\"token punctuation\">(</span>request <span class=\"token operator\">-></span> request<span class=\"token punctuation\">.</span><span class=\"token function\">channel</span><span class=\"token punctuation\">(</span>channelSlackId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">getChannel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// slack의 response를 우리 도메인인 channel 형태로 변환</span>\n      <span class=\"token class-name\">Channel</span> channel <span class=\"token operator\">=</span> <span class=\"token function\">toChannel</span><span class=\"token punctuation\">(</span>conversation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// channel을 저장하고 return</span>\n      <span class=\"token keyword\">return</span> channels<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> <span class=\"token operator\">|</span> <span class=\"token class-name\">SlackApiException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// slack api 호출로 인해 발생할 수 있는 exception</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SlackApiCallException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 583px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2ddb1dfc74cc90c3fa55a323c5b7fb7c/6d62d/2022-10-10-service-ver1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.60000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAABJ0AAASdAHeZh94AAADQElEQVQ4y41TSUwTYRQeNC4HF9TEmJh4VBM1MVETTfTiQSXRqEdPaoyoLMUtUdFoAtS4EpdU0IhBQWgLUdTWJQpt7ULXaQt0mVI6XabTdmDazowthSL4/rLo0cmX939vy3zzz3vY5OTU3JMdmwgwApXMUsmML85Hk9ngcIZkfoVGMhCMpUYnfv+thkYMDiqV6wvz3mgGJzklHpf3Up3GaJeFVuBxmYF6b6bfmWmwXZaYM8R7or/6wgLDj0Mj5meyGhfbZU3UKgJ1ysCdr8F730JgaxSBGgUp/hysVZJ3vgTvfg0BoEasJL84GM0AS6fHMIufazHEll7RYhU9RZWqoooerKx7yWXNtoe2LXctW+9bdz7GF1/UYOXd0wVYec/am4ZPNsYa4LD+IF8icWCnv88vtGHnEOaJVCuu65de1S65oi2u1hVV9qB4GQIqK/1+vNnlCguYPcDtfoSvrNZXyoiz7d4KKbKlbd4Tb9ynWj0nW9wnW93gnmkvoM1bJiUWXf55+HmfOyJgTpLf8cC6X+Kcyk96w4IjwOFD6cGI4CQ5ALieEB+kM/ahtDskhGOZqfHfG8SmkmdOLzQ7SH5XvW19nanDHHumijzuDoNtVEca1JGns/zlT6pBFXmupoC0G2OrqvWHGvs8kVnZxdd0Fzp9VR3E+Q5fpdwnkoNFXDTLRXKiQkaUSwn4uoWXNEfmZG+/b90ncaSTOZMvOUgJajdrH+JAai+R1HmTSHmY13pQClwuldsoNh2QOGZk76y3bbpt/oQnmrRUmzHWrI+2GGiZKf5KG32tj74x0G97aYjITfHWXvojnlh9Q3+wwTkje88jfPlVLaiCywTAhYO8Miki01LPwV+QEaVtHsgCX3BJc/TFP7e9T+KcyORH2FGWzek8rHUwZSRS/SRn8qVAvDPAGYl0KpmDgnwmv2FO9kBI2PvEvllsUrtYUK60M3JzXGqMAToKBNx31gQQSClw5kf/yJpq3bEmF3qz2Z9u0dPLpsdTpMIA59UzqCrwqgKAiFRFVWg8190yfLAl0HiG2VH1APvekoCJr5tFrQIBccXfCLJoSUiFjQGZw8I4WskRYdwfh9Ud/U/4E9lUNg+NfwCgHN7gZfWIFQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022 10 10 service ver1\"\n        title=\"2022 10 10 service ver1\"\n        src=\"/static/2ddb1dfc74cc90c3fa55a323c5b7fb7c/6d62d/2022-10-10-service-ver1.png\"\n        srcset=\"/static/2ddb1dfc74cc90c3fa55a323c5b7fb7c/0eb09/2022-10-10-service-ver1.png 500w,\n/static/2ddb1dfc74cc90c3fa55a323c5b7fb7c/6d62d/2022-10-10-service-ver1.png 583w\"\n        sizes=\"(max-width: 583px) 100vw, 583px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<br/>\n<h2>1. 외부 라이브러리를 쓰는 로직 추상화</h2>\n<p>위 로직을 아래처럼 두 개의 클래스로 분리하여 역할을 나눠주었습니다.</p>\n<h4>ChannelCreateService</h4>\n<ul>\n<li>채널 저장 로직을 가진 클래스</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ChannelCreatedService</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">CallSlackApi</span> slackClient<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">ChannelRepository</span> channels<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">ChannelCreatedService</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">CallSlackApi</span> slackClient<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ChannelRepository</span> channels<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>slackClient <span class=\"token operator\">=</span> slackClient<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>channels <span class=\"token operator\">=</span> channels<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Channel</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> channelSlackId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Channel</span> channel <span class=\"token operator\">=</span> slackClient<span class=\"token punctuation\">.</span><span class=\"token function\">callChannel</span><span class=\"token punctuation\">(</span>channelSlackId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> channels<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>CallSlackApi</h4>\n<ul>\n<li><code class=\"language-text\">Slack 라이브러리</code>를 호출하고 결괏값을 반환하는 클래스</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CallSlackApi</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MethodsClient</span> methodsClient<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">CallSlackApi</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">MethodsClient</span> methodsClient<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>methodsClient <span class=\"token operator\">=</span> methodsClient<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Channel</span> <span class=\"token function\">callChannel</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> channelSlackId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// `Slack 라이브러리`를 호출</span>\n      <span class=\"token class-name\">Conversation</span> conversation <span class=\"token operator\">=</span> methodsClient<span class=\"token punctuation\">.</span><span class=\"token function\">conversationsInfo</span><span class=\"token punctuation\">(</span>\n          request <span class=\"token operator\">-></span> request<span class=\"token punctuation\">.</span><span class=\"token function\">channel</span><span class=\"token punctuation\">(</span>channelSlackId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">getChannel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// 결과값을 우리가 사용하는 객체 형태로 변경</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Channel</span><span class=\"token punctuation\">(</span>conversation<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> conversation<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> <span class=\"token operator\">|</span> <span class=\"token class-name\">SlackApiException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SlackApiCallException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1197px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6231f99a3718bd7e12c64c62874a341e/7e04b/2022-10-10-service-ver2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAABJ0AAASdAHeZh94AAABtklEQVQY0wGrAVT+AOLs99Li87/X7azK5q/M567L56zK57TQ6crd8Obu+P3s4vrbx/raxfnTuvfJqffJqvnUvPraxfrcyP3z7ACxzup8sd1Zn9VWnNNlpddrqNhcoNVXndNipNe82PD62sTzrHzyp3TzrX/zrX7zrHzzqnnzp3T0sYT64tIAaKXYD3bCFHrEGX7GKofKMIrLHoDHGn7GBnG/fKrV87mW7X4y7YhE75BP8JVX8JVY7otH7oZA7YM698usAGam2EeU0L3U7a3M6KrK6KzK6KvJ573W8Jmz0ntohtOAYPa4i/jVv/jOsfjNsfjPsvjPs/nZwvKnc/fFowBmpdhAj86vzeqjxuaexOWhxeadw+W0z+p9sdxyq9r1u5Tzq3r3z7P3yar3yqv3yan3yan4zrLyomv3xaQAc6zbPI7NeK/ccqzbbarZb6rabqrZfrLdV57Ugrji+cSg8aBn9LOH9LCD9LCD9LCD9LCD9LOI8Zth+MyvANPk86rM6Ye64I294o294o294o694oq84ZC+4tvq+P7r3fbAnPa6lPa8lva7lfa7lfa7lfa5kvfGpP3y6pNaMCqKGhMgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022 10 10 service ver2\"\n        title=\"2022 10 10 service ver2\"\n        src=\"/static/6231f99a3718bd7e12c64c62874a341e/7e04b/2022-10-10-service-ver2.png\"\n        srcset=\"/static/6231f99a3718bd7e12c64c62874a341e/0eb09/2022-10-10-service-ver2.png 500w,\n/static/6231f99a3718bd7e12c64c62874a341e/1263b/2022-10-10-service-ver2.png 1000w,\n/static/6231f99a3718bd7e12c64c62874a341e/7e04b/2022-10-10-service-ver2.png 1197w\"\n        sizes=\"(max-width: 1197px) 100vw, 1197px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<br/>\n<h2>2. 추상화한 로직 인터페이스로 분리</h2>\n<p>좀 더 편리한 스텁 객체를 만들기 위해 <code class=\"language-text\">ExternalClient</code>라는 인터페이스를 만들었습니다.\n기존의 <code class=\"language-text\">CallSlackApi</code>에 존재하던 로직은 <code class=\"language-text\">ExternalClient</code> 인터페이스의 구현체인 <code class=\"language-text\">SlackClient</code>로 옮겼습니다.</p>\n<h4>ExternalClient</h4>\n<ul>\n<li>외부 라이브러리의 로직을 추상화한 인터페이스</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">ExternalClient</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token class-name\">Channel</span> <span class=\"token function\">callChannel</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> channelSlackId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>SlackClient</h4>\n<ul>\n<li><code class=\"language-text\">Slack 라이브러리</code>를 호출하는 <code class=\"language-text\">ExternalClient</code>의 구현체</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SlackClient</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ExternalClient</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">MethodsClient</span> methodsClient<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">SlackClient</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">MethodsClient</span> methodsClient<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>methodsClient <span class=\"token operator\">=</span> slackClient<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Channel</span> <span class=\"token function\">callChannel</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> channelSlackId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token class-name\">Conversation</span> conversation <span class=\"token operator\">=</span> methodsClient<span class=\"token punctuation\">.</span><span class=\"token function\">conversationsInfo</span><span class=\"token punctuation\">(</span>\n          request <span class=\"token operator\">-></span> request<span class=\"token punctuation\">.</span><span class=\"token function\">channel</span><span class=\"token punctuation\">(</span>channelSlackId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">getChannel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Channel</span><span class=\"token punctuation\">(</span>conversation<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> conversation<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> <span class=\"token operator\">|</span> <span class=\"token class-name\">SlackApiException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SlackApiCallException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1192px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d40d3c3babceb5f8800be2be7348675a/bb7f4/2022-10-10-service-ver3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.800000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAABJ0AAASdAHeZh94AAABaElEQVQY02O48ODT3qtv155+DkTrzjxfc+r5hrMvDt54d+Pp55+///7////ff5yAoWbD3bC5V0LnXE5afC17xY24hddCZl8On3dl8v4nX3/8Bqr4+/vnvy9v/35+8/fLOyD69/X9/39/oJr5yg7xVhwWqT6q3HxCt/O0fOMJIJu95KBB+6m3t6/8OLH8676ZX3dN+rZ3+jcgY+/0rzsnfjsw5/vx5X/fP2NwmHhu24VXa06/WHHi+cqTILT+7Ks1J59mZU84UFnwqtnhbY3e22brD5OCP0wMfN/n87bB9G213vsez9/PbzJY9Z5ZferFkuPP5h95uvDo03lHnqw6+XzOoSeeE8++vH3zz+0jP28e+XXz8M/rB0HoxqFfIO6RX7eOAj3CYNp9pmPH/aat9yo33K3ecLdqw92O7Q+qN971nH75wzeQn//hDjGG/j2PslbcLFh9G4rWAMlbQJHlJ1/8wh/a//4BAKS3S5BGJJv8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022 10 10 service ver3\"\n        title=\"2022 10 10 service ver3\"\n        src=\"/static/d40d3c3babceb5f8800be2be7348675a/bb7f4/2022-10-10-service-ver3.png\"\n        srcset=\"/static/d40d3c3babceb5f8800be2be7348675a/0eb09/2022-10-10-service-ver3.png 500w,\n/static/d40d3c3babceb5f8800be2be7348675a/1263b/2022-10-10-service-ver3.png 1000w,\n/static/d40d3c3babceb5f8800be2be7348675a/bb7f4/2022-10-10-service-ver3.png 1192w\"\n        sizes=\"(max-width: 1192px) 100vw, 1192px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<br/>\n<h2>3. 스텁용 객체 생성 및 적용</h2>\n<p>스텁용 객체를 생성한 뒤 <code class=\"language-text\">@Component</code>를 이용해 bean으로 등록하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Primary</span> <span class=\"token comment\">// SlackClient 보다 우선 순위가 높은 bean으로 등록하기 위해 붙였다.</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FakeClient</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ExternalClient</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Channel</span><span class=\"token punctuation\">></span></span> channels <span class=\"token operator\">=</span> <span class=\"token class-name\">List</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 채널 데이터 초기화</span>\n\n  <span class=\"token annotation punctuation\">@Override</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Channel</span> <span class=\"token function\">callChannel</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> channelSlackId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> channels<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>it <span class=\"token operator\">-></span> it<span class=\"token punctuation\">.</span><span class=\"token function\">isSameSlackId</span><span class=\"token punctuation\">(</span>channelSlackId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">findAny</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">orElseThrow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SlackApiCallException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<h2>4. 테스트 코드에서 모킹 제거</h2>\n<p>스텁을 적용하였으니 이제 모킹한 코드들을 제거해주는 일만 남았습니다.\n전후 코드를 비교하여 코드가 얼마나 깔끔해졌는지 확인해보겠습니다.</p>\n<h4>AS-IS (목 적용)</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// given</span>\n  <span class=\"token class-name\">Workspace</span> workspace <span class=\"token operator\">=</span> workspaces<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WorkspaceFixture</span><span class=\"token punctuation\">.</span>JUPJUP<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">Channel</span> channel <span class=\"token operator\">=</span> <span class=\"token class-name\">ChannelFixture</span><span class=\"token punctuation\">.</span>QNA<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>workspace<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">String</span> request <span class=\"token operator\">=</span> <span class=\"token function\">createRequest</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">given</span><span class=\"token punctuation\">(</span>slackClient<span class=\"token punctuation\">.</span><span class=\"token function\">conversationsInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RequestConfigurator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ConversationsInfoRequestBuilder</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span> <span class=\"token function\">any</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">willReturn</span><span class=\"token punctuation\">(</span><span class=\"token function\">setUpChannelMockData</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// when</span>\n  channelCreatedService<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// then</span>\n  <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Channel</span><span class=\"token punctuation\">></span></span> actual <span class=\"token operator\">=</span> channels<span class=\"token punctuation\">.</span><span class=\"token function\">findBySlackId</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">.</span><span class=\"token function\">getSlackId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>actual<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isNotEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">ConversationsInfoResponse</span> <span class=\"token function\">setUpChannelMockData</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">Channel</span> channel<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token class-name\">Conversation</span> conversation <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Conversation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  conversation<span class=\"token punctuation\">.</span><span class=\"token function\">setId</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">.</span><span class=\"token function\">getSlackId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  conversation<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token class-name\">ConversationsInfoResponse</span> conversationsInfoResponse <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ConversationsInfoResponse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  conversationsInfoResponse<span class=\"token punctuation\">.</span><span class=\"token function\">setChannel</span><span class=\"token punctuation\">(</span>conversation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  conversationsInfoResponse<span class=\"token punctuation\">.</span><span class=\"token function\">setOk</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> conversationsInfoResponse<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>TO-BE (스텁 적용)</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// given</span>\n  <span class=\"token class-name\">Workspace</span> workspace <span class=\"token operator\">=</span> workspaces<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WorkspaceFixture</span><span class=\"token punctuation\">.</span>JUPJUP<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">Channel</span> channel <span class=\"token operator\">=</span> <span class=\"token class-name\">ChannelFixture</span><span class=\"token punctuation\">.</span>QNA<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>workspace<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">String</span> request <span class=\"token operator\">=</span> <span class=\"token function\">createRequest</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// when</span>\n  channelCreatedService<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// then</span>\n  <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Channel</span><span class=\"token punctuation\">></span></span> actual <span class=\"token operator\">=</span> channels<span class=\"token punctuation\">.</span><span class=\"token function\">findBySlackId</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">.</span><span class=\"token function\">getSlackId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>actual<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isNotEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><br/><br/></p>\n<h1>😉 마무리</h1>\n<p>해당 글에서는 테스트를 간편화하기 위해 서비스 추상화를 진행해보았습니다.\n서비스 추상화는 이 외에도 다양한 목적으로 진행할 수 있습니다.</p>\n<p>객체 지향적인 코드는 <code class=\"language-text\">단일 책임 원칙</code>을 준수합니다.\n기존의 <code class=\"language-text\">ChannelCreateService</code>에서는 ‘Slack 라이브러리 호출’, ‘예외 처리’, ‘채널 저장’ 3가지 역할을 하고 있었습니다.\n개선된 <code class=\"language-text\">ChannelCreateService</code>에서는 <code class=\"language-text\">SlackClient</code>를 통해 채널 정보를 가져오고 이를 DB에 ‘저장’하는 역할을 합니다.\n‘Slack 라이브러리 호출’과 이로 인한 ‘예외 처리’의 책임은 <code class=\"language-text\">SlackClient</code>으로 옮겨갔습니다.\n이렇듯 서비스를 추상화하면 이전보다 <strong>코드가 간결</strong>해지고 작업의 <strong>목적이 분명</strong>하게 드러납니다.</p>\n<p>각 오브젝트의 책임과 역할이 더 분명하게 분리되면 변경 사항이 생기는 경우 <strong>변경 포인트</strong>를 쉽게 찾아낼 수 있습니다.\n이제 <code class=\"language-text\">Slack 라이브러리</code>와 관련된 오류가 발생하면 <code class=\"language-text\">ChannelCreateService</code>가 아닌 <code class=\"language-text\">SlackClient</code>를 살피면 됩니다.\n의존되는 외부 라이브러리가 <code class=\"language-text\">Slack</code>이 아닌 <code class=\"language-text\">카카오톡</code>, <code class=\"language-text\">라인</code> 등으로 바뀔 수도 있습니다.\n이 경우에도 <code class=\"language-text\">ExternalClient</code>의 구현체를 생성하면 쉽게 대체할 수 있습니다.</p>\n<p><br/><br/></p>\n<hr>\n<h3>Reference &#x26; Source</h3>\n<ul>\n<li>토비의 스프링 3.1 / 이일민</li>\n<li>대표 이미지: 피에트 몬드리안의 추상화 작 <code class=\"language-text\">브로드웨이 부기우기</code></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"😘 서론"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우아한테크코스에서 사용하는 협업 도구 중 하나인 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack"}]},{"type":"text","value":"은 무료 프리티어 사용 시 3개월이 지난 메시지들을 보여주지 않습니다.\n레벨 3 팀 프로젝트인 "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/woowacourse-teams/2022-pickpick"},"children":[{"type":"text","value":"줍줍"}]},{"type":"text","value":"에서는 이 사라지는 메시지들을 백업해주는 서비스를 제공합니다.\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack"}]},{"type":"text","value":"의 메시지에 대한 정보를 주로 다루다 보니 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack 라이브러리"}]},{"type":"text","value":"에 의존적인 로직이 많습니다.\n이 포스팅에서는 외부 라이브러리("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack 라이브러리"}]},{"type":"text","value":")를 사용하는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"로직을 어떻게, 왜 추상화했는지"}]},{"type":"text","value":"에 관해 이야기하려고 합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"element","tagName":"br","properties":{},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"🤔 왜 서비스를 추상화해야 하는가?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 2000px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/b2dcb1b209c58854930913b00f9529f5/c7a69/2022-10-10-slack.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 25.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABJ0lEQVQY0y3QP0jCURDA8UssgoKiIUiizAQjXRISGiIoQYegEKKhP1BLQ0MR1ZK4SVY0SdFgIREhgZb85AfiIphENDQ1CC1BS0tLU1a8vuo7+PDg7h53nHjv3+2+sgqPFLJ5t7GVGzIPbaPZHWuH1y7EMPphohd9cKEFbfDAruvt9V7Hy2/U86zSrqKRshl7uU4jtulXqvbBjWNMI4dx7OMUY5hFEjPIIIQlCUcy+fWj0l0kfrCRMAPJ6O1cSRqxiics4xIF7CKOIq4R0Cp4xYBUrRPbXxJMfU5OXX2XHKm/G2dCqXMLRV+TiMGbRxpnSOhtL7QYFlHWA+flR/xS6Vo5eVsIPn48uKKq2irNVKwWptUaRJzw6puFdK4bg1irb9W4ZU9t23/AHlcN3eRL0AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"2022 10 10 slack","title":"2022 10 10 slack","src":"/static/b2dcb1b209c58854930913b00f9529f5/f97d7/2022-10-10-slack.png","srcSet":["/static/b2dcb1b209c58854930913b00f9529f5/0eb09/2022-10-10-slack.png 500w","/static/b2dcb1b209c58854930913b00f9529f5/1263b/2022-10-10-slack.png 1000w","/static/b2dcb1b209c58854930913b00f9529f5/f97d7/2022-10-10-slack.png 2000w","/static/b2dcb1b209c58854930913b00f9529f5/c7a69/2022-10-10-slack.png 2560w"],"sizes":["(max-width:","2000px)","100vw,","2000px"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"기존의 테스트에서는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack 라이브러리"}]},{"type":"text","value":"를 호출하는 부분은 모킹 처리해두었습니다.\n테스트 코드를 리팩토링하다 보니 모킹 작업이 계속 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"반복"}]},{"type":"text","value":"되는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"지루"}]},{"type":"text","value":"한 작업으로 느껴졌습니다.\n반복되는 모킹 작업을 제거하기 위해 테스트 방식을 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"목"}]},{"type":"text","value":"에서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"스텁"}]},{"type":"text","value":"으로 변경해야겠다는 결심을 하게 되었습니다.\n(테스트에 대한 이야기는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"2기_스티치"}]},{"type":"text","value":"의 "},{"type":"element","tagName":"a","properties":{"href":"https://tecoble.techcourse.co.kr/post/2020-09-19-what-is-test-double/"},"children":[{"type":"text","value":"Test Double을 알아보자"}]},{"type":"text","value":"를 참고\n바랍니다.)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack 라이브러리"}]},{"type":"text","value":"의 스텁용 객체를 만들기 위해서는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"MethodsClient"}]},{"type":"text","value":"라는 인터페이스를 구현해야 합니다.\n해당 인터페이스는 약 250개의 메서드를 갖고 있으며 그중 저희 서비스에서 실제로 사용하는 메서드는 약 10개 정도에 불과합니다.\n이를 모두 구현하는 것은 불필요하고 번거로운 작업이기에 더 간편한 방법을 고민하게 되었습니다.\n이때 떠오른 방법이 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"서비스를 추상화해 필요한 부분만"}]},{"type":"text","value":" 사용하도록 만드는 것이었습니다.\n자세한 설명은 아래 예제 코드를 보며 살펴보겠습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"element","tagName":"br","properties":{},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"😆 예제 코드"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"0. 기존 코드"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"예제로 채널을 생성하는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ChannelCreateService"}]},{"type":"text","value":"의 기존 로직을 가져와 보았습니다.\n로직 대부분이 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack 라이브러리"}]},{"type":"text","value":"에 의존하고 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Service"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ChannelCreatedService"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"MethodsClient"}]},{"type":"text","value":" slackClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ChannelRepository"}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ChannelCreatedService"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"MethodsClient"}]},{"type":"text","value":" slackClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ChannelRepository"}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"slackClient "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" slackClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"channels "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"execute"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"try"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// slack api를 호출하는 부분"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Conversation"}]},{"type":"text","value":" conversation "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" slackClient\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"conversationsInfo"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"request "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"->"}]},{"type":"text","value":" request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"channel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getChannel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n      "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// slack의 response를 우리 도메인인 channel 형태로 변환"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" channel "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"toChannel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"conversation"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n      "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// channel을 저장하고 return"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channel"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"catch"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"IOException"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SlackApiException"}]},{"type":"text","value":" e"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// slack api 호출로 인해 발생할 수 있는 exception"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"throw"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SlackApiCallException"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 583px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/2ddb1dfc74cc90c3fa55a323c5b7fb7c/6d62d/2022-10-10-service-ver1.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 86.60000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAABJ0AAASdAHeZh94AAADQElEQVQ4y41TSUwTYRQeNC4HF9TEmJh4VBM1MVETTfTiQSXRqEdPaoyoLMUtUdFoAtS4EpdU0IhBQWgLUdTWJQpt7ULXaQt0mVI6XabTdmDazowthSL4/rLo0cmX939vy3zzz3vY5OTU3JMdmwgwApXMUsmML85Hk9ngcIZkfoVGMhCMpUYnfv+thkYMDiqV6wvz3mgGJzklHpf3Up3GaJeFVuBxmYF6b6bfmWmwXZaYM8R7or/6wgLDj0Mj5meyGhfbZU3UKgJ1ysCdr8F730JgaxSBGgUp/hysVZJ3vgTvfg0BoEasJL84GM0AS6fHMIufazHEll7RYhU9RZWqoooerKx7yWXNtoe2LXctW+9bdz7GF1/UYOXd0wVYec/am4ZPNsYa4LD+IF8icWCnv88vtGHnEOaJVCuu65de1S65oi2u1hVV9qB4GQIqK/1+vNnlCguYPcDtfoSvrNZXyoiz7d4KKbKlbd4Tb9ynWj0nW9wnW93gnmkvoM1bJiUWXf55+HmfOyJgTpLf8cC6X+Kcyk96w4IjwOFD6cGI4CQ5ALieEB+kM/ahtDskhGOZqfHfG8SmkmdOLzQ7SH5XvW19nanDHHumijzuDoNtVEca1JGns/zlT6pBFXmupoC0G2OrqvWHGvs8kVnZxdd0Fzp9VR3E+Q5fpdwnkoNFXDTLRXKiQkaUSwn4uoWXNEfmZG+/b90ncaSTOZMvOUgJajdrH+JAai+R1HmTSHmY13pQClwuldsoNh2QOGZk76y3bbpt/oQnmrRUmzHWrI+2GGiZKf5KG32tj74x0G97aYjITfHWXvojnlh9Q3+wwTkje88jfPlVLaiCywTAhYO8Miki01LPwV+QEaVtHsgCX3BJc/TFP7e9T+KcyORH2FGWzek8rHUwZSRS/SRn8qVAvDPAGYl0KpmDgnwmv2FO9kBI2PvEvllsUrtYUK60M3JzXGqMAToKBNx31gQQSClw5kf/yJpq3bEmF3qz2Z9u0dPLpsdTpMIA59UzqCrwqgKAiFRFVWg8190yfLAl0HiG2VH1APvekoCJr5tFrQIBccXfCLJoSUiFjQGZw8I4WskRYdwfh9Ud/U/4E9lUNg+NfwCgHN7gZfWIFQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"2022 10 10 service ver1","title":"2022 10 10 service ver1","src":"/static/2ddb1dfc74cc90c3fa55a323c5b7fb7c/6d62d/2022-10-10-service-ver1.png","srcSet":["/static/2ddb1dfc74cc90c3fa55a323c5b7fb7c/0eb09/2022-10-10-service-ver1.png 500w","/static/2ddb1dfc74cc90c3fa55a323c5b7fb7c/6d62d/2022-10-10-service-ver1.png 583w"],"sizes":["(max-width:","583px)","100vw,","583px"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"1. 외부 라이브러리를 쓰는 로직 추상화"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 로직을 아래처럼 두 개의 클래스로 분리하여 역할을 나눠주었습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"ChannelCreateService"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"채널 저장 로직을 가진 클래스"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Service"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ChannelCreatedService"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"CallSlackApi"}]},{"type":"text","value":" slackClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ChannelRepository"}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ChannelCreatedService"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"CallSlackApi"}]},{"type":"text","value":" slackClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ChannelRepository"}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"slackClient "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" slackClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"channels "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"execute"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" channel "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" slackClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"callChannel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channel"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"CallSlackApi"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack 라이브러리"}]},{"type":"text","value":"를 호출하고 결괏값을 반환하는 클래스"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Component"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"CallSlackApi"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"MethodsClient"}]},{"type":"text","value":" methodsClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"CallSlackApi"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"MethodsClient"}]},{"type":"text","value":" methodsClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"methodsClient "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" methodsClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"callChannel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"try"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// `Slack 라이브러리`를 호출"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Conversation"}]},{"type":"text","value":" conversation "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" methodsClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"conversationsInfo"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"\n          request "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"->"}]},{"type":"text","value":" request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"channel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getChannel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n      "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 결과값을 우리가 사용하는 객체 형태로 변경"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"conversation"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" conversation"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"catch"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"IOException"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SlackApiException"}]},{"type":"text","value":" e"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"throw"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SlackApiCallException"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1197px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/6231f99a3718bd7e12c64c62874a341e/7e04b/2022-10-10-service-ver2.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 35%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAABJ0AAASdAHeZh94AAABtklEQVQY0wGrAVT+AOLs99Li87/X7azK5q/M567L56zK57TQ6crd8Obu+P3s4vrbx/raxfnTuvfJqffJqvnUvPraxfrcyP3z7ACxzup8sd1Zn9VWnNNlpddrqNhcoNVXndNipNe82PD62sTzrHzyp3TzrX/zrX7zrHzzqnnzp3T0sYT64tIAaKXYD3bCFHrEGX7GKofKMIrLHoDHGn7GBnG/fKrV87mW7X4y7YhE75BP8JVX8JVY7otH7oZA7YM698usAGam2EeU0L3U7a3M6KrK6KzK6KvJ573W8Jmz0ntohtOAYPa4i/jVv/jOsfjNsfjPsvjPs/nZwvKnc/fFowBmpdhAj86vzeqjxuaexOWhxeadw+W0z+p9sdxyq9r1u5Tzq3r3z7P3yar3yqv3yan3yan4zrLyomv3xaQAc6zbPI7NeK/ccqzbbarZb6rabqrZfrLdV57Ugrji+cSg8aBn9LOH9LCD9LCD9LCD9LCD9LOI8Zth+MyvANPk86rM6Ye64I294o294o294o694oq84ZC+4tvq+P7r3fbAnPa6lPa8lva7lfa7lfa7lfa5kvfGpP3y6pNaMCqKGhMgAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"2022 10 10 service ver2","title":"2022 10 10 service ver2","src":"/static/6231f99a3718bd7e12c64c62874a341e/7e04b/2022-10-10-service-ver2.png","srcSet":["/static/6231f99a3718bd7e12c64c62874a341e/0eb09/2022-10-10-service-ver2.png 500w","/static/6231f99a3718bd7e12c64c62874a341e/1263b/2022-10-10-service-ver2.png 1000w","/static/6231f99a3718bd7e12c64c62874a341e/7e04b/2022-10-10-service-ver2.png 1197w"],"sizes":["(max-width:","1197px)","100vw,","1197px"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"2. 추상화한 로직 인터페이스로 분리"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"좀 더 편리한 스텁 객체를 만들기 위해 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ExternalClient"}]},{"type":"text","value":"라는 인터페이스를 만들었습니다.\n기존의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"CallSlackApi"}]},{"type":"text","value":"에 존재하던 로직은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ExternalClient"}]},{"type":"text","value":" 인터페이스의 구현체인 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"SlackClient"}]},{"type":"text","value":"로 옮겼습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"ExternalClient"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"외부 라이브러리의 로직을 추상화한 인터페이스"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"interface"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ExternalClient"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"callChannel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"SlackClient"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack 라이브러리"}]},{"type":"text","value":"를 호출하는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ExternalClient"}]},{"type":"text","value":"의 구현체"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Component"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SlackClient"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"implements"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ExternalClient"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"MethodsClient"}]},{"type":"text","value":" methodsClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SlackClient"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"MethodsClient"}]},{"type":"text","value":" methodsClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"methodsClient "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" slackClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"callChannel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"try"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Conversation"}]},{"type":"text","value":" conversation "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" methodsClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"conversationsInfo"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"\n          request "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"->"}]},{"type":"text","value":" request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"channel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getChannel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"conversation"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" conversation"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"catch"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"IOException"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SlackApiException"}]},{"type":"text","value":" e"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"throw"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SlackApiCallException"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1192px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/d40d3c3babceb5f8800be2be7348675a/bb7f4/2022-10-10-service-ver3.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 33.800000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAABJ0AAASdAHeZh94AAABaElEQVQY02O48ODT3qtv155+DkTrzjxfc+r5hrMvDt54d+Pp55+///7////ff5yAoWbD3bC5V0LnXE5afC17xY24hddCZl8On3dl8v4nX3/8Bqr4+/vnvy9v/35+8/fLOyD69/X9/39/oJr5yg7xVhwWqT6q3HxCt/O0fOMJIJu95KBB+6m3t6/8OLH8676ZX3dN+rZ3+jcgY+/0rzsnfjsw5/vx5X/fP2NwmHhu24VXa06/WHHi+cqTILT+7Ks1J59mZU84UFnwqtnhbY3e22brD5OCP0wMfN/n87bB9G213vsez9/PbzJY9Z5ZferFkuPP5h95uvDo03lHnqw6+XzOoSeeE8++vH3zz+0jP28e+XXz8M/rB0HoxqFfIO6RX7eOAj3CYNp9pmPH/aat9yo33K3ecLdqw92O7Q+qN971nH75wzeQn//hDjGG/j2PslbcLFh9G4rWAMlbQJHlJ1/8wh/a//4BAKS3S5BGJJv8AAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"2022 10 10 service ver3","title":"2022 10 10 service ver3","src":"/static/d40d3c3babceb5f8800be2be7348675a/bb7f4/2022-10-10-service-ver3.png","srcSet":["/static/d40d3c3babceb5f8800be2be7348675a/0eb09/2022-10-10-service-ver3.png 500w","/static/d40d3c3babceb5f8800be2be7348675a/1263b/2022-10-10-service-ver3.png 1000w","/static/d40d3c3babceb5f8800be2be7348675a/bb7f4/2022-10-10-service-ver3.png 1192w"],"sizes":["(max-width:","1192px)","100vw,","1192px"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"3. 스텁용 객체 생성 및 적용"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"스텁용 객체를 생성한 뒤 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Component"}]},{"type":"text","value":"를 이용해 bean으로 등록하였습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Primary"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// SlackClient 보다 우선 순위가 높은 bean으로 등록하기 위해 붙였다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Component"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"FakeClient"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"implements"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ExternalClient"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"List"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" channels "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"List"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"of"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 채널 데이터 초기화"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Override"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"callChannel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"stream"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"filter"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"it "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"->"}]},{"type":"text","value":" it"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"isSameSlackId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channelSlackId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"findAny"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"orElseThrow"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"->"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SlackApiCallException"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"4. 테스트 코드에서 모킹 제거"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"스텁을 적용하였으니 이제 모킹한 코드들을 제거해주는 일만 남았습니다.\n전후 코드를 비교하여 코드가 얼마나 깔끔해졌는지 확인해보겠습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"AS-IS (목 적용)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Test"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"void"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"execute"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// given"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Workspace"}]},{"type":"text","value":" workspace "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" workspaces"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"WorkspaceFixture"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"JUPJUP"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"create"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" channel "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ChannelFixture"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"QNA"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"create"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"workspace"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" request "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"createRequest"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channel"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"given"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"slackClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"conversationsInfo"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"RequestConfigurator"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ConversationsInfoRequestBuilder"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"any"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"willReturn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setUpChannelMockData"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channel"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// when"}]},{"type":"text","value":"\n  channelCreatedService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"execute"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// then"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Optional"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" actual "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"findBySlackId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channel"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getSlackId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"assertThat"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"actual"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"isNotEmpty"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ConversationsInfoResponse"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setUpChannelMockData"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" channel"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Conversation"}]},{"type":"text","value":" conversation "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Conversation"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  conversation"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channel"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getSlackId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  conversation"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channel"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ConversationsInfoResponse"}]},{"type":"text","value":" conversationsInfoResponse "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ConversationsInfoResponse"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  conversationsInfoResponse"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setChannel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"conversation"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  conversationsInfoResponse"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setOk"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" conversationsInfoResponse"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"TO-BE (스텁 적용)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Test"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"void"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"execute"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// given"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Workspace"}]},{"type":"text","value":" workspace "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" workspaces"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"WorkspaceFixture"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"JUPJUP"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"create"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"text","value":" channel "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ChannelFixture"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"QNA"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"create"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"workspace"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" request "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"createRequest"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channel"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// when"}]},{"type":"text","value":"\n  channelCreatedService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"execute"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// then"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Optional"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Channel"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" actual "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" channels"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"findBySlackId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"channel"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getSlackId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"assertThat"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"actual"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"isNotEmpty"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"element","tagName":"br","properties":{},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"😉 마무리"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"해당 글에서는 테스트를 간편화하기 위해 서비스 추상화를 진행해보았습니다.\n서비스 추상화는 이 외에도 다양한 목적으로 진행할 수 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"객체 지향적인 코드는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"단일 책임 원칙"}]},{"type":"text","value":"을 준수합니다.\n기존의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ChannelCreateService"}]},{"type":"text","value":"에서는 ‘Slack 라이브러리 호출’, ‘예외 처리’, ‘채널 저장’ 3가지 역할을 하고 있었습니다.\n개선된 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ChannelCreateService"}]},{"type":"text","value":"에서는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"SlackClient"}]},{"type":"text","value":"를 통해 채널 정보를 가져오고 이를 DB에 ‘저장’하는 역할을 합니다.\n‘Slack 라이브러리 호출’과 이로 인한 ‘예외 처리’의 책임은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"SlackClient"}]},{"type":"text","value":"으로 옮겨갔습니다.\n이렇듯 서비스를 추상화하면 이전보다 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"코드가 간결"}]},{"type":"text","value":"해지고 작업의 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"목적이 분명"}]},{"type":"text","value":"하게 드러납니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"각 오브젝트의 책임과 역할이 더 분명하게 분리되면 변경 사항이 생기는 경우 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"변경 포인트"}]},{"type":"text","value":"를 쉽게 찾아낼 수 있습니다.\n이제 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack 라이브러리"}]},{"type":"text","value":"와 관련된 오류가 발생하면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ChannelCreateService"}]},{"type":"text","value":"가 아닌 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"SlackClient"}]},{"type":"text","value":"를 살피면 됩니다.\n의존되는 외부 라이브러리가 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Slack"}]},{"type":"text","value":"이 아닌 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"카카오톡"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"라인"}]},{"type":"text","value":" 등으로 바뀔 수도 있습니다.\n이 경우에도 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ExternalClient"}]},{"type":"text","value":"의 구현체를 생성하면 쉽게 대체할 수 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"element","tagName":"br","properties":{},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Reference & Source"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"토비의 스프링 3.1 / 이일민"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"대표 이미지: 피에트 몬드리안의 추상화 작 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"브로드웨이 부기우기"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"😘 서론 우아한테크코스에서 사용하는 협업 도구 중 하나인 은 무료 프리티어 사용 시 3개월이 지난 메시지들을 보여주지 않습니다.\n레벨…","timeToRead":5,"frontmatter":{"title":"서비스 추상화","userDate":"10 October 2022","date":"2022-10-10T12:00:00.000Z","tags":["service","test"],"excerpt":null,"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAYDBAUJ/8QAGAEAAwEBAAAAAAAAAAAAAAAABAUHAwb/2gAMAwEAAhADEAAAAfS2jmO/MOkgGQDvfSQwF1xMnf8A/8QAGRAAAwEBAQAAAAAAAAAAAAAAAwQFAgEG/9oACAEBAAEFApyIWH6NUiT5VNlaSAy601Oo0g8ON0qGcha87SPQ033HN//EACMRAAICAAYCAwEAAAAAAAAAAAECAxEEEhMhIjEAQSMyQlH/2gAIAQMBAT8Bco8lYjEfEsUS8w+SJGYZxUcaOTG/DhSvVoZVZXOmNqnmjFDgrugGw/LvmF90a72AFAHePGk7kJCoJ7C67CgfQpQK6oD+eQM2jHyP1Hs+f//EACMRAAIBBAIBBQEAAAAAAAAAAAECAwQREiEAEwUUFSIkMbL/2gAIAQIBAT8BoTKvo4Y6OGX7UsUjRmVZLiFOpmTvbMCNTLMbSThlxPXhJG3ulcNdFFqw3EjkEAAgurOGZSCGOTbH6d8plEcVGEAQNXKzYDHJpPEVErsbWuzys0jk7aRi5uxJ55LVdUAa+S/wvP/EACoQAAICAAQFAwQDAAAAAAAAAAEDAgQREhMhAAUUIzEVIiQyMzRBUVNh/9oACAEBAAY/AhbfdlW6JymhaDPpJqpmJSHxGn7rJtuFquIlfbTix2HCZUU1eZQt8x5LQsZK9ginUcLXU3vjxYOyIjdktH+xqo4cXpzmFxN2xo6aFsE1CeGpl6SMk5mBnanNxwwZqmLIxjbsq5hcrQjZmFUJV4RWv06zWaxqWIWyy6tzNbZV357DFyX+MuMs2axQoWl0mQ6GU5iVtPb1GSkIrjoMWXZRFhOK2Ljt/tuULLMa92zTbFsXELdWaVsgjREvjg/b1Dq7nMBsOJGAOea7onMsaZzyNXCOY598BDEHyCThw+04RDPU7dLtzsZSrl99tZEjnfMmZXEanuyGX0wiNuI9lO4mT7f2XuxPnyfJ/k78f//EABkQAQEBAQEBAAAAAAAAAAAAAAERIQAxUf/aAAgBAQABPyFzBRVWNgHYSNKYpcbiwU01LICTaj7T0F0JgO5gP460mFkKTT88sMjM/D8KwMacX3izBWoOkpQ6UBkTAOnxIKVAgWzNgwaE0E6Sk9gQeu60n2VPUVqvf//aAAwDAQACAAMAAAAQiwC+/8QAGhEBAAMBAQEAAAAAAAAAAAAAAREhMQBRQf/aAAgBAwEBPxCNlbPiXxOEpdEnzEdBkXtLCykuJCQMSQAZKIQQDiABIBsrZtd1bX633//EABkRAQEBAQEBAAAAAAAAAAAAAAERIQAxUf/aAAgBAgEBPxCiMMMXeZNW4PgUjsVBRDKBLNWUlbxgAryKRSFQEAQABgBMAwCEDyHzv//EABgQAQEBAQEAAAAAAAAAAAAAAAEAESEx/9oACAEBAAE/EPP3qsiV7nyTUImomGO1oieRNIJqsBQIAo1dEGT8bYFZe1LQyA0nHFjAP1HAa7bKYGeLLfv4E27DNBC293JNlP8ArXCIf51TABcvwFfphVz/2Q==","aspectRatio":0.9986979166666666,"src":"/static/77f1d37449b320280894d28b07fe5aa8/eb689/abstract-art.jpg","srcSet":"/static/77f1d37449b320280894d28b07fe5aa8/eb689/abstract-art.jpg 767w","sizes":"(max-width: 767px) 100vw, 767px"}}},"author":[{"id":"4기_연로그","bio":"우아한테크코스 4기 연로그(권시연)입니다 :)","avatar":{"children":[{"__typename":"ImageSharp","fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABJ0AAASdAHeZh94AAADa0lEQVQ4y4WU7U9TZxiH+Ru2QUXYCoy3QltaWtpCX6RSWksLCDUSiEPBMoQMRQILY0RhyrpMGIFtSHC4GReijrGFxE8zbmbbh2Vxy2IMKnHxgyJLRup8A0kP1wql5aU03smTc577Puc6v/s5v+eJIkIsLS2tjOUQBGFDzefzhWrBazCiIkE2wx4/fcb09DSPHnk3PL8ZGhUJtn4+NzfHh22HMKllyLMUDA+fDnsnBFwPEfytLLcTDEEI3I+NDDDedZCmqmJi414nOvo1vpuYCGs/pHDzV5bjvB9yZ+oGwuILzvcc5evjh6jbswulMhuxWExbW2toSTYAg5Onj//j5x8mufn7VS6NnGR/cS6zs7P8M32Ts60HmOxr50Sdi6QEMXHx8bjdB7dsOwT0zv3LlckLtNfYeMuuoro0H5+/9Pf1XxmsLeVizxFqHSZiY2KIEcVQV+feGhhIrtni4kgvlRYFzp15CC+eM/bFEPWOXGqsGlQpiaQmp5CQmEjz4cORFa4M/2Tx2RO+H/0UZ76GI1VFXD43SEFBIbnSVEba9lFRoEYk2s42kYh6d+1LgKt+u/fHj/w23s9PZ7tp3+/EkCPHaZBz5lgTORo7r7y6jfjtsbhKHMzPz4f7cM3AAYs8mbnN9fE+vjrZTIXNQMPeAhornFjszWh3eUiXmZGkpWE15/NwZiZsJ0Wtl/x8YZGJ0X4GWquxGfOQS1KQZiopKP8Ene0E8rx6kjML/bZJ8itXcOfWVDgwaM7luHL1F/QaLXqdCYVUht2ch3ZHPYbiAVTmd0nPriRZVky0KIEyq4nZB/e3VujzBRL9Q5eRqveSlGHDbinkvXcaMJf1YSobQrmjhdTsfUg0tbyZoqLGZcXr9UZeQ3+WhrZzZBmayVBX0tlwAE9HN/rSzzGW9JEkdSHTNyH11+VyHfV7DNy7eztst6wAg5LHvrmGyvQ2OVoLvS2V1LpPkVcyQLqqimRFNcqdHWisx+nq/ojPPK3cnfozHLjmpYDQlvdHyTIepbyqB73Dg8LYyBuS3WjtH6Mr6kVt6eSvG7dWDwYhzIuhvywIgcTpL6+hLRok33WGXGsHYomDbIsH4+5hVJYu1OZG7j94uKrsJcfX6mLywalv0RV2kqmuQG5s9bd6DHFGOXFpLgxWNwsLCxEP2P8BUHiiJ/0HxRQAAAAASUVORK5CYII=","aspectRatio":1.0526315789473684,"src":"/static/d958de51fda2fab5c97e3aba9feeee2b/bc8e0/yeonlog.png","srcSet":"/static/d958de51fda2fab5c97e3aba9feeee2b/22f7f/yeonlog.png 40w,\n/static/d958de51fda2fab5c97e3aba9feeee2b/587c9/yeonlog.png 80w,\n/static/d958de51fda2fab5c97e3aba9feeee2b/d966b/yeonlog.png 120w,\n/static/d958de51fda2fab5c97e3aba9feeee2b/bc8e0/yeonlog.png 800w,\n/static/d958de51fda2fab5c97e3aba9feeee2b/7d5e4/yeonlog.png 2120w","sizes":"(max-width: 800px) 100vw, 800px"}}]}}],"source":null}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"b3f5c9f9-388e-5b0e-97b9-11425d949bdf","timeToRead":5,"excerpt":"😘 서론 우아한테크코스에서 사용하는 협업 도구 중 하나인 은 무료 프리티어 사용 시 3개월이 지난 메시지들을 보여주지 않습니다.\n레벨…","frontmatter":{"title":"서비스 추상화","date":"2022-10-10T12:00:00.000Z"},"fields":{"slug":"/post/2022-10-10-Service/"}}}]}},"pageContext":{"slug":"/post/2022-10-10-Service/","prev":{"excerpt":"서비스를 개발하다보면 하나의 서버 애플리케이션을 다양한 환경에서 실행할 일이 생깁니다. 그리고 H2 DB를 사용하는 테스트 환경과 MySQL DB…","timeToRead":9,"frontmatter":{"title":"Spring Profile: yml 파일 하나로 프로퍼티 관리하기","tags":["spring-boot","yml"],"date":"2022-10-04T17:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":2.039473684210526,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACsElEQVQozx3SyU8TcRjG8fmnjEcPxrs3jVtcsKBQEcUFFZWWBAgitC5EgwYsEKEFKYtUKJdGEauytrTFttNhmHa6zLRDifH29aeH5/BePnnevK908YmXK70TND+fxNE/gWtgnHfv3uMbHmE1OI0ZX0b++pF0yE82PM9BLMifzDq/izqVTAJLS3NglalaFhWzjNTQM0qTa5z7/R9oH5jm6eAsrzwzjPoC/Ipssp8Ko35fQAkvkV1dovrDx+/Ed8pallIyipXbpVqp/MeMkonk6u3H9fQlfU+e0dvtoqfbTUeni8BsgOTaT5am/Hye8pFaXhRQCCO6hpHJUNJ0SqpKXslQ0AsYRplCQYBvn79l6OUgI29GGfP48E/MMTcXZDsaJ7GxzvJikPBCgM3gLHtLH8knkpgFA03Nk4zsoOz8QhdQvmiiqAWkvtYuXC3tuG8+5FnjPdytHbwZ8OAZfM/r18PMeKdIb66ibG+hhRbJxlPsKVnkpEpsK46cVlBzBopWJKNmka7ecdJ4v4OWth6cHW7cL0Tj0Uk8I158Xj8rX8LIkTW2voZQJofQvq2g7erE4grb6xGSskZGYJqep2TkkY6dsXP0VD1HTtRx6PglDovYbzmotd+lpvY6Lkc73+b9JEIzqPNjomESVf0H7hJZj5KSVfRSgbJlcHBgITketeJ4/AhHWxutj0WcnXR29dHc4uT6bQddzm6WfYMkp0W7YICsoqMoOSJRmdjGBjlxZWvfpFoVlxao1FBXR73tMvU1F7l2+QK3rtZw6fQJzp4+x42GJha8Y6RXP5MI+sl/8iPHZGSxZmw7gabsYFklARqUK0VMU0eqbWzBfvMB9uaH2JoeYBPzeVsjJ8/aqK+9xvzwEPLGConAOKm5GfYyGnu7MkXx2PsCq5TzlEX+YaaR4y9+u3oZXWX15QAAAABJRU5ErkJggg==","sizes":"(max-width: 1790px) 100vw, 1790px","src":"/static/d063012e17ba6cd472f6b623829cc06f/72e53/active-profile.png","srcSet":"/static/d063012e17ba6cd472f6b623829cc06f/3a443/active-profile.png 930w,\n/static/d063012e17ba6cd472f6b623829cc06f/72e53/active-profile.png 1790w"}}},"author":[{"id":"4기_정","bio":"우아한테크코스 4기 정(정진우)입니다 :)","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAYIAQQJB//EABUBAQEAAAAAAAAAAAAAAAAAAAMG/9oADAMBAAIQAxAAAAHvFViZVenq3pgwoZLTgoTejhR//8QAGxAAAgMAAwAAAAAAAAAAAAAABAUAAwYBAgf/2gAIAQEAAQUCuYg0FAbPTkbieiseqcTHNiLNRLRx7uU2TRIbp//EACIRAAEDAwMFAAAAAAAAAAAAAAIBAwQFEhMRIVEAEBUiMf/aAAgBAwEBPwGi0yG5AnzJE2k5PHTlZgzDNqblaZkGLkUSMAdBcN2dvIo2vNpjJkyLpCLA4Ny23s+uq6bI8qbfNlIlTjVeV7f/xAAiEQACAgEDBAMAAAAAAAAAAAABAgMSBAUREwAQFDEiMlH/2gAIAQIBAT8B1LUo4cvGxjkSYzeXAlkkxqTcgR+JxIjvcoJGES0cxqZfkn16KJyq9FvR1tUW2LRsRb3tZEO36in2o7f/xAAoEAACAgEDAgQHAAAAAAAAAAACAwEEEgUREwAhECIjMhQxM0JTcoH/2gAIAQEABj8CRSdbrruWe9esbRFzY7xuC5nKY3Eo3+UlGMebt0WkO0Mo0/N1LBTY40pTY9TVztGGFklhsLEVyiA5IV3LZpdUNUVqRUtRpNeynXBXP8cMqwsASvZslZcnI70h84REtYHWl3M7Nib1tgNJot88XoOHnAt2gdixazj2gRVHbGI8BlyEtkPZLFgcj+skM4/zp9rT6UBasfUstInOx/GomTMIVP3LRCxOdpOCmI8P/8QAGRABAQEAAwAAAAAAAAAAAAAAAREhABAx/9oACAEBAAE/IRy7pL+WGoNAYS5sYrdhmsmC6gtfoLziagLBFoAj5xn7DZoiEvpVjqnr7S1C2WcpSoN71YE0EEAOf//aAAwDAQACAAMAAAAQSMgA/8QAGREBAQEAAwAAAAAAAAAAAAAAAREhABAx/9oACAEDAQE/ELSyAm+/gYII6c9yVtXa1WwGnI05/8QAGBEBAQADAAAAAAAAAAAAAAAAAREAEDH/2gAIAQIBAT8Q5jOjkT3Cu0UHRylAGpJKJa9RaKTP/8QAHRABAQEAAgIDAAAAAAAAAAAAAREAITEQUWFxgf/aAAgBAQABPxBPyydnFOcGmwyPJGRAEzZzCLqcnr4e/wBxZlJkET0OSKS6p7EZzfjsTCoXuF+5lbAHVFtJo0wqwyk/R6GBMPEclb//2Q==","sizes":"(max-width: 571px) 100vw, 571px","src":"/static/c23bd5a42e55c55255c0c206c571a0c8/7c5ff/jeong.jpg","srcSet":"/static/c23bd5a42e55c55255c0c206c571a0c8/fd013/jeong.jpg 200w,\n/static/c23bd5a42e55c55255c0c206c571a0c8/25252/jeong.jpg 400w,\n/static/c23bd5a42e55c55255c0c206c571a0c8/7c5ff/jeong.jpg 571w"}}]}}]},"fields":{"layout":"post","slug":"/post/2022-10-04-active_profiles/"}},"next":{"excerpt":"속닥속닥 프로젝트(https://github.com/woowacourse-teams/2022-sokdak…","timeToRead":4,"frontmatter":{"title":"좋아요 개수 조회 최적화하기","tags":["MySQL","동시성","반정규화"],"date":"2022-10-10T13:10:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.411764705882353,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAkGBwj/xAAVAQEBAAAAAAAAAAAAAAAAAAAFB//aAAwDAQACEAMQAAABaDmplsJSqFqgGy//xAAaEAACAwEBAAAAAAAAAAAAAAAFBgADBwIE/9oACAEBAAEFAtRbii1cvag1+zqEBQstWLSFMPZP/8QAHBEAAgIDAQEAAAAAAAAAAAAAAgMBBAUGEhAT/9oACAEDAQE/AdQ2zTsNiLlTO6uOYvMXzXcVPEOGZlriLqzcrMuVZlbFL7rkZDCI+UJJhn5//8QAHREAAgICAwEAAAAAAAAAAAAAAgMBBAURAAYTFf/aAAgBAgEBPwHL2KV/qnx6SDx2bhbBjMLFE7Ydqy4XSYCu3BAlqEeUuNUjWjUB6M3z/8QAIhAAAgIBBAMAAwAAAAAAAAAAAgMBBAUGERITABQjECQx/9oACAEBAAY/AtK08dmMLgAzd3JKtZfOVWWqlYaVIHpXIrn5+w0+vtKNhLhuQDJT5UfY1Fpe8tzlR6CKHr3mAVz15+ckJr3X955cWCow2Ej5APgKymNoZJSz7FryFOvcWtm0j2AFhbBE+MyPIYidpmP545uP09iENfcZelsUUmxb2TE/rm2DKqkJGJTXrytCJ36ljvP4/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAIXHR/9oACAEBAAE/IQpLb7JvBTZqAuxIsMQjbC49N+u9B2+JiiCM0mTYxgJ9mANltt//2gAMAwEAAgADAAAAEEAP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EEcsQf8AmIraNJv/xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQIBAT8QKosgZIqmi2in/8QAGxABAAEFAQAAAAAAAAAAAAAAAQAQESFBYYH/2gAIAQEAAT8QVJbxiZxKwLkpmpAzl2AfCY/bwPBQl0oasM0l8gYajv1lf6vj8xW6f//Z","sizes":"(max-width: 600px) 100vw, 600px","src":"/static/d89fd18e3c827ae4fc4d29f42a812cea/c3638/likes.jpg","srcSet":"/static/d89fd18e3c827ae4fc4d29f42a812cea/c3638/likes.jpg 600w"}}},"author":[{"id":"4기_토르","bio":"우아한테크코스 4기 토르(손인준)입니다 :)","avatar":{"children":[{"fluid":{"aspectRatio":1.2820512820512822,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABJ0AAASdAHeZh94AAAD2klEQVQ4yzXTW09aWRjG8f1NJpmrSeZmrjrpxfRuDkkzSXvRTDqdtNODx6KCgIJQFRAQD6CcDwIbxQMCntBWEEFQAUVorReTzJf5z4JpL35Z736z1nre7OwtKYJ1ugJ1hr5Q+Gu89V12DXovGPCc079cpW+pQq/rjJ7FMq8XSryaL/K344QXswWe2/L8Zf2ANCrfoP4qfsNovMloTIheo+pYuWIk3GA4VBNEYLAmQi9F6AWDvnMRVqXfLYKWyvQ4S0jG1Ec63m39z9ix2cbQsdFGn2yK/ieM23eMrV4zvtpEm7gW4VciuCFC6ygjNRF6KcIukBy5z3QdfGZWsO9/xrZ/i23vFku2zdyHf9GFjhixx0TvDlu2hSXdYjJ1I4KaIrTJxPo1urUrEVhHSpzeslG6JVW+ZVNIijopevLJJ1HfETio8+aNArfVRqL8D7HjFrF8m+D7Ft7DG5z7Nzh2msxmr7FnrpC2Sy2y5Ra7Zy32Ky12Km2yos6etclUP/H62R/8cv9H5sZG2CtVkYsfkQtNovkmK0LowzX+wwbeXAOPCJfSpw06siWhUxfrZIo1jhp32OfmefD9N9y/9xMhxRMuj0KsF1ukCufIuQqe9ff4U3mieyWC6QKL8gFS8rjORr7OVqHOdqEh1gabHSfipWvG+f3hI149e07g1T3yazNEC21WcueEcxf4ds66/LsVvDtlnKkiUliMGc/VSRzWkQ87dY2YeI7sXTDtkvnu3iMe//ozGXs/maMCgd1LQrvnuDNVXOkqjq0Kto0ytvUSM8lTJMt6lRnB+mW1JCuYV8+wb9VQL2X59offePJSRWjtAJNcxiyfCkWmYkUmoycYIwX0oTy64DG6gPiwDeECXxm78hhCx5ji4m8whnnweBiVLc6kODjuPcTgP+quWvchmuWcCD1g1LWPyrnHyMIuks6To0P/hc59wPjSvjh4TJ9+iacvelFM+Rh3ZdA6d9AsZtEsZFHPZ1DPpVE5thmZTTFs30Jh3URSiaZ6Po1G0C6k0TkzTDi3mRATGE0W/PY/iYW1WL1RlPZt1LPrqO0bYuokSmuS4ZlVhiwJ3ppkBqbjSIPmNfqmEkKnkeg2B6aj3brn5VNc5tdsBIdY9PjRzyYwzCUYs8uMWmKMmFYYFhRTEQYnQ/Qbg0ha+ypaW6JrzCajnomjNK90N6t1ZlwWA6seHW63n2lHhKm5GHrbCqPmMCpTCOV0kKHJAINGH716D5LSHEFlERsEtaCxRNDORNBYY0xYAzgc8/iWXbyz+bsXqE0BVNMBlFN+hid9DL3z8tbgoV+/TO+4i/8AfhB40Og5Q50AAAAASUVORK5CYII=","sizes":"(max-width: 800px) 100vw, 800px","src":"/static/bd31c23826dcb344340755bc4cfc82a0/bc8e0/thor.png","srcSet":"/static/bd31c23826dcb344340755bc4cfc82a0/8ac63/thor.png 200w,\n/static/bd31c23826dcb344340755bc4cfc82a0/3891b/thor.png 400w,\n/static/bd31c23826dcb344340755bc4cfc82a0/bc8e0/thor.png 800w,\n/static/bd31c23826dcb344340755bc4cfc82a0/90fb2/thor.png 1060w"}}]}},{"id":"4기_이스트","bio":"우아한테크코스 4기 이스트(신동훈)입니다 :)","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAFMklEQVQ4yzWTa2wUZRSGv4UgSlARIxTk3kBFRf0HaKzRGMUIAUWDRu5EIbUpLQSQawERECxQguVW6Ha73UtnZ6+zOzs7l71Md7e73baiFGPCX/1Hwg+i0O1+r2cq/njzZTJnnvOe93zDAsEeFgh6LY0T/d3MH3AzwedY5fbaVbev657Ta//n6o22yg3HVd7hbH/Y7rh+3+GyF11u+7b3m1Yzn8/FQkHfeBKTYxHGQiEfs6DhkGjzB7zMJzqXCb4u09vTCTrR3LwfW7dtwv6D++D22NHt6iDZ4fE47nh7uj4NBAXm7rbT935bVAqNAcdFQj5biF4QsM7vd0MUXZAkoXL27A/lpyY/W5kwYSJf/sbrfPvX27hf9JR9gqssim74/V4EA8K5cDjIQgGRSZGgjYUjfhYOiywUFuvINgiMgN9bVtUo39XYgNoli3n9ujW858QBfrixngs+LyIhP4+EA6NSxFIQMSl0SY6FWSIesRE1xMjqUkkKggpgFYaCIlRV5seaD/GfGzYjcvYIXAcbEaFRZTnKCcDjMQmKHK0o8WhZiceQUOJbVCXOKEhpFcmkQCFHw+VYNIxoJMhjsgx/xyW4m3fgcv0GOA7tRlwKI0Efq4oMXVW4riZgaOqooWtIGtpfmZTxHNmUEySr0OrGCc7jchQJmRrYW+HYvxXXD9ZDEnugqQo0JQ6DQClDQzpp8EwqCdJIbzqFbCazk2kJ5R4JpHKCOqtKjOdTMgoZGaYWhuxsQ2/EhaxpQP8fRo4ySQP/QdIWqJLvNdGXzQ4xsvw3ybJeoRx4xogjn5SQMyT8kjcw1JfEUF7HbwUDA7nkGCxt6GOwnJkBgTiBLBgv5vOcJXW9kqSCpK5xcslzaQVGXIASdiGnSxjMqiiZCu4MmBguZZBNG2Pusum0BUMhl7PEh0oDGCj2c5YyDJ4ykgTUrZB53kzQuDFEhBtQQt3oS0ZRTMfQb8YJTO7TKkyC9ZIGigWIgh8njp3iYo9IDXIWMPnQAlpgXVV5Np1Arx5BPGCHJFyDqQg0uoYSZapLLiSVII1q4nFmON58ijc27MGunXu5x+mBBbw/BtSNsqZqdCrcJGA+Rc4yUcoyNCY15oPsuIi8/zoKBBvsL6Krsxvf7mjiuxv3Vb4/ehK5TO9da+QCjUtbVkdJlGOcd3a048L5c7jWdgGd7RfQ030FVy61wNF6Er62HxH3OMllFvv2NvP6ul2or2saETwCfh8ePsZ0VdtqqNownY+hCbS1XeIXW1vIwWUInpu4dvk8Th4/hJZTR7Bx/WdYufJjrPtiI1/x7grUr99cOX70FIq5vge0mHnsJyfoLqqfkMaABK5Egh6CtvADB77D5i1bsGH9V9i7pwmfr12D2tq3sLz2Pb567Zc4ffwEF7ucj5JakiIoHb596xajPyVBd9FgqqK2qEqCtm2UnV2O0aXL3sSs2dWYXjWLT31+OqZVvYi3a9/hR44c5edaWq3tVoZ/vf1oqDSIwWIpBoAJbj8jd9r4sE9gCoEJftFaUFdnFxZULx5ZVPNaZf6CGsyYMYdPmz6TPzFxEs6cPlP5Y3h4JG/2wlIhm4uRkScLuT5GslnjWu5sKc1kg6V+ZqYzm7xu75+Lal7B7DnVWLjwVV41Yza5nY9Jk6fw7d/sQKmvYN2KB/ne7CElEGYD/f2sP18Y199XYDSuPgbVFJXZb3bYrAhEQZxS89KShrnzagaqq1/mVVWz+QvTZvKnn5mKDz/46C4BjyXiylwLMDQ0yIr5PlsxX2DW878QOz5xu24abgAAAABJRU5ErkJggg==","sizes":"(max-width: 800px) 100vw, 800px","src":"/static/bde349dfae12c41c549e6f69a3b03084/bc8e0/east.png","srcSet":"/static/bde349dfae12c41c549e6f69a3b03084/8ac63/east.png 200w,\n/static/bde349dfae12c41c549e6f69a3b03084/3891b/east.png 400w,\n/static/bde349dfae12c41c549e6f69a3b03084/bc8e0/east.png 800w,\n/static/bde349dfae12c41c549e6f69a3b03084/6050d/east.png 1200w,\n/static/bde349dfae12c41c549e6f69a3b03084/00405/east.png 1600w,\n/static/bde349dfae12c41c549e6f69a3b03084/8f131/east.png 2583w"}}]}}]},"fields":{"layout":"post","slug":"/post/2022-10-10-like-count/"}},"primaryTag":"service"}},"staticQueryHashes":["2130001345","4041952199"]}