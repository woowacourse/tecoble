{"componentChunkName":"component---src-templates-post-tsx","path":"/post/2020-09-01-loop-async/","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVQY003Qvw7BUBTH8YYgLCKExWw1IczEwAtIJCa1GJuyCalI/EmERUgHi5cxeI8uTTt1aHp9r9wmhk/OOfee/HJzNd/3Dc/zutS24zgZIUQpiqIt9YY+vUb9+eur6Kh5GN9LGkEn2DBd1y1zmGfxjjf9AFm1XEQCBe6aVBMVLJHiLBcHTiHwQS0MQ/mSOlYsjPDCAjOMccUFR3Z0NdvYISkDW9jAQi8IAhnYgAyZ4wELEzUfcFZfYmCPJ9ZIfwG9owW1fLgCkwAAAABJRU5ErkJggg==","width":400,"height":88,"src":"/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png","srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png 1x"}}},"markdownRemark":{"html":"<p>우아한테크코스 백엔드 과정을 하고 있는 필자는 프론트엔드(자바스크립트 및 기타등등) 왕초보다.\n초보가 우테코 내의 프로젝트를 하는 중, 루프를 통해서 요청에 대한 응답을 동기적으로 처리하려다가 발견한 사실이 있다.</p>\n<p>우선 예시 코드를 살펴보자.\napi 요청과 유사하게, 실행될 때 마다 소요되는 시간이 다르도록 구현되어 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">delay</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> randomDelay <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">100</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> randomDelay<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\nlist<span class=\"token punctuation\">.</span><span class=\"token function\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>간단한 예시이므로 delay() 실행에 따른 각 결과를 출력해 보았다.</p>\n<p>물론, 실 서비스 코드였다면 delay()는 api 요청에 관한 로직이었을 것이다!</p>\n</blockquote>\n<p><code class=\"language-text\">async</code>와 <code class=\"language-text\">await</code>을 붙였다. 그러니 당연히 처리 결과는 1, 2, 3, 4, 5 순서일 것이라고 생각했다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 93px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 270.96774193548384%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA2CAYAAADH7bkwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADmElEQVRYw6VYS08TURTu3sSFIQj0Me1MO31OpxQK8pbyCkVAEIqggDyUYEwMQSIxYnwtNC40MXGhISYm7l0ZY1z6vz7PuW2hRO70dro4ubntzel8c79zvu/UEw6HcV6EdA0dmWHcmHwK2+qhfRCys9XhOf+LiEjQmcnj+sRjbBePEQi2IUKf153QMAwRkUgULd6LGBvcxPjQNgJam/ghV08YCZvway2YHN7Fk52/6MqOQzdCjUAOQyfIHZmryPfdRk/nlHrCCsT/I4xg0A9foFnA5b387Gl4LMuCLNJpG7adFavTueqQQuYbZdgBepeGoStdiBRy5R2mk10YHbiDeMyifegMC6SQpTwMlYi9NvcBt2bfiffYEA85qdffhMWpF1iZeUsJW90lPKEN0SRrDxIX72Nn+RuCoYB7YpdKT0NvbhpL114JYvNeKaGu6zgvGHZA86LN1wRN84m97Gx1eFKpFGRR4mKG1jSczlWHxzRNyCIajcIIM1102kfhdLYSNUvPtnphER+Zl0qlJ6sSLehFf/c8dle+o69rlnjZwC1HItS+ApexPv9RJBwb3FK/ZVlC7jLLM2+wUHiGeze/KtVxTR6ylnDp5ftX1SFLeagbojp8/suijnVdkYeJRAKySCaTxC2L1hSczlWHJxaLQR5R4qIJ5zNnQwK5BI+VL2amlKCeQJb3wwCGeoq4u3SM1bn39D797mhzqsum6Icj/WtYmDwSNOLPXPdDYUeoa28Xv4i+WHnCikTUnZCtiJXMYW7iULlKavKQV+6Jqr1QXEotGsTjifpoU4uoTOq6iO30+NwTuezqkgCpcyi3sAKpXsnOtbqjTYUWfMuJuI2H6z/IdB4KTnLluKIN+0N+ouLUS+xv/sLGwifioa8RXeYwyNOkMT26R9r8miRB0Yo4CQ73Qy3oExXDDkxJpJxlkdqXonyeyKizcJPQW7ZYlYXeyYowZC9ZkVAoqC4Bsn4oDGeqW8wpyXh7o1NASfUy5Boebf0WQs+37Jo2DNc042huvYDZ8QMxVjAvG+qHDJF5uLfxk+a9I/VJSm7aQ8Ks57JjyKYHyzx0bdrDZXi6KLmSa1C0Io6DDxlN226vb/Bx8odccj5/sxAo5dHMaV5Op66IKSDXPlIewF3buSiZ9Utimj/Y/gObErv2h5Whh8uuPT0gki4Wnrt3Dqc81Engh1DIP8DW4ufGEzJEHnhmxvZLtVz+E6NWpfwDmOAvYyo07MwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"result\" title=\"result\" src=\"/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png\" srcset=\"/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png 93w\" sizes=\"(max-width: 93px) 100vw, 93px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>어…? 생각한 대로 돌아가지 않는다. 그렇다… 날치기로 공부하다가 들켜버린것이다!</p>\n<p>자 그럼 지금부터, 초보가 해결하지 못했던\n<strong>반복문에서 비동기 처리를 동기적으로 처리</strong>하는 방법에 대해 알아보자.</p>\n<blockquote>\n<p>여기서, <code class=\"language-text\">비동기/동기</code>, <code class=\"language-text\">blocking/non-blocking</code> 에 대한 내용이 궁금하다면 <a href=\"https://www.youtube.com/watch?v=IdpkfygWIMk\">우아한테크코스 우의 테코톡</a> 영상을 참고하면 좋다.</p>\n<p>promise와 async/await에 대한 설명이 필요하다면 관련 <a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/await\">문서</a> 등을 찾아보고 오면 좋을 것이다.</p>\n<p>이 글에서는 위 개념들을 설명하지 않을 것이다.</p>\n</blockquote>\n<p>코드를 얼핏 보면 기대했던 대로 동작할 것 같은데, 왜 요청이 처리되는 순서는 다를까?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\nlist<span class=\"token punctuation\">.</span><span class=\"token function\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">+</span> <span class=\"token string\">\" : 요청 시작\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">+</span> <span class=\"token string\">\" : 요청 끝\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 236.9281045751634%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAvCAYAAADjNOpjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEYklEQVRIx5WXW1MiSRCF+SEj0tzv0K0id0QFr7GGPumu7gqyoozuxOz/j8itL7Fa3BEoHypImqrsU3lOnioiqVRKYrGY7O7uSrPZlFKpJEEQyO3tndzc/K7x6empXF5eSiaTkUQiIclkcumIpNNpsSObzYYxi33f1zifz0u1WpXFuctGhKzRaFRarbYMBgMpl8tSq9Xk589/ZTb7Ltvb2/LH7a28vLzqgng8riiXjQhImFgoFCSXyykyBqi2trY05nnRlMLOtXM+G4pwc3NT6vW6HJ+cmBqWFRXoptMn8U0Nr29u9LsTQiZBDIhKbyiI2Xa93lDk1A9y0unM+hqSzPM8s71t6fV6Jtk8AQzDNDW9uLiQv+7vJW1exo5Ys5RlfmQbJEE2ICLJ8fGxnJ2dS6VSkVa7LXt7e24JgUlAQhbbLTcaTel0Oiol6nt4eOguG0gBHYtABynT6VQmk4kyfXV1JXd3fypCZ9kgDZClzAt4BkG+H2jMS3Z2dj6IfqVsNr59k4ODA1Ozs3Dx95cX+efHD0V4Y2QzfXrSBc6ysWQQUzcQ8p3YSsqxhsgmpqggwZrDZPK3oqKfr6+vtaZO5gAiJuVyGENKisWioiV5z0iFODDbbjQaYhWxNmE8EZNSoSZ+uSMxb9O8IKmWxuBl1I14XbJ3hMm4FHKBVIpNjSnDYkI+mecylBQWVf2qYTQICUKTw+FQBY+tUT9+syQuTWiF3WjUpb/f125BKqPxWEajsXRNfz8/z8S26CrJvMkm8+bWBR1z+jNhv1oirKCdZBPzNmTbP5BW7TeNeeZCwJozhbdnP3UTtuIi6tAPOVPwwqOjI+0MxDwajeTh4UHaxroejagteU4ICWC4trujpMAsyQeDoTo3Pe6MkHolEp7ks75Ui+03YSeUeQZuzg6cazhvvbjkcyZhqWO6xtMfEDMJrbC/RApBqVQ0PetrDRE2lo+4KUG/3/8g7LWkgACbp27WsR8fp4aUiSZ+eX39GinzdjKfqaxBkv7QXq5kvJNinMUzROA2QaWnMc8WNWg/XUbk/XqRC1tu3rdemAymV50jv5wp1BDH7nZ785uCEfb9/UjG4wdziWrp6edyDQnPFLQIy/lCVkmBWe6EQ0MSwubm4N56SavDqtFh06CIqWOjQZCDiviLwvaUFBybhLYM1rGp4boryC/CLiLswNcDnzoiZs5qjAKBOwv7/SrSkv39/VDYT+YIHRu36XS76jb2dFwnociiE8+deS4btml/s3dvJ9nokelFlRAVdnwzrJd9q4tcPiDUt6dzks0Uw2RzIhJhG37JsdUczKm3+D8FY+DWirA5Ab9kDkxEzH5QDS9NOM+RucVC0Pn5+drzODyXcZmk3hww2FZosNatrQ6dbw4sJgmOHZR7obAhYjGhc6eoZFL88cmbm1deJYK4MQtMl5pS20XprCQFBNHohi4+OTnVBNQNl8a1u0bYz7NZaGMgXzUiEPDZgCQS03r8U1027//jP04IhlAbiCfXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"result\" title=\"result\" src=\"/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png\" srcset=\"/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png 306w\" sizes=\"(max-width: 306px) 100vw, 306px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>위 코드에 대한 결과이다. 요청 자체는 리스트 요소 순서대로 이루어진다.\n익명함수 내의 실행 순서는 delay() 함수가 종료된 후 <code class=\"language-text\">console.log(data + \" : 요청 끝\")</code>가 실행되지만, 각 요소의 요청에 대한 처리 속도가 모두 다르기 때문에 delay()는 순서대로 끝나지 않는다. 콜백인자로 들어간 익명함수 전체를 기다려주지 않고, 익명함수 내에서만 동기처리가 된 것이다.\n즉, async/await은 foreach안에서 사용할 수 없다.</p>\n<p>그렇다면 리스트의 요소 순서대로 실행 결과를 얻으려면 어떻게 해야 할까?</p>\n<h3>for … of(for-loop)를 사용한다.</h3>\n<p>callback을 사용하는 foreach 대신 <code class=\"language-text\">for ... of</code> 문을 사용할 수 있다. (혹은 일반적인 for-loop)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">result</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">list</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> data <span class=\"token keyword\">of</span> list<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span>\n<span class=\"token function\">result</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span></code></pre></div>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 97px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 250.51546391752578%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAyCAYAAABcfPsmAAAACXBIWXMAABYlAAAWJQFJUiTwAAADH0lEQVRIx61XW08TURDujzB4ge52L2fv21IaaAJyFUoRESogt+CNgJEQLzEao/HJBx990ETjgzyZmPjiP/ycOdtWTNzd2sPDlz0cppM5M9/5Zk4hjmOkI0K5XKFvGVEUIds2QcGyLKTDRlG/hJKhwbZtZNsmKLBhGkyzhIWpA9Rri+S0SHsCWfaMTId6aQg7K+9xc+E5BosXIIQro/hvh/wjYTsoahcxM76DtcVXGNIGyKGTH2Fa7vifBuVutfES2xQlH7cTXd85ZHDu9NJgbmTdCPNoUCkPSzCFFGnDRzOh6ZdlhMnfCrRhZ47wsDL/lAqzDcPUeztyukNL0mR0ZAFH26dtypgqPBQoEQ+Xrz1Gc+ZhuzBCJUIDvlfGweZXXJ87ae9b+Q5N00Q6DAwVB4g6OrLt/qAQBAGyEEWkNGGMPLsOCp7nIQ2uR4WwqbqihCy7s/jnkbnC/OUiNKYOMVnfoGuot/et7CPnyVdj+hDHez/kWomHiUMDo9V5HG59g+sEMFV4aBJtAq+CW803aJF8CclBRdoYFCF/dX2wu1amTRCECMPofGiTwIfrOmq0+Zs+BhUkau9Z+UdOSy73D+4ps+O7uLv+kcThSrsw/VaZeBf4w3i0+x33Nz53JU3BoYHQr2Kt8ULqIfOwJz1MzR/li6+bpvNR3fOiDVOGlcY/P9o4ji2hTJsOZUJ/BHE4JteWCm34LntuhCd3fmFuYk99WEq6noMb1EZvL7/raVDKcWhShDHmJ+/hweYXun6KtOGc2ZbAxFiL8lijlqp1lbxv2vhEF+FwP3EkhZRp4/t+Qh3XlqqjTBu+KY7wUQ7rMgVKatOZbVgYlmaPVWkj5HxdrzVxsv8TreZrqTyyUCryFYej2G99ID38JNdGD600deBMxmEN1fKkRK9vlYIQAulw6AqWJHidbZugwE+uLASBRxLmI8+ug9Qjd2ab4fgqwqDW3jfVZmzPDWnGfoajrVPSRK//kTgpioBGnW6kMo31pbfyNcCvq76eZp02qtFLdIOcTYytSuc9tdG8qxR41Z6uXPfqsQBkwfUE8mzO4jcozLV1HM0IJgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"result\" title=\"result\" src=\"/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png\" srcset=\"/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png 97w\" sizes=\"(max-width: 97px) 100vw, 97px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>드디어 요청 순서대로 출력되는 것을 볼 수 있다.\nfor문은 각 요소(data)에 대해 delay()의 결과를 기다려 준 다음에야 그 다음 요소에 대한 delay()를 실행하기 때문이다.\n그런데, 요청에 대한 응답을 받은 다음에야 다음 요청을 보내므로 리스트의 데이터가 많아질수록 더 많은 시간이 걸리게 된다. 더 빠른 방법은 없을까?</p>\n<h3>map()과 Promise.all() 을 사용한다.</h3>\n<p>우선 이번에는 foreach가 아닌 map을 사용할것이다.\n두 함수는 callback을 사용한다는 점에선 같지만, await을 사용했을 때 foreach는 promise 배열을 반환하지 않고 undefined를 반환하는 반면, map은 promise 배열을 반환한다.\n이 차이를 생각하고 아래 코드를 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">loop</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">list</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"시작\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> promises <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> data<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  \n  <span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>promises<span class=\"token punctuation\">)</span>\n  results<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"끝\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n  \n<span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span>\n<span class=\"token function\">loop</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span></code></pre></div>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 287px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 108.71080139372822%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVQ4y62VO2/CQBCE/TuMCPf0+YHPxuaREEMUEUWKFKUOpKAO/7+f3J7BfXwUK422GO/uNydHSilwztF1O5zPZ5xOJzDGQH0p5b8r0lp7sVy1OLwdsN/vvRn1x1SUJAmoTFJAcAEhOG69MRVJSSvP8LT8xDxvnSEbteqwsjEGfaXXMkEV9VBm2LQfsPMNuJiNBjJAUUqiKh+RmgJKjwcyQNHOJM9KZGnhdRAU5aAwPsV29YWF3Tn9AOoFQ+m/oO8Dhaai2NS26ycMgUKTKS1RFq27Y+V1f9cAKES5rV+cob1SDjC85XDdvLuXsnQ5ZPeAkrjI5NeXkgRCodiwKV6ff1y4tx6KlIFQaHe6X2oyr4OCTQCkEmiqDnNHmnQwFCmFA7KGVpnXwVDIedHUqOvK6yAoZBDHMX4vF3wfj5hMJrj9FoImbJoG1tphwrFQ/gARhHuTktQUIQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"result\" title=\"result\" src=\"/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png\" srcset=\"/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png 287w\" sizes=\"(max-width: 287px) 100vw, 287px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>앞서 언급했듯이, map은 promise 배열을 반환하기 때문에 배열의 모든 promise가 통과할 때까지 기다려주는 <code class=\"language-text\">Promise.all()</code>을 사용했다.\nmap을 사용하게 되면, 비동기 요청의 시행 결과 순서가 아닌, 요청을 보낸 순서로 promise 배열이 반환된다. 각 요청을 기다리지도 않고, 끝나는 시간도 다르지만, 반환된 결과는 기존 리스트의 순서와 동일하다.</p>\n<p>각각의 요청 결과를 기다리지 않고, 순차적으로 해결하지 않다는 점이 for문을 사용한 경우와 다르다. 그렇기 때문에 속도도 다를 수 밖에 없다.</p>\n<img src=\"/1d35da5665d646b268eebe923e7945ae/2020-09-01-loop-async-example5.gif\" width=\"200px\" alt=\"result\">\n<p>왼쪽이 <code class=\"language-text\">for...of</code> 의 결과고, 오른쪽이 위의 결과이다.</p>\n<h3>상황에 맞게 쓰자!</h3>\n<p>배열을 순회하며 비동기 요청을 보내는 경우, </p>\n<ol>\n<li>비동기적으로 처리되어도 상관 없다 : foreach 함수를 써도 된다.</li>\n<li>각각의 요청에 대해 모두 await을 해야 한다 : 기다려야 한다는 점에서 느리지만 for-loop를 사용하자</li>\n<li>요청이 끝나는 순서는 상관 없다 : map 함수를 통해 promise를 반환하자</li>\n</ol>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우아한테크코스 백엔드 과정을 하고 있는 필자는 프론트엔드(자바스크립트 및 기타등등) 왕초보다.\n초보가 우테코 내의 프로젝트를 하는 중, 루프를 통해서 요청에 대한 응답을 동기적으로 처리하려다가 발견한 사실이 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우선 예시 코드를 살펴보자.\napi 요청과 유사하게, 실행될 때 마다 소요되는 시간이 다르도록 구현되어 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"delay"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" randomDelay "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" Math"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"floor"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"Math"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"random"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"100"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Promise"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"resolve"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setTimeout"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"resolve"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" randomDelay"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" list "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\nlist"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"delay"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"간단한 예시이므로 delay() 실행에 따른 각 결과를 출력해 보았다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"물론, 실 서비스 코드였다면 delay()는 api 요청에 관한 로직이었을 것이다!"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":"와 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":"을 붙였다. 그러니 당연히 처리 결과는 1, 2, 3, 4, 5 순서일 것이라고 생각했다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 93px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 270.96774193548384%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA2CAYAAADH7bkwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADmElEQVRYw6VYS08TURTu3sSFIQj0Me1MO31OpxQK8pbyCkVAEIqggDyUYEwMQSIxYnwtNC40MXGhISYm7l0ZY1z6vz7PuW2hRO70dro4ubntzel8c79zvu/UEw6HcV6EdA0dmWHcmHwK2+qhfRCys9XhOf+LiEjQmcnj+sRjbBePEQi2IUKf153QMAwRkUgULd6LGBvcxPjQNgJam/ghV08YCZvway2YHN7Fk52/6MqOQzdCjUAOQyfIHZmryPfdRk/nlHrCCsT/I4xg0A9foFnA5b387Gl4LMuCLNJpG7adFavTueqQQuYbZdgBepeGoStdiBRy5R2mk10YHbiDeMyifegMC6SQpTwMlYi9NvcBt2bfiffYEA85qdffhMWpF1iZeUsJW90lPKEN0SRrDxIX72Nn+RuCoYB7YpdKT0NvbhpL114JYvNeKaGu6zgvGHZA86LN1wRN84m97Gx1eFKpFGRR4mKG1jSczlWHxzRNyCIajcIIM1102kfhdLYSNUvPtnphER+Zl0qlJ6sSLehFf/c8dle+o69rlnjZwC1HItS+ApexPv9RJBwb3FK/ZVlC7jLLM2+wUHiGeze/KtVxTR6ylnDp5ftX1SFLeagbojp8/suijnVdkYeJRAKySCaTxC2L1hSczlWHJxaLQR5R4qIJ5zNnQwK5BI+VL2amlKCeQJb3wwCGeoq4u3SM1bn39D797mhzqsum6Icj/WtYmDwSNOLPXPdDYUeoa28Xv4i+WHnCikTUnZCtiJXMYW7iULlKavKQV+6Jqr1QXEotGsTjifpoU4uoTOq6iO30+NwTuezqkgCpcyi3sAKpXsnOtbqjTYUWfMuJuI2H6z/IdB4KTnLluKIN+0N+ouLUS+xv/sLGwifioa8RXeYwyNOkMT26R9r8miRB0Yo4CQ73Qy3oExXDDkxJpJxlkdqXonyeyKizcJPQW7ZYlYXeyYowZC9ZkVAoqC4Bsn4oDGeqW8wpyXh7o1NASfUy5Boebf0WQs+37Jo2DNc042huvYDZ8QMxVjAvG+qHDJF5uLfxk+a9I/VJSm7aQ8Ks57JjyKYHyzx0bdrDZXi6KLmSa1C0Io6DDxlN226vb/Bx8odccj5/sxAo5dHMaV5Op66IKSDXPlIewF3buSiZ9Utimj/Y/gObErv2h5Whh8uuPT0gki4Wnrt3Dqc81Engh1DIP8DW4ufGEzJEHnhmxvZLtVz+E6NWpfwDmOAvYyo07MwAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"result","title":"result","src":"/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png","srcSet":["/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png 93w"],"sizes":["(max-width:","93px)","100vw,","93px"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"어…? 생각한 대로 돌아가지 않는다. 그렇다… 날치기로 공부하다가 들켜버린것이다!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"자 그럼 지금부터, 초보가 해결하지 못했던\n"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"반복문에서 비동기 처리를 동기적으로 처리"}]},{"type":"text","value":"하는 방법에 대해 알아보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"여기서, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"비동기/동기"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"blocking/non-blocking"}]},{"type":"text","value":" 에 대한 내용이 궁금하다면 "},{"type":"element","tagName":"a","properties":{"href":"https://www.youtube.com/watch?v=IdpkfygWIMk"},"children":[{"type":"text","value":"우아한테크코스 우의 테코톡"}]},{"type":"text","value":" 영상을 참고하면 좋다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"promise와 async/await에 대한 설명이 필요하다면 관련 "},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/await"},"children":[{"type":"text","value":"문서"}]},{"type":"text","value":" 등을 찾아보고 오면 좋을 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이 글에서는 위 개념들을 설명하지 않을 것이다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"코드를 얼핏 보면 기대했던 대로 동작할 것 같은데, 왜 요청이 처리되는 순서는 다를까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" list "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\nlist"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"+"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\" : 요청 시작\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"delay"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"+"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\" : 요청 끝\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 236.9281045751634%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAvCAYAAADjNOpjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEYklEQVRIx5WXW1MiSRCF+SEj0tzv0K0id0QFr7GGPumu7gqyoozuxOz/j8itL7Fa3BEoHypImqrsU3lOnioiqVRKYrGY7O7uSrPZlFKpJEEQyO3tndzc/K7x6empXF5eSiaTkUQiIclkcumIpNNpsSObzYYxi33f1zifz0u1WpXFuctGhKzRaFRarbYMBgMpl8tSq9Xk589/ZTb7Ltvb2/LH7a28vLzqgng8riiXjQhImFgoFCSXyykyBqi2trY05nnRlMLOtXM+G4pwc3NT6vW6HJ+cmBqWFRXoptMn8U0Nr29u9LsTQiZBDIhKbyiI2Xa93lDk1A9y0unM+hqSzPM8s71t6fV6Jtk8AQzDNDW9uLiQv+7vJW1exo5Ys5RlfmQbJEE2ICLJ8fGxnJ2dS6VSkVa7LXt7e24JgUlAQhbbLTcaTel0Oiol6nt4eOguG0gBHYtABynT6VQmk4kyfXV1JXd3fypCZ9kgDZClzAt4BkG+H2jMS3Z2dj6IfqVsNr59k4ODA1Ozs3Dx95cX+efHD0V4Y2QzfXrSBc6ysWQQUzcQ8p3YSsqxhsgmpqggwZrDZPK3oqKfr6+vtaZO5gAiJuVyGENKisWioiV5z0iFODDbbjQaYhWxNmE8EZNSoSZ+uSMxb9O8IKmWxuBl1I14XbJ3hMm4FHKBVIpNjSnDYkI+mecylBQWVf2qYTQICUKTw+FQBY+tUT9+syQuTWiF3WjUpb/f125BKqPxWEajsXRNfz8/z8S26CrJvMkm8+bWBR1z+jNhv1oirKCdZBPzNmTbP5BW7TeNeeZCwJozhbdnP3UTtuIi6tAPOVPwwqOjI+0MxDwajeTh4UHaxroejagteU4ICWC4trujpMAsyQeDoTo3Pe6MkHolEp7ks75Ui+03YSeUeQZuzg6cazhvvbjkcyZhqWO6xtMfEDMJrbC/RApBqVQ0PetrDRE2lo+4KUG/3/8g7LWkgACbp27WsR8fp4aUiSZ+eX39GinzdjKfqaxBkv7QXq5kvJNinMUzROA2QaWnMc8WNWg/XUbk/XqRC1tu3rdemAymV50jv5wp1BDH7nZ785uCEfb9/UjG4wdziWrp6edyDQnPFLQIy/lCVkmBWe6EQ0MSwubm4N56SavDqtFh06CIqWOjQZCDiviLwvaUFBybhLYM1rGp4boryC/CLiLswNcDnzoiZs5qjAKBOwv7/SrSkv39/VDYT+YIHRu36XS76jb2dFwnociiE8+deS4btml/s3dvJ9nokelFlRAVdnwzrJd9q4tcPiDUt6dzks0Uw2RzIhJhG37JsdUczKm3+D8FY+DWirA5Ab9kDkxEzH5QDS9NOM+RucVC0Pn5+drzODyXcZmk3hww2FZosNatrQ6dbw4sJgmOHZR7obAhYjGhc6eoZFL88cmbm1deJYK4MQtMl5pS20XprCQFBNHohi4+OTnVBNQNl8a1u0bYz7NZaGMgXzUiEPDZgCQS03r8U1027//jP04IhlAbiCfXAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"result","title":"result","src":"/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png","srcSet":["/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png 306w"],"sizes":["(max-width:","306px)","100vw,","306px"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 코드에 대한 결과이다. 요청 자체는 리스트 요소 순서대로 이루어진다.\n익명함수 내의 실행 순서는 delay() 함수가 종료된 후 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"console.log(data + \" : 요청 끝\")"}]},{"type":"text","value":"가 실행되지만, 각 요소의 요청에 대한 처리 속도가 모두 다르기 때문에 delay()는 순서대로 끝나지 않는다. 콜백인자로 들어간 익명함수 전체를 기다려주지 않고, 익명함수 내에서만 동기처리가 된 것이다.\n즉, async/await은 foreach안에서 사용할 수 없다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그렇다면 리스트의 요소 순서대로 실행 결과를 얻으려면 어떻게 해야 할까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"for … of(for-loop)를 사용한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"callback을 사용하는 foreach 대신 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"for ... of"}]},{"type":"text","value":" 문을 사용할 수 있다. (혹은 일반적인 for-loop)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"result"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"list"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"for"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" data "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"of"}]},{"type":"text","value":" list"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"delay"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" list "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"6"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"7"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"result"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"list"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 97px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 250.51546391752578%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAyCAYAAABcfPsmAAAACXBIWXMAABYlAAAWJQFJUiTwAAADH0lEQVRIx61XW08TURDujzB4ge52L2fv21IaaAJyFUoRESogt+CNgJEQLzEao/HJBx990ETjgzyZmPjiP/ycOdtWTNzd2sPDlz0cppM5M9/5Zk4hjmOkI0K5XKFvGVEUIds2QcGyLKTDRlG/hJKhwbZtZNsmKLBhGkyzhIWpA9Rri+S0SHsCWfaMTId6aQg7K+9xc+E5BosXIIQro/hvh/wjYTsoahcxM76DtcVXGNIGyKGTH2Fa7vifBuVutfES2xQlH7cTXd85ZHDu9NJgbmTdCPNoUCkPSzCFFGnDRzOh6ZdlhMnfCrRhZ47wsDL/lAqzDcPUeztyukNL0mR0ZAFH26dtypgqPBQoEQ+Xrz1Gc+ZhuzBCJUIDvlfGweZXXJ87ae9b+Q5N00Q6DAwVB4g6OrLt/qAQBAGyEEWkNGGMPLsOCp7nIQ2uR4WwqbqihCy7s/jnkbnC/OUiNKYOMVnfoGuot/et7CPnyVdj+hDHez/kWomHiUMDo9V5HG59g+sEMFV4aBJtAq+CW803aJF8CclBRdoYFCF/dX2wu1amTRCECMPofGiTwIfrOmq0+Zs+BhUkau9Z+UdOSy73D+4ps+O7uLv+kcThSrsw/VaZeBf4w3i0+x33Nz53JU3BoYHQr2Kt8ULqIfOwJz1MzR/li6+bpvNR3fOiDVOGlcY/P9o4ji2hTJsOZUJ/BHE4JteWCm34LntuhCd3fmFuYk99WEq6noMb1EZvL7/raVDKcWhShDHmJ+/hweYXun6KtOGc2ZbAxFiL8lijlqp1lbxv2vhEF+FwP3EkhZRp4/t+Qh3XlqqjTBu+KY7wUQ7rMgVKatOZbVgYlmaPVWkj5HxdrzVxsv8TreZrqTyyUCryFYej2G99ID38JNdGD600deBMxmEN1fKkRK9vlYIQAulw6AqWJHidbZugwE+uLASBRxLmI8+ug9Qjd2ab4fgqwqDW3jfVZmzPDWnGfoajrVPSRK//kTgpioBGnW6kMo31pbfyNcCvq76eZp02qtFLdIOcTYytSuc9tdG8qxR41Z6uXPfqsQBkwfUE8mzO4jcozLV1HM0IJgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"result","title":"result","src":"/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png","srcSet":["/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png 97w"],"sizes":["(max-width:","97px)","100vw,","97px"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"드디어 요청 순서대로 출력되는 것을 볼 수 있다.\nfor문은 각 요소(data)에 대해 delay()의 결과를 기다려 준 다음에야 그 다음 요소에 대한 delay()를 실행하기 때문이다.\n그런데, 요청에 대한 응답을 받은 다음에야 다음 요청을 보내므로 리스트의 데이터가 많아질수록 더 많은 시간이 걸리게 된다. 더 빠른 방법은 없을까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"map()과 Promise.all() 을 사용한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우선 이번에는 foreach가 아닌 map을 사용할것이다.\n두 함수는 callback을 사용한다는 점에선 같지만, await을 사용했을 때 foreach는 promise 배열을 반환하지 않고 undefined를 반환하는 반면, map은 promise 배열을 반환한다.\n이 차이를 생각하고 아래 코드를 살펴보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"loop"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"list"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"시작\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" promises "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" list"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"map"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"delay"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" results "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" Promise"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"all"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"promises"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  results"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"forEach"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"끝\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  \n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" list "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"6"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"7"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"loop"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"list"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 287px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 108.71080139372822%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVQ4y62VO2/CQBCE/TuMCPf0+YHPxuaREEMUEUWKFKUOpKAO/7+f3J7BfXwUK422GO/uNydHSilwztF1O5zPZ5xOJzDGQH0p5b8r0lp7sVy1OLwdsN/vvRn1x1SUJAmoTFJAcAEhOG69MRVJSSvP8LT8xDxvnSEbteqwsjEGfaXXMkEV9VBm2LQfsPMNuJiNBjJAUUqiKh+RmgJKjwcyQNHOJM9KZGnhdRAU5aAwPsV29YWF3Tn9AOoFQ+m/oO8Dhaai2NS26ycMgUKTKS1RFq27Y+V1f9cAKES5rV+cob1SDjC85XDdvLuXsnQ5ZPeAkrjI5NeXkgRCodiwKV6ff1y4tx6KlIFQaHe6X2oyr4OCTQCkEmiqDnNHmnQwFCmFA7KGVpnXwVDIedHUqOvK6yAoZBDHMX4vF3wfj5hMJrj9FoImbJoG1tphwrFQ/gARhHuTktQUIQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"result","title":"result","src":"/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png","srcSet":["/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png 287w"],"sizes":["(max-width:","287px)","100vw,","287px"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"앞서 언급했듯이, map은 promise 배열을 반환하기 때문에 배열의 모든 promise가 통과할 때까지 기다려주는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Promise.all()"}]},{"type":"text","value":"을 사용했다.\nmap을 사용하게 되면, 비동기 요청의 시행 결과 순서가 아닌, 요청을 보낸 순서로 promise 배열이 반환된다. 각 요청을 기다리지도 않고, 끝나는 시간도 다르지만, 반환된 결과는 기존 리스트의 순서와 동일하다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"각각의 요청 결과를 기다리지 않고, 순차적으로 해결하지 않다는 점이 for문을 사용한 경우와 다르다. 그렇기 때문에 속도도 다를 수 밖에 없다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"src":"/1d35da5665d646b268eebe923e7945ae/2020-09-01-loop-async-example5.gif","width":"200px","alt":"result"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"왼쪽이 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"for...of"}]},{"type":"text","value":" 의 결과고, 오른쪽이 위의 결과이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"상황에 맞게 쓰자!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"배열을 순회하며 비동기 요청을 보내는 경우, "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"비동기적으로 처리되어도 상관 없다 : foreach 함수를 써도 된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"각각의 요청에 대해 모두 await을 해야 한다 : 기다려야 한다는 점에서 느리지만 for-loop를 사용하자"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"요청이 끝나는 순서는 상관 없다 : map 함수를 통해 promise를 반환하자"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"…","timeToRead":3,"frontmatter":{"title":"반복문에서 비동기 처리를 동기적으로 처리","userDate":"1 September 2020","date":"2020-09-01T12:00:00.000Z","tags":["javascript","asynchronous"],"excerpt":null,"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBQb/xAAXAQADAQAAAAAAAAAAAAAAAAAAAwQH/9oADAMBAAIQAxAAAAHbpXG+WSCDD//EABgQAQEAAwAAAAAAAAAAAAAAAAIDARAS/9oACAEBAAEFAhOaMhJzR5zv/8QAGxEAAgMAAwAAAAAAAAAAAAAAESEBMUEQYXH/2gAIAQMBAT8Bwe7JcmyVnSpcf//EAB0RAAMAAQUBAAAAAAAAAAAAAAECETEQEiEjUWH/2gAIAQIBAT8BKE3scVkIAkG3I9j4bkfJdP/EACIQAAIBAwIHAAAAAAAAAAAAAAECEQMSMQBBEyAhIlFicf/aAAgBAQAGPwK4isBa0sljy49W4dqznqx8Tp5FZqoIsCWimF3Zye+ZwoH1hqDnfk//xAAbEAEBAAIDAQAAAAAAAAAAAAABESExAEFREP/aAAgBAQABPyEcHwQk1SWrDGkc3iMjolWsE8QcwiJiGiRHzvqO++Q8Pv8A/9oADAMBAAIAAwAAABDzD//EABgRAQEBAQEAAAAAAAAAAAAAAAERIRBB/9oACAEDAQE/EMiMguqlJ0T6gCEHH//EABoRAQEAAwEBAAAAAAAAAAAAAAERIUFxADH/2gAIAQIBAT8QWeoILEbURHIVuqWZ+7hC8rOV77//xAAdEAEBAAICAwEAAAAAAAAAAAABEQAhMVFBcZGx/9oACAEBAAE/EHcraRGI0TriqHQKy20QtyjonJTuMXaKIpaqCOHhxTlHtBfsuIPIPsH9wA0EOjP/2Q==","aspectRatio":1.7782026768642447,"src":"/static/e075bee6dfcc71a33568cd0ef7b6f61c/097fa/asynchronous.jpg","srcSet":"/static/e075bee6dfcc71a33568cd0ef7b6f61c/0079a/asynchronous.jpg 930w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/8dba1/asynchronous.jpg 1860w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/097fa/asynchronous.jpg 1920w","sizes":"(max-width: 1920px) 100vw, 1920px"}}},"author":[{"id":"2기_오렌지","bio":"우아한테크코스 2기 오렌지(조예린)입니다 :)","avatar":{"children":[{"__typename":"ImageSharp","fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAgJ/8QAFQEBAQAAAAAAAAAAAAAAAAAABgX/2gAMAwEAAhADEAAAAdZIBuSAjDytGQQqx0YxTKhW5gfef//EABkQAAMBAQEAAAAAAAAAAAAAAAQFBgMCAf/aAAgBAQABBQJ0z4AAnrISbdYuhzOtnGKRPi8lcdn1UeO2qJ4N0AHzx48wC5pRf//EACQRAAMAAQMDBQEBAAAAAAAAAAECAwQREiEABQYTIiMxMhVB/9oACAEDAQE/AcGLJg5mG+NGptkNNM1MzGTHYz9MzpN6gM6T3KzCZ1dKN+OdsPCJejE08n8Zm5nNmR+5Vk6llQ6PKuEKTYa+5KAOp4Ya69dw4zryHEp5PxzHE57liTsT8rqQCdoGpGvXaqU/nYnyPxIAe5uApIA+/oAAAf4Bp1//xAAjEQACAQIGAgMAAAAAAAAAAAABAgMEBQAREhMhIgYxFEFR/9oACAECAQE/AaudZq2kuImqYWjpIytDJS1IqYS+7vJPEupA0unR3ChDEoBfNWxN5TU70u3Zrqybj6WEEDgjV7Dx1Whh+MvU+xi1szWa3TMS00tviMsrEmSQ9hm7ns5yJHYng4ro4/lzdE5bM9RySASTx7JOZP2ecf/EACUQAAICAQMEAwADAAAAAAAAAAIDAQQFERITABQhIgYVMSQyQ//aAAgBAQAGPwInzLY5VxwsEYkPcYLdJRrAaAUTqekeY/derdA79rJ0cxVuZ+Kp3gt3KDFnMmdMCdKxp2oauJW5qIGQ5V74merM2a2RxTkP4Dq5Fa1P8JS2GQKWODjMWxpO/dughmI29H97A+qqlIuaeZFiWfx6dIphf+5BAzIKLlYZFp+aWVUMZiDi4P1j8ZVlLshdVve2wulRjZZdNmXGCwYxhTxKBagnTq2vv8vllRKxq3+zyTpdTSldeoJcwE1bK6FBWas5koYky3M38rPkPzG3YyP3Hxu9jxxcBdYVFc2H4bkYdGxzoNkxZaMTpEbZ/rrGvRiIQEoO1ZWYSazh1a5oo/QhjWPBeIj3ESjSY6rZm+96r1oGjcOlKkBbdWtWKveuAktju7C0gVti+MXu3PlfKxhF/8QAGRABAQEBAQEAAAAAAAAAAAAAAREhADFB/9oACAEBAAE/IaiUYgNMGx+Yojk0Yn7iCkx9D0qtKWiATQ9bN8s6KS3GgmJyeW+XZfEXeONQLpK2pAUnsJ7QigKPvG08olBzZjDIJbkL8Q713n1I+xzdLXJ//9oADAMBAAIAAwAAABDUHwL/xAAYEQEBAQEBAAAAAAAAAAAAAAABEQAhQf/aAAgBAwEBPxDrcTeTQlOTCl4iSOM5YaAKaYjAPhb3BGUVzQBVBz6r1TRP8DNwAAA3/8QAFxEBAQEBAAAAAAAAAAAAAAAAAREhAP/aAAgBAgEBPxCkcK+Y0wRbCBUpFhi4EDoqYhg6CeMjpLJAFQhYpyFWRbdf2lZFUUqr3//EABgQAQEBAQEAAAAAAAAAAAAAAAEAESEx/9oACAEBAAE/EA/foxzMIcaOom04SkgfADkrKki66ONCgYCE5nYOA1kIgNTqmKb3hZI1h7thb3aixCiDaoYKljNZ5BeQm0iM+an1IU2CmankEpcvwDVN/9k=","aspectRatio":1,"src":"/static/b91216cf43c880e4273d275948ce1d6c/f86e8/orange.jpg","srcSet":"/static/b91216cf43c880e4273d275948ce1d6c/b3d27/orange.jpg 40w,\n/static/b91216cf43c880e4273d275948ce1d6c/5a735/orange.jpg 80w,\n/static/b91216cf43c880e4273d275948ce1d6c/6e81a/orange.jpg 120w,\n/static/b91216cf43c880e4273d275948ce1d6c/f86e8/orange.jpg 460w","sizes":"(max-width: 460px) 100vw, 460px"}}]}}],"source":null}},"relatedPosts":{"totalCount":4,"edges":[{"node":{"id":"b8e94aa8-badc-5a6d-87a0-a3566384831e","timeToRead":4,"excerpt":"최근 requestAnimationFrame(이하 rAF)과 setTimeout을 공부하면서 브라우저의 싱글 스레드 동작이 정확히 어떻게 이루어지는지 잘 모른다는 생각이 들었다.\n이번 기회에 이벤트 루프의 동작을 공부하고 추가로 rAF…","frontmatter":{"title":"이벤트 루프, 넌 누구냐","date":"2021-08-28T12:00:00.000Z"},"fields":{"slug":"/post/2021-08-28-event-loop/"}}},{"node":{"id":"e52cd551-f790-5d23-b051-ac08cea46d27","timeToRead":7,"excerpt":"0. 인트로 클로져를 MDN…","frontmatter":{"title":"클로져와 가까워지기","date":"2021-07-16T12:00:00.000Z"},"fields":{"slug":"/post/2021-07-16-closure/"}}},{"node":{"id":"d78dcaf3-4677-5617-9b4e-385c816d02c1","timeToRead":2,"excerpt":"이번 글에서는 리액트에서 key를 사용하는 이유와 올바른 사용법에 대해서 알아보고자 한다. key를 사용하는 이유 간단한 이해를 위해서 다음과 같은 배열이 있다고 하자. 그리고 위 배열을 다음과 같이 렌더링 한다고 가정해보자. 이후 a, b, z, c…","frontmatter":{"title":"리액트의 Key를 알아보자","date":"2021-04-26T12:00:00.000Z"},"fields":{"slug":"/post/2021-04-25-react-key/"}}},{"node":{"id":"0c0a25dd-d300-5b3b-b8d8-1ad47de1b492","timeToRead":3,"excerpt":"…","frontmatter":{"title":"반복문에서 비동기 처리를 동기적으로 처리","date":"2020-09-01T12:00:00.000Z"},"fields":{"slug":"/post/2020-09-01-loop-async/"}}}]}},"pageContext":{"slug":"/post/2020-09-01-loop-async/","prev":{"excerpt":"…","timeToRead":2,"frontmatter":{"title":"토큰을 어디에 저장할까?","tags":["token","authorization"],"date":"2020-08-31T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":2.012987012987013,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGklEQVQoz5WSXW7CMBCEuf9BeoCeAKkvlfpSpAoJBCUEAoQGSMmPE8fOdDeJjUOpoJZGa688327WGYiyQkFqolQQWYpUZHSmfSG7vCvVk/V1cXANlHlCMYesFEoCsJTS4FXXgNY1dN1Kaf0HUF6Sigy31jnJqEjVgds7DL0PVIotjckYc1Hi6fkF7+PPFtQV5fgAUNsuDHA0XmD4+oEwivsd/gdoulhtI7yNpvbTL4Vojo/MkC+5XbQj6HfMMJO7CXSToihREYQ75Mgv2UTqnPdWdC5K+RtoQY78IMRk7mPuBZh5a3irHSazJRb+BlPKm1xKj+X6LdCtwIqO31hvv7A/xM1DHOMEe4qb8IBgF1HuhOh0Rk4//rX3B7ocC80LWvD6AAAAAElFTkSuQmCC","sizes":"(max-width: 2538px) 100vw, 2538px","src":"/static/626edb306a7f6891feaa92c409e2dcae/7e985/keystore.png","srcSet":"/static/626edb306a7f6891feaa92c409e2dcae/3a443/keystore.png 930w,\n/static/626edb306a7f6891feaa92c409e2dcae/4d929/keystore.png 1860w,\n/static/626edb306a7f6891feaa92c409e2dcae/7e985/keystore.png 2538w"}}},"author":[{"id":"2기_유안","bio":"우아한테크코스 2기 유안(김성규)입니다 :)","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAcIBQYJCv/EABgBAAIDAAAAAAAAAAAAAAAAAAYHAAMF/9oADAMBAAIQAxAAAAHs9AFTdJtEoNUgTe6z58XpX53AwRj/xAAcEAACAgIDAAAAAAAAAAAAAAAFBgMEAggBBxX/2gAIAQEAAQUCvEKY2JhujmqE9s52WgmnE5OfdIZK2cewRL1HY1QrcYYLIcXKyFbZ81//xAAkEQACAgIBBAEFAAAAAAAAAAABAgMEBRESAAYhMRMUIjJBcf/aAAgBAwEBPwFZ+9HtWrmLo4urWxlqWKOrlnuJeyYhYI0kaxQNFWhsbK1mnO5Nq5CwMk0mPtplKFPJCMxi/WguBG8Mn1Eay8SBoeOX6A/g9dY53ZO4eTs3xZmdY9sT8YGJxraTf4DkS2l19xJ9nqkAtOoqgKq1q6qoGgAIowAAPAAHgAeh1//EACMRAAIBAwQCAwEAAAAAAAAAAAECAwQREgAFEyEUIjFBQrL/2gAIAQIBAT8BmfZWijpaiSqqPLQZz0Rg4KYlc8bvKrSyRD2k4+lsVBMqsizQ+LLJTZZcDtDlcm/GcL3Nyb2+ydVyqu47UFVQJNupTIAABITWVQJcfokde1+utS9yyE/PI/8AR1//xAAnEAACAgEDBAIBBQAAAAAAAAACAwEEBRETIQAGEhQiI0IWJDFDUf/aAAgBAQAGPwLeuOhQaTP8SRlAxqUiEc6D+RToA/kUcdVKeOtiFivaG0J2HGhMD4SMlGxNiJcHBKmyqFB8vlEz1k+1e4Ozu3/cxlolo9t2SJxY8gAqTfbrW4r5ELCv3C76QWDltEYWO3p0uhWs64uycoTE23U0WhrKKJXYcK2NVXOQkxBCZdae+FpkWHuLyk06dHFWsKUVTcjKXIt27RWGIAsNLGNRlKUOXtAVtAlZt7lIIrOSTuqDinVyu1MJWs/7vrm3JRrPMxEGMBM/1+HXZd/bEv1RWvpyVQwWdIVjKWCNdRBJjo0YbEta4oZEFE8RozJ063hZoptet5TDVq2kutjtAyCiv9qB4rbP1yS40HTS7k8gQlZYQKnbjwWIVVhWVADMl4/BUSXPJyU8a6df/8QAGRABAQEBAQEAAAAAAAAAAAAAAREhABAx/9oACAEBAAE/IVJ+IwCBUW/FddDEkGkSQTA0xoRkFlrArnOx0oQ/yHXmG5p1rn/nX18CQLqd3aDYX+i8FgWBz3TEbJF/fzmfDRX6QvNEuOMQ9trGtFFIlLA4If/aAAwDAQACAAMAAAAQPNiA/8QAGBEBAQEBAQAAAAAAAAAAAAAAAREhAEH/2gAIAQMBAT8QJThqaF2EbdtApexgD4K54IeiGJLC0ncxPgASijoCEfHgIABgAd//xAAXEQEBAQEAAAAAAAAAAAAAAAABESEA/9oACAECAQE/EFReLIzOYJjt06jAHABcBYBahrVVUZr6wOQBI0JAmE5qRUiqqqiq6q6rq9//xAAYEAEBAQEBAAAAAAAAAAAAAAABABEhEP/aAAgBAQABPxDe4CmDqINxIYUBjRRM/WK9B4LgJIRdcGQTQXjQNwAGlkuZHfivtDGDkrc4YIB6zi0GRK8WqEuiWndOAJDBecDju4pzTZQD8KyuJYVIZ//Z","sizes":"(max-width: 600px) 100vw, 600px","src":"/static/2f987f5d00781c4cb2aed3ed923e77df/c3638/you.jpg","srcSet":"/static/2f987f5d00781c4cb2aed3ed923e77df/fd013/you.jpg 200w,\n/static/2f987f5d00781c4cb2aed3ed923e77df/25252/you.jpg 400w,\n/static/2f987f5d00781c4cb2aed3ed923e77df/c3638/you.jpg 600w"}}]}}]},"fields":{"layout":"post","slug":"/post/2020-08-31-where_to_store_token/"}},"next":{"excerpt":"문자와 문자열 자바 프로그램이 실행되는 동안 가장 많이 생성되는 객체가 무엇인지 아는가? 그것은 바로 문자열(String) 객체이다. 문자열은 문자의 배열이다. “abc”라는 문자열은 ‘a’,‘b’,‘c…","timeToRead":5,"frontmatter":{"title":"Java의 문자열을 파해치자!","tags":["java","string","immutable"],"date":"2020-09-07T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.332378223495702,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABE0lEQVQ4y8WTy07CQBSG+9buTFwZH8DEPVuXLDTxFkNIvHUBShQbb6BiSyEBy0Cn842U2KaMFggaPcnJnORkvvnPZSz9y2b9CZCxJWcmXg6YA2Mphcm9LCChLqrUAGp0CtDI9i1KjlKg+lStMrEpwJpWF/PUJBk9HCOq23NLNdthfU2ihdK4jxXCxileMKTudrlq+bTfBf1hiNsf0OoFCBnNVJiW0AkEBduhWHvC8brYTY/1/QtWimVWd07YOLBZ2z1jEMrFgJevPlvlKpulCvd+j+u3DoXzG46cZ0p3L+zVGxw6zew2zCpZ67jhwUhOyotVhJFiTv/yhpK/c/EjkVJjJ/Xv5jIFNJfaNDP3f3/5J/YBz3Oauw0diHsAAAAASUVORK5CYII=","sizes":"(max-width: 1200px) 100vw, 1200px","src":"/static/e19ea0216ae8395bd4b3389970928be9/6050d/java.png","srcSet":"/static/e19ea0216ae8395bd4b3389970928be9/3a443/java.png 930w,\n/static/e19ea0216ae8395bd4b3389970928be9/6050d/java.png 1200w"}}},"author":[{"id":"2기_스티치","bio":"우아한테크코스 2기 스티치(이준영)입니다 :)","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAgGBwn/xAAWAQEBAQAAAAAAAAAAAAAAAAAEBQP/2gAMAwEAAhADEAAAAe77WR55Mv1WYdqeU4xCsoMUZv8A/8QAHBAAAgIDAQEAAAAAAAAAAAAABAUCAwEGBxIU/9oACAEBAAEFAjjTQ4K8C30U5x76K7isTc32SYJy5rG+O5U/Zrw7BhbLV3zLKz//xAAkEQABAgQFBQAAAAAAAAAAAAABAgMABBEhBTFRcfAyQXKBsv/aAAgBAwEBPwGbbbln1ttqzTXxyomu19/UBdhzSMQJE60ASAptCVAHqSV3CtQe4NjHPmP/xAAgEQABAgYDAQAAAAAAAAAAAAABAhEAAwQSITFBUfDh/9oACAECAQE/AaWYuokpmzN3Wv22y3GfbgoLn5FCAaNZIBtmLUnGlBKWI6I4IzDnv2I//8QAJRAAAwABBAICAQUAAAAAAAAAAQIDBBESEyEAMSIkQRQyYWKx/9oACAEBAAY/Ao42bls9jjYdKY/Igxg5kGY5FJnblLiDHAQknkaRdhNUYMM6N1zRklaDKR0rJtF2axZNyfj2O/x168y9AT9p+9f6TH8+c6QpbIyqHDSyozzx5lS7VtVBpNkPeJvb5VZhoV3gslMzNlHj+vhl6Lg5VK0UVaiEcfJCOtYFCpLEsd23TzJpqoDZdCPlr1xyPvr/ADzN30tP9IZ3UQoZCjJQBVuB1VB+8KfTgMNCPMbArn5VcOt2+u7gpGj725sf46workuOMhdSQysjMp+VQx53BZgdzbUmoJ796Aef/8QAGxABAQEBAQEBAQAAAAAAAAAAAREhADFBUWH/2gAIAQEAAT8hKYUBDPGLJx/lMGok1TE+pO49JsToWv8AN+DzPnDKmy8a1QML09EOOqon23RdoHCuBizQJGW2ePN94I9p1NSLQPX+DVDtXJjen10hVItYqWQiqkAX4d//2gAMAwEAAgADAAAAEN8Xwf/EABoRAQEBAQEBAQAAAAAAAAAAAAERIQBBMWH/2gAIAQMBAT8QdIkpGhVgCQsMQUqOMCphm+19ju/Rdfw56IqAhiGGAoDEeAzDzw5//8QAHREBAQACAgMBAAAAAAAAAAAAARExUQAhQZGh0f/aAAgBAgEBPxAMAAtAYInC4wcLeqsus3C1vvwfeLIECFbLSqVgCqJXjTLO3f7ffP/EABgQAQEBAQEAAAAAAAAAAAAAAAERACEx/9oACAEBAAE/EMOqznyqmgTy+v2bm5UFg7iS1j4uDF3vkFEAIOKwIs5FzfewRsNMFFTzY3smZ4m+JPVCoHYFrUCJaAZd+5zIPIpXh4Z5t2bbbgjOEqiM7LTClpv/2Q==","sizes":"(max-width: 400px) 100vw, 400px","src":"/static/956289f603f566be6276e5a77ff3ca9a/25252/stitch.jpg","srcSet":"/static/956289f603f566be6276e5a77ff3ca9a/fd013/stitch.jpg 200w,\n/static/956289f603f566be6276e5a77ff3ca9a/25252/stitch.jpg 400w"}}]}}]},"fields":{"layout":"post","slug":"/post/2020-09-07-dive-into-java-string/"}},"primaryTag":"javascript"}},"staticQueryHashes":["2130001345","4041952199"]}