{"componentChunkName":"component---src-templates-post-tsx","path":"/post/2020-09-01-loop-async/","result":{"data":{"logo":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png","srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png 400w","sizes":"400px"},"sources":[{"srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/65935/tecoble.webp 400w","type":"image/webp","sizes":"400px"}]},"width":500,"height":110}}},"markdownRemark":{"html":"<p>우아한테크코스 백엔드 과정을 하고 있는 필자는 프론트엔드(자바스크립트 및 기타등등) 왕초보다.\n초보가 우테코 내의 프로젝트를 하는 중, 루프를 통해서 요청에 대한 응답을 동기적으로 처리하려다가 발견한 사실이 있다.</p>\n<p>우선 예시 코드를 살펴보자.\napi 요청과 유사하게, 실행될 때 마다 소요되는 시간이 다르도록 구현되어 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">delay</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> randomDelay <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">100</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> randomDelay<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\nlist<span class=\"token punctuation\">.</span><span class=\"token function\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>간단한 예시이므로 delay() 실행에 따른 각 결과를 출력해 보았다.</p>\n<p>물론, 실 서비스 코드였다면 delay()는 api 요청에 관한 로직이었을 것이다!</p>\n</blockquote>\n<p><code class=\"language-text\">async</code>와 <code class=\"language-text\">await</code>을 붙였다. 그러니 당연히 처리 결과는 1, 2, 3, 4, 5 순서일 것이라고 생각했다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 93px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 270.96774193548384%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA2CAYAAADH7bkwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADhklEQVR42q1YS08TURTuD3Bh1PAofU2nM9PnzLRgFVqhFnmIlfIICpQq4gMDSAzE+EgMxviIbtyYqHElLozGjSt/gGt/0+e5lzYlsXPn2nHxpZ3m9PSec777nXPqi8Vi+BsaotEI7MwQFqb2MJAtQ4mGodHn7e1b8LX7UGs4zFkjqIzewUbtM1Q16urM0SGDrhnoDRzF8Ol5crqNcKQPmqZ3eEL6InNQGlrE3tZvFE/NNE6odXpCClmlHJoFlIt1cjgrFa4wZOaUFSIY6kYo3Cvv0DRNOMGyLNh2jl6zENkdhk/TNLSHDjUWpdN1Uf4U/uxs24JjDpmTVDKLseE1pJP9lFOl86Ic8DBMxC5g8eILXF94z/PpocqMOgb6gscwPbaDNXIYUYKd35QD2ijImmcwPnIDm/Wv/AfUmNp5yCzEfG4MlypPUSBis6soFbKqqmiPGA+zL3iCKu3nz862LfgymQycwLloEgczFkR2h+HTdR1OMIw45Y7ypkUhsjsMYcgsjxZpom0WKYeKXMjtKaPx/OVz49hY+UICscJ52bnAEkUCoS5crjzB9pXvmCpvelObpsO5yYd0U57h1uJHJBOWlGoLic2c1GZeY6J0U/7qiYrCChEM9TR4qMoVJZVKQYQMcTCdzsDNrglfPB6HCEbcQCKRgJtdE4KQo0QTA3EjLR2ukIeKEsLQyQpJ1zvCBymlcdFDnYrRg2K+ilr1FX/fcV9uOfRjdf4tCvlp6tN+bw5ZDln+5iYfNRxJhuyWZDZB/FNR3GiQTCalKcNp407WNBE7LU9s0fHZ3Q1HAhwx2RbgRptRGpYunrvrtcoar7Khx3F7eR/L1edcztjM2LEeBul01fF72F37SU4/eb8pzEEibmKytI767BvSw5BcCxAlmOkhE1YmtiwFUkURt1GDQ9cN+Tbq1rhNkzV5U77Ri1tAhEaR4zxs1RsPm03KJnF4QHPioPyw5Dhwsgk2kcPOtR80xV7lg7sn+TL0BLr9RzhtyoUadb8ujzeFeMhuxlb9G+dhRAl4mWCbApuixXEU/XZJKn/coWhFYCrNThaJBqVWCr5WiBcZiy89lmnLLz6i1YztKkxlIkwPZUMW8ZAtPBdGt3h/9sRDnY9z3Th/dhWPN35hwG5s9JrHTcpM52nx2cXS9EuvengQco4WHzYbri/t/4ccNv5zmJ24T4P7oPSfGH8Amw80oXhxpUgAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"result\" title=\"\" src=\"/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png\" srcset=\"/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png 93w\" sizes=\"(max-width: 93px) 100vw, 93px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>어…? 생각한 대로 돌아가지 않는다. 그렇다… 날치기로 공부하다가 들켜버린것이다!</p>\n<p>자 그럼 지금부터, 초보가 해결하지 못했던\n<strong>반복문에서 비동기 처리를 동기적으로 처리</strong>하는 방법에 대해 알아보자.</p>\n<blockquote>\n<p>여기서, <code class=\"language-text\">비동기/동기</code>, <code class=\"language-text\">blocking/non-blocking</code> 에 대한 내용이 궁금하다면 <a href=\"https://www.youtube.com/watch?v=IdpkfygWIMk\">우아한테크코스 우의 테코톡</a> 영상을 참고하면 좋다.</p>\n<p>promise와 async/await에 대한 설명이 필요하다면 관련 <a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/await\">문서</a> 등을 찾아보고 오면 좋을 것이다.</p>\n<p>이 글에서는 위 개념들을 설명하지 않을 것이다.</p>\n</blockquote>\n<p>코드를 얼핏 보면 기대했던 대로 동작할 것 같은데, 왜 요청이 처리되는 순서는 다를까?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\nlist<span class=\"token punctuation\">.</span><span class=\"token function\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">+</span> <span class=\"token string\">\" : 요청 시작\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">+</span> <span class=\"token string\">\" : 요청 끝\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 236.9281045751634%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAvCAYAAADjNOpjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEX0lEQVR42p1XaVPbShD0L8GXZFmXb/ngsM0ZjhS2KbBJqoAYsCGYPB6V/P/J9JjdmMcDrfNhS4uRRj3TPb2jhG3blEqlqNVq0ebmJhWKRapWq3R//50eZjOq1Wp0enpKP378Q57nUTaTJcuy3l2JXC5HCIqbwzAk13VlIdDa2hoFQUBFfkmxWCLHcQj3f7QSCJbNZqlQKAhKBEaQw8ND6vcH8pKtrS0ajc4pn88LCjzz3hKEmUyGoiii9fV1CVAqlWg4HNH5+bmkv7e3R4PBQJAbBcQGqCqViqDAg/V6nTqdjk5/e3tb/meUMkgBQqRZfCFlOr1jYu4lMNCNr6/npGRjSEGh1VIIsA+5pgoxyoAXLt773tIIG40mHR8fS/2Q4mz2SD9//RKEw9FoLhvfk3obI0S9Fv8OAl+jxtUYYTKZFMns7OwIOUB5dXVF1zc3VC6XqdfrST3xwtgaIiA2CIRUlQ7BKuQCfTabTdrY2BAEsbLBTXhrxLXCQ0KCEvbgRdgcfDgcCkI8ZCQboAAqBECaZ2dndHFxIRJCKfr9vlnKqj+RZrVaEwR4sNFo6FaEZCByE2ISlm1ROp0WzSEArkA1uZ3Q09OTyObk5ISmd3cSPFY2QIegjpNndI6u0WKhkSbWR2RoUizLpnQmScWwRa3aISNIkm3Zms1FVj9C9gphLmdT3nHJyxf4x+ybAEgzzhTesAwSwKbLdYJBXF5e0mQyEZOdTqdGxqARzg02pFpUFSFj7e7uirAh9qOjz0ai1n5o2RwwiKhSbHN6KfkH0gT7CIIMlko5a6U5YIPqlT1Gm+aAcxdXEsHVhGHdetj4gcepBgTWIWB0zurqqggee/wW13Ya4crKinRCr9eX+omwmRB4Yrfbped/n81JWXRr1/X0MRr4AfmeP98zShMvnLeehdZLUsFv0Fq9xwSsMJI/b1SoVLfErYTKHUQ4tqeLC4YVyzDgpVjO8IPww/39fe3YsK7bF2Hf3N7yeeKb6xCbMAzYWSK+QthFOjg4kBXxbzBaY5ZF2Ny/eSegwItYkxktZizUBSkb63BuAhlmtCzEYP/fTjG1rlcpu57LplDQRyaMFobhsXSgS5MxRJOSTqfEBNrttjgNgt2xQz8+PlIHwn5+Fo0uKez52aLEjcMKCx0C1pcQti0OA3No1g7EveHYiwZrguz1qecwsnzAK+RAFqmZEYFUjY0Rqq5ADTGpysBZxijyjcbja3Gc8XgspBk7NjaoUxTVyOeOgON8+rTPTn0kL8JUtpSw7ZxFrsMDu/PnkIKYlQ5xNe5lRUroR1QtdWVvvRyjKsW4w/1/RxHIw+elZmyIGcJGTZvN1pvZMXaCxRgCUtSM/fAwkw+fdrsjzm1Myjwy2s0VUS9OsyAHyDGNLS1s1LAVfdbH6F8LW40iTs6lfC7QLKcWWF56FMEDlUqZjaCtv+0wcOJLCsTgswypGzm2Cog6dbub+tPslAPicwJn8pcvX42+8xDwN4LIjDDc8QBLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"result\" title=\"\" src=\"/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png\" srcset=\"/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png 306w\" sizes=\"(max-width: 306px) 100vw, 306px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>위 코드에 대한 결과이다. 요청 자체는 리스트 요소 순서대로 이루어진다.\n익명함수 내의 실행 순서는 delay() 함수가 종료된 후 <code class=\"language-text\">console.log(data + \" : 요청 끝\")</code>가 실행되지만, 각 요소의 요청에 대한 처리 속도가 모두 다르기 때문에 delay()는 순서대로 끝나지 않는다. 콜백인자로 들어간 익명함수 전체를 기다려주지 않고, 익명함수 내에서만 동기처리가 된 것이다.\n즉, async/await은 foreach안에서 사용할 수 없다.</p>\n<p>그렇다면 리스트의 요소 순서대로 실행 결과를 얻으려면 어떻게 해야 할까?</p>\n<h3>for … of(for-loop)를 사용한다.</h3>\n<p>callback을 사용하는 foreach 대신 <code class=\"language-text\">for ... of</code> 문을 사용할 수 있다. (혹은 일반적인 for-loop)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">result</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">list</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> data <span class=\"token keyword\">of</span> list<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span>\n<span class=\"token function\">result</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span></code></pre></div>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 97px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 250.51546391752578%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAyCAYAAABcfPsmAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC5ElEQVR42q2XyU8UQRTG558wxMgsvS/VPSswgCISYBQCA2EXDUZxPUiMMR6Mmph4MMaz8WAQzyT+i5+vXg/x4lRVqDl86U6n5puuer+3dCnPc6jUqDdRJ+V5Bt1aqVIQBBiuEI5bhuvV+F69tlDJ9338XwFct4Yb3U1MdXpwnAoCejZ8faGhhvLH1do17K19wsH6Z4xXriAMIgvDoDDstnvYXf2AcmXM3rDmjGN96RUe7/9EFKbwPJePQmnoeR6Gy6dzdMi4wvfqtYVKWmwaLTQbbSNkDLAptu24FSNkNNhIeVi++QjzM3uMkG+DjTQLwxjdzh08PzyDSFsEuGMf5bnpLWz03vC2rd9QptvTg1/YXn3P9/KZ1lCHQW2QcsbYpGkKlfKsgUzk0K27kNYwCB2SZ26o3oKLW7OHVHG2OGOMtqwsX4TJ4twRTo7+UC4ng1y+dJQLwzybxLO7v+kcO0ZwDzWUbxNFKTN42P+CJK6bvaHqPFxpOihbDr2dCTqlJEmgk0gFXVOYrNViI4QwRsYAG5+aEwWCt+rbYSNzV/aUqfYSjnd/DCLs2xeHhzvfCZvTAYfeZQ1lMXCQJnVsr7wjsM+Ri0kzDpXYULpVqleJwabR+RlgIyOX0TUyQsYImziJWSPBRmZKSMEQSct8y6oD9ijSsjCsLLyg1Kva9pQC5M3bb3lYiiNhV76kmSwM16f6eHJwinrWpahX7WcbWbEnWkvcrPxRVBs/qFFd9DmCI8BGcMeTC0eDzaAxiaQzCmyKGXufIiwjbYlNwAaNfAYnD86xs/qxaFI8LFk0qTRp4P7mNy5hE61FinRZ+yWg/AqQE9dEcwGzk30jBrWZIkc6eY6m3yhsqJuZsywznq95xtb9o0jbVGBzo+2qg8IjcYK1xZdUcc7Y2CrKF+jISN/b+MofkFZBkR2vXB1Df/k1evPHfF+Mxb5dk6pn09xCXdc1S704pp4xVAlPr1EcQb3un/4CZYK6zaWNVJgAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"result\" title=\"\" src=\"/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png\" srcset=\"/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png 97w\" sizes=\"(max-width: 97px) 100vw, 97px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>드디어 요청 순서대로 출력되는 것을 볼 수 있다.\nfor문은 각 요소(data)에 대해 delay()의 결과를 기다려 준 다음에야 그 다음 요소에 대한 delay()를 실행하기 때문이다.\n그런데, 요청에 대한 응답을 받은 다음에야 다음 요청을 보내므로 리스트의 데이터가 많아질수록 더 많은 시간이 걸리게 된다. 더 빠른 방법은 없을까?</p>\n<h3>map()과 Promise.all() 을 사용한다.</h3>\n<p>우선 이번에는 foreach가 아닌 map을 사용할것이다.\n두 함수는 callback을 사용한다는 점에선 같지만, await을 사용했을 때 foreach는 promise 배열을 반환하지 않고 undefined를 반환하는 반면, map은 promise 배열을 반환한다.\n이 차이를 생각하고 아래 코드를 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">loop</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">list</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"시작\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> promises <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> data<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  \n  <span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>promises<span class=\"token punctuation\">)</span>\n  results<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"끝\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n  \n<span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span>\n<span class=\"token function\">loop</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span></code></pre></div>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 287px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 108.71080139372822%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVR42q2V3UrDQBCF8x6pbbO/SbshtTHWpCAiVryI4lUq9QXq+z/AcXZiBS/dzcWB4QSGM/PtZhOtNYQQaLsOp9MJwzAgyzJ4Xyn1byXGGEgp0bYt+r7H4fDMH3zDECXWWngZnVMywWkvXogSKRU1WqBr3uBWNTXMOHGofhMWxRp5XkSl44RKeShLNNsnlOuGa++FAGEoWhsqBOrNA1ZFRbUMBsJQPGUvawuWMRoXL0SJIijL7Ar723dcV/dcey8airX5T9IJoGRigd3NCzZlR1AWsVA0Q6nKOzqHW66joWitaH8dityxGQVFMpQ52uaVzuGOb42cBsoIJhqKZihzPO4/p4Ey7lDTuNtxh7EHe2woGYqjph5Q3E1RHoCgcffIreM6dFwemX+u1LksHZxbR98WHjlNU5zPXzgePzCbzYLfkz9vSkePVF3XbMbs8BsjYn2myUvoaAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"result\" title=\"\" src=\"/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png\" srcset=\"/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png 287w\" sizes=\"(max-width: 287px) 100vw, 287px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>앞서 언급했듯이, map은 promise 배열을 반환하기 때문에 배열의 모든 promise가 통과할 때까지 기다려주는 <code class=\"language-text\">Promise.all()</code>을 사용했다.\nmap을 사용하게 되면, 비동기 요청의 시행 결과 순서가 아닌, 요청을 보낸 순서로 promise 배열이 반환된다. 각 요청을 기다리지도 않고, 끝나는 시간도 다르지만, 반환된 결과는 기존 리스트의 순서와 동일하다.</p>\n<p>각각의 요청 결과를 기다리지 않고, 순차적으로 해결하지 않다는 점이 for문을 사용한 경우와 다르다. 그렇기 때문에 속도도 다를 수 밖에 없다.</p>\n<img src=\"/1d35da5665d646b268eebe923e7945ae/2020-09-01-loop-async-example5.gif\" width=\"200px\" alt=\"result\">\n<p>왼쪽이 <code class=\"language-text\">for...of</code> 의 결과고, 오른쪽이 위의 결과이다.</p>\n<h3>상황에 맞게 쓰자!</h3>\n<p>배열을 순회하며 비동기 요청을 보내는 경우,</p>\n<ol>\n<li>\n<p>비동기적으로 처리되어도 상관 없다 : foreach 함수를 써도 된다.</p>\n</li>\n<li>\n<p>각각의 요청에 대해 모두 await을 해야 한다 : 기다려야 한다는 점에서 느리지만 for-loop를 사용하자</p>\n</li>\n<li>\n<p>요청이 끝나는 순서는 상관 없다 : map 함수를 통해 promise를 반환하자</p>\n</li>\n</ol>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우아한테크코스 백엔드 과정을 하고 있는 필자는 프론트엔드(자바스크립트 및 기타등등) 왕초보다.\n초보가 우테코 내의 프로젝트를 하는 중, 루프를 통해서 요청에 대한 응답을 동기적으로 처리하려다가 발견한 사실이 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우선 예시 코드를 살펴보자.\napi 요청과 유사하게, 실행될 때 마다 소요되는 시간이 다르도록 구현되어 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"delay"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" randomDelay "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" Math"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"floor"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"Math"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"random"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"100"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Promise"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"resolve"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setTimeout"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"resolve"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" randomDelay"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" list "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\nlist"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"delay"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"간단한 예시이므로 delay() 실행에 따른 각 결과를 출력해 보았다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"물론, 실 서비스 코드였다면 delay()는 api 요청에 관한 로직이었을 것이다!"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":"와 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":"을 붙였다. 그러니 당연히 처리 결과는 1, 2, 3, 4, 5 순서일 것이라고 생각했다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 93px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 270.96774193548384%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA2CAYAAADH7bkwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADhklEQVR42q1YS08TURTuD3Bh1PAofU2nM9PnzLRgFVqhFnmIlfIICpQq4gMDSAzE+EgMxviIbtyYqHElLozGjSt/gGt/0+e5lzYlsXPn2nHxpZ3m9PSec777nXPqi8Vi+BsaotEI7MwQFqb2MJAtQ4mGodHn7e1b8LX7UGs4zFkjqIzewUbtM1Q16urM0SGDrhnoDRzF8Ol5crqNcKQPmqZ3eEL6InNQGlrE3tZvFE/NNE6odXpCClmlHJoFlIt1cjgrFa4wZOaUFSIY6kYo3Cvv0DRNOMGyLNh2jl6zENkdhk/TNLSHDjUWpdN1Uf4U/uxs24JjDpmTVDKLseE1pJP9lFOl86Ic8DBMxC5g8eILXF94z/PpocqMOgb6gscwPbaDNXIYUYKd35QD2ijImmcwPnIDm/Wv/AfUmNp5yCzEfG4MlypPUSBis6soFbKqqmiPGA+zL3iCKu3nz862LfgymQycwLloEgczFkR2h+HTdR1OMIw45Y7ypkUhsjsMYcgsjxZpom0WKYeKXMjtKaPx/OVz49hY+UICscJ52bnAEkUCoS5crjzB9pXvmCpvelObpsO5yYd0U57h1uJHJBOWlGoLic2c1GZeY6J0U/7qiYrCChEM9TR4qMoVJZVKQYQMcTCdzsDNrglfPB6HCEbcQCKRgJtdE4KQo0QTA3EjLR2ukIeKEsLQyQpJ1zvCBymlcdFDnYrRg2K+ilr1FX/fcV9uOfRjdf4tCvlp6tN+bw5ZDln+5iYfNRxJhuyWZDZB/FNR3GiQTCalKcNp407WNBE7LU9s0fHZ3Q1HAhwx2RbgRptRGpYunrvrtcoar7Khx3F7eR/L1edcztjM2LEeBul01fF72F37SU4/eb8pzEEibmKytI767BvSw5BcCxAlmOkhE1YmtiwFUkURt1GDQ9cN+Tbq1rhNkzV5U77Ri1tAhEaR4zxs1RsPm03KJnF4QHPioPyw5Dhwsgk2kcPOtR80xV7lg7sn+TL0BLr9RzhtyoUadb8ujzeFeMhuxlb9G+dhRAl4mWCbApuixXEU/XZJKn/coWhFYCrNThaJBqVWCr5WiBcZiy89lmnLLz6i1YztKkxlIkwPZUMW8ZAtPBdGt3h/9sRDnY9z3Th/dhWPN35hwG5s9JrHTcpM52nx2cXS9EuvengQco4WHzYbri/t/4ccNv5zmJ24T4P7oPSfGH8Amw80oXhxpUgAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"result","title":"","src":"/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png","srcSet":["/static/859b0e5dd18851d585776ed6cf0512e4/5900d/2020-09-01-loop-async-example1.png 93w"],"sizes":"(max-width: 93px) 100vw, 93px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"어…? 생각한 대로 돌아가지 않는다. 그렇다… 날치기로 공부하다가 들켜버린것이다!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"자 그럼 지금부터, 초보가 해결하지 못했던\n"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"반복문에서 비동기 처리를 동기적으로 처리"}]},{"type":"text","value":"하는 방법에 대해 알아보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"여기서, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"비동기/동기"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"blocking/non-blocking"}]},{"type":"text","value":" 에 대한 내용이 궁금하다면 "},{"type":"element","tagName":"a","properties":{"href":"https://www.youtube.com/watch?v=IdpkfygWIMk"},"children":[{"type":"text","value":"우아한테크코스 우의 테코톡"}]},{"type":"text","value":" 영상을 참고하면 좋다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"promise와 async/await에 대한 설명이 필요하다면 관련 "},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/await"},"children":[{"type":"text","value":"문서"}]},{"type":"text","value":" 등을 찾아보고 오면 좋을 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이 글에서는 위 개념들을 설명하지 않을 것이다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"코드를 얼핏 보면 기대했던 대로 동작할 것 같은데, 왜 요청이 처리되는 순서는 다를까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" list "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\nlist"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"+"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\" : 요청 시작\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"delay"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"+"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\" : 요청 끝\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 236.9281045751634%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAvCAYAAADjNOpjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEX0lEQVR42p1XaVPbShD0L8GXZFmXb/ngsM0ZjhS2KbBJqoAYsCGYPB6V/P/J9JjdmMcDrfNhS4uRRj3TPb2jhG3blEqlqNVq0ebmJhWKRapWq3R//50eZjOq1Wp0enpKP378Q57nUTaTJcuy3l2JXC5HCIqbwzAk13VlIdDa2hoFQUBFfkmxWCLHcQj3f7QSCJbNZqlQKAhKBEaQw8ND6vcH8pKtrS0ajc4pn88LCjzz3hKEmUyGoiii9fV1CVAqlWg4HNH5+bmkv7e3R4PBQJAbBcQGqCqViqDAg/V6nTqdjk5/e3tb/meUMkgBQqRZfCFlOr1jYu4lMNCNr6/npGRjSEGh1VIIsA+5pgoxyoAXLt773tIIG40mHR8fS/2Q4mz2SD9//RKEw9FoLhvfk3obI0S9Fv8OAl+jxtUYYTKZFMns7OwIOUB5dXVF1zc3VC6XqdfrST3xwtgaIiA2CIRUlQ7BKuQCfTabTdrY2BAEsbLBTXhrxLXCQ0KCEvbgRdgcfDgcCkI8ZCQboAAqBECaZ2dndHFxIRJCKfr9vlnKqj+RZrVaEwR4sNFo6FaEZCByE2ISlm1ROp0WzSEArkA1uZ3Q09OTyObk5ISmd3cSPFY2QIegjpNndI6u0WKhkSbWR2RoUizLpnQmScWwRa3aISNIkm3Zms1FVj9C9gphLmdT3nHJyxf4x+ybAEgzzhTesAwSwKbLdYJBXF5e0mQyEZOdTqdGxqARzg02pFpUFSFj7e7uirAh9qOjz0ai1n5o2RwwiKhSbHN6KfkH0gT7CIIMlko5a6U5YIPqlT1Gm+aAcxdXEsHVhGHdetj4gcepBgTWIWB0zurqqggee/wW13Ya4crKinRCr9eX+omwmRB4Yrfbped/n81JWXRr1/X0MRr4AfmeP98zShMvnLeehdZLUsFv0Fq9xwSsMJI/b1SoVLfErYTKHUQ4tqeLC4YVyzDgpVjO8IPww/39fe3YsK7bF2Hf3N7yeeKb6xCbMAzYWSK+QthFOjg4kBXxbzBaY5ZF2Ny/eSegwItYkxktZizUBSkb63BuAhlmtCzEYP/fTjG1rlcpu57LplDQRyaMFobhsXSgS5MxRJOSTqfEBNrttjgNgt2xQz8+PlIHwn5+Fo0uKez52aLEjcMKCx0C1pcQti0OA3No1g7EveHYiwZrguz1qecwsnzAK+RAFqmZEYFUjY0Rqq5ADTGpysBZxijyjcbja3Gc8XgspBk7NjaoUxTVyOeOgON8+rTPTn0kL8JUtpSw7ZxFrsMDu/PnkIKYlQ5xNe5lRUroR1QtdWVvvRyjKsW4w/1/RxHIw+elZmyIGcJGTZvN1pvZMXaCxRgCUtSM/fAwkw+fdrsjzm1Myjwy2s0VUS9OsyAHyDGNLS1s1LAVfdbH6F8LW40iTs6lfC7QLKcWWF56FMEDlUqZjaCtv+0wcOJLCsTgswypGzm2Cog6dbub+tPslAPicwJn8pcvX42+8xDwN4LIjDDc8QBLAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"result","title":"","src":"/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png","srcSet":["/static/1ac1a511ee245d5ef4fefd722d1b5676/bed10/2020-09-01-loop-async-example2.png 306w"],"sizes":"(max-width: 306px) 100vw, 306px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 코드에 대한 결과이다. 요청 자체는 리스트 요소 순서대로 이루어진다.\n익명함수 내의 실행 순서는 delay() 함수가 종료된 후 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"console.log(data + \" : 요청 끝\")"}]},{"type":"text","value":"가 실행되지만, 각 요소의 요청에 대한 처리 속도가 모두 다르기 때문에 delay()는 순서대로 끝나지 않는다. 콜백인자로 들어간 익명함수 전체를 기다려주지 않고, 익명함수 내에서만 동기처리가 된 것이다.\n즉, async/await은 foreach안에서 사용할 수 없다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그렇다면 리스트의 요소 순서대로 실행 결과를 얻으려면 어떻게 해야 할까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"for … of(for-loop)를 사용한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"callback을 사용하는 foreach 대신 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"for ... of"}]},{"type":"text","value":" 문을 사용할 수 있다. (혹은 일반적인 for-loop)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"result"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"list"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"for"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" data "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"of"}]},{"type":"text","value":" list"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"delay"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" list "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"6"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"7"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"result"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"list"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 97px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 250.51546391752578%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAyCAYAAABcfPsmAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC5ElEQVR42q2XyU8UQRTG558wxMgsvS/VPSswgCISYBQCA2EXDUZxPUiMMR6Mmph4MMaz8WAQzyT+i5+vXg/x4lRVqDl86U6n5puuer+3dCnPc6jUqDdRJ+V5Bt1aqVIQBBiuEI5bhuvV+F69tlDJ9338XwFct4Yb3U1MdXpwnAoCejZ8faGhhvLH1do17K19wsH6Z4xXriAMIgvDoDDstnvYXf2AcmXM3rDmjGN96RUe7/9EFKbwPJePQmnoeR6Gy6dzdMi4wvfqtYVKWmwaLTQbbSNkDLAptu24FSNkNNhIeVi++QjzM3uMkG+DjTQLwxjdzh08PzyDSFsEuGMf5bnpLWz03vC2rd9QptvTg1/YXn3P9/KZ1lCHQW2QcsbYpGkKlfKsgUzk0K27kNYwCB2SZ26o3oKLW7OHVHG2OGOMtqwsX4TJ4twRTo7+UC4ng1y+dJQLwzybxLO7v+kcO0ZwDzWUbxNFKTN42P+CJK6bvaHqPFxpOihbDr2dCTqlJEmgk0gFXVOYrNViI4QwRsYAG5+aEwWCt+rbYSNzV/aUqfYSjnd/DCLs2xeHhzvfCZvTAYfeZQ1lMXCQJnVsr7wjsM+Ri0kzDpXYULpVqleJwabR+RlgIyOX0TUyQsYImziJWSPBRmZKSMEQSct8y6oD9ijSsjCsLLyg1Kva9pQC5M3bb3lYiiNhV76kmSwM16f6eHJwinrWpahX7WcbWbEnWkvcrPxRVBs/qFFd9DmCI8BGcMeTC0eDzaAxiaQzCmyKGXufIiwjbYlNwAaNfAYnD86xs/qxaFI8LFk0qTRp4P7mNy5hE61FinRZ+yWg/AqQE9dEcwGzk30jBrWZIkc6eY6m3yhsqJuZsywznq95xtb9o0jbVGBzo+2qg8IjcYK1xZdUcc7Y2CrKF+jISN/b+MofkFZBkR2vXB1Df/k1evPHfF+Mxb5dk6pn09xCXdc1S704pp4xVAlPr1EcQb3un/4CZYK6zaWNVJgAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"result","title":"","src":"/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png","srcSet":["/static/177e844ca326ba8a7f36a2946b5a5557/98cbe/2020-09-01-loop-async-example3.png 97w"],"sizes":"(max-width: 97px) 100vw, 97px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"드디어 요청 순서대로 출력되는 것을 볼 수 있다.\nfor문은 각 요소(data)에 대해 delay()의 결과를 기다려 준 다음에야 그 다음 요소에 대한 delay()를 실행하기 때문이다.\n그런데, 요청에 대한 응답을 받은 다음에야 다음 요청을 보내므로 리스트의 데이터가 많아질수록 더 많은 시간이 걸리게 된다. 더 빠른 방법은 없을까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"map()과 Promise.all() 을 사용한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우선 이번에는 foreach가 아닌 map을 사용할것이다.\n두 함수는 callback을 사용한다는 점에선 같지만, await을 사용했을 때 foreach는 promise 배열을 반환하지 않고 undefined를 반환하는 반면, map은 promise 배열을 반환한다.\n이 차이를 생각하고 아래 코드를 살펴보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"loop"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"list"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"시작\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" promises "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" list"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"map"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"delay"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" results "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" Promise"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"all"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"promises"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  results"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"forEach"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"끝\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  \n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" list "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"6"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"7"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"loop"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"list"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 287px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 108.71080139372822%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVR42q2V3UrDQBCF8x6pbbO/SbshtTHWpCAiVryI4lUq9QXq+z/AcXZiBS/dzcWB4QSGM/PtZhOtNYQQaLsOp9MJwzAgyzJ4Xyn1byXGGEgp0bYt+r7H4fDMH3zDECXWWngZnVMywWkvXogSKRU1WqBr3uBWNTXMOHGofhMWxRp5XkSl44RKeShLNNsnlOuGa++FAGEoWhsqBOrNA1ZFRbUMBsJQPGUvawuWMRoXL0SJIijL7Ar723dcV/dcey8airX5T9IJoGRigd3NCzZlR1AWsVA0Q6nKOzqHW66joWitaH8dityxGQVFMpQ52uaVzuGOb42cBsoIJhqKZihzPO4/p4Ey7lDTuNtxh7EHe2woGYqjph5Q3E1RHoCgcffIreM6dFwemX+u1LksHZxbR98WHjlNU5zPXzgePzCbzYLfkz9vSkePVF3XbMbs8BsjYn2myUvoaAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"result","title":"","src":"/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png","srcSet":["/static/1340511bd79882117a5c03a5dd9e0166/efc29/2020-09-01-loop-async-example4.png 287w"],"sizes":"(max-width: 287px) 100vw, 287px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"앞서 언급했듯이, map은 promise 배열을 반환하기 때문에 배열의 모든 promise가 통과할 때까지 기다려주는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Promise.all()"}]},{"type":"text","value":"을 사용했다.\nmap을 사용하게 되면, 비동기 요청의 시행 결과 순서가 아닌, 요청을 보낸 순서로 promise 배열이 반환된다. 각 요청을 기다리지도 않고, 끝나는 시간도 다르지만, 반환된 결과는 기존 리스트의 순서와 동일하다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"각각의 요청 결과를 기다리지 않고, 순차적으로 해결하지 않다는 점이 for문을 사용한 경우와 다르다. 그렇기 때문에 속도도 다를 수 밖에 없다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"src":"/1d35da5665d646b268eebe923e7945ae/2020-09-01-loop-async-example5.gif","width":"200px","alt":"result"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"왼쪽이 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"for...of"}]},{"type":"text","value":" 의 결과고, 오른쪽이 위의 결과이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"상황에 맞게 쓰자!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"배열을 순회하며 비동기 요청을 보내는 경우,"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"비동기적으로 처리되어도 상관 없다 : foreach 함수를 써도 된다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"각각의 요청에 대해 모두 await을 해야 한다 : 기다려야 한다는 점에서 느리지만 for-loop를 사용하자"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"요청이 끝나는 순서는 상관 없다 : map 함수를 통해 promise를 반환하자"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"우아한테크코스 백엔드 과정을 하고 있는 필자는 프론트엔드(자바스크립트 및 기타등등) 왕초보다.\n초보가 우테코 내의 프로젝트를 하는 중, 루프를 통해서 요청에 대한 응답을 동기적으로 처리하려다가 발견한 사실이 있다. 우선 예시 코드를 살펴보자.\napi…","timeToRead":2,"frontmatter":{"title":"반복문에서 비동기 처리를 동기적으로 처리","userDate":"1 September 2020","date":"2020-09-01T12:00:00.000Z","tags":["javascript","asynchronous"],"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBQb/xAAXAQADAQAAAAAAAAAAAAAAAAAAAwQH/9oADAMBAAIQAxAAAAHcJWm92SCDT//EABcQAQEBAQAAAAAAAAAAAAAAAAIDARD/2gAIAQEAAQUCEpsyE3NHTvf/xAAbEQABBAMAAAAAAAAAAAAAAAARASExQRBxkf/aAAgBAwEBPwGhu1LqZJauQ2P/xAAcEQACAgIDAAAAAAAAAAAAAAABAhEhEjEQI3L/2gAIAQIBAT8BKNfY4lkYCqxMldEw+mvzjx//xAAjEAACAQIEBwAAAAAAAAAAAAABAhEDEgATIDEhIjJBUWFx/9oACAEBAAY/ArorgWtzooqguPRy7VnqNzEeDipwrNVBFoQLl292djLTOyhfrDEHcbiI0f/EABwQAQACAgMBAAAAAAAAAAAAAAERMSFRACBhgf/aAAgBAQABPyEAi2QS1Vg4EqDM8QZ8WOmKFiDKQ4gnLBIdI+Z+9P/aAAwDAQACAAMAAAAQOw//xAAYEQEBAAMAAAAAAAAAAAAAAAABERAhMf/aAAgBAwEBPxAAEUAVVUp6kzaAEIMP/8QAGhEBAQACAwAAAAAAAAAAAAAAAREAIXGx8P/aAAgBAgEBPxBSwgBqCAqCIwytFvPu8//EABsQAQEBAQADAQAAAAAAAAAAAAERMQAQIVFx/9oACAEBAAE/EBNqIszJVH3tscXJeUKAtg0grA0tNK0C2isQdDYX7DkHQf0vj//Z"},"images":{"fallback":{"src":"/static/e075bee6dfcc71a33568cd0ef7b6f61c/a764f/asynchronous.jpg","srcSet":"/static/e075bee6dfcc71a33568cd0ef7b6f61c/37bba/asynchronous.jpg 750w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/61c72/asynchronous.jpg 1080w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/d61e8/asynchronous.jpg 1366w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/a764f/asynchronous.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/e075bee6dfcc71a33568cd0ef7b6f61c/ba386/asynchronous.avif 750w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/8adb1/asynchronous.avif 1080w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/dc6b3/asynchronous.avif 1366w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/031aa/asynchronous.avif 1920w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/e075bee6dfcc71a33568cd0ef7b6f61c/a66aa/asynchronous.webp 750w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/65dd5/asynchronous.webp 1080w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/4fad6/asynchronous.webp 1366w,\n/static/e075bee6dfcc71a33568cd0ef7b6f61c/c512e/asynchronous.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5625}}},"author":[{"name":"2기_오렌지","bio":"우아한테크코스 2기 오렌지(조예린)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#e8d8d8","images":{"fallback":{"src":"/static/b91216cf43c880e4273d275948ce1d6c/73bb6/orange.jpg","srcSet":"/static/b91216cf43c880e4273d275948ce1d6c/2f28c/orange.jpg 40w,\n/static/b91216cf43c880e4273d275948ce1d6c/499f6/orange.jpg 80w,\n/static/b91216cf43c880e4273d275948ce1d6c/73bb6/orange.jpg 120w","sizes":"100vw"},"sources":[{"srcSet":"/static/b91216cf43c880e4273d275948ce1d6c/e73fe/orange.webp 40w,\n/static/b91216cf43c880e4273d275948ce1d6c/61ca6/orange.webp 80w,\n/static/b91216cf43c880e4273d275948ce1d6c/507b0/orange.webp 120w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}],"source":null}},"relatedPosts":{"totalCount":4,"edges":[{"node":{"id":"b8e94aa8-badc-5a6d-87a0-a3566384831e","timeToRead":4,"excerpt":"최근 requestAnimationFrame(이하 rAF)과 setTimeout을 공부하면서 브라우저의 싱글 스레드 동작이 정확히 어떻게 이루어지는지 잘 모른다는 생각이 들었다.\n이번 기회에 이벤트 루프의 동작을 공부하고 추가로 rAF…","frontmatter":{"title":"이벤트 루프, 넌 누구냐","date":"2021-08-28T12:00:00.000Z"},"fields":{"slug":"/post/2021-08-28-event-loop/"}}},{"node":{"id":"e52cd551-f790-5d23-b051-ac08cea46d27","timeToRead":5,"excerpt":"0. 인트로 클로져를 MDN…","frontmatter":{"title":"클로져와 가까워지기","date":"2021-07-16T12:00:00.000Z"},"fields":{"slug":"/post/2021-07-16-closure/"}}},{"node":{"id":"d78dcaf3-4677-5617-9b4e-385c816d02c1","timeToRead":1,"excerpt":"이번 글에서는 리액트에서 key를 사용하는 이유와 올바른 사용법에 대해서 알아보고자 한다. key를 사용하는 이유 간단한 이해를 위해서 다음과 같은 배열이 있다고 하자. 그리고 위 배열을 다음과 같이 렌더링 한다고 가정해보자. 이후 a, b, z, c…","frontmatter":{"title":"리액트의 Key를 알아보자","date":"2021-04-26T12:00:00.000Z"},"fields":{"slug":"/post/2021-04-25-react-key/"}}},{"node":{"id":"0c0a25dd-d300-5b3b-b8d8-1ad47de1b492","timeToRead":2,"excerpt":"우아한테크코스 백엔드 과정을 하고 있는 필자는 프론트엔드(자바스크립트 및 기타등등) 왕초보다.\n초보가 우테코 내의 프로젝트를 하는 중, 루프를 통해서 요청에 대한 응답을 동기적으로 처리하려다가 발견한 사실이 있다. 우선 예시 코드를 살펴보자.\napi…","frontmatter":{"title":"반복문에서 비동기 처리를 동기적으로 처리","date":"2020-09-01T12:00:00.000Z"},"fields":{"slug":"/post/2020-09-01-loop-async/"}}}]}},"pageContext":{"slug":"/post/2020-09-01-loop-async/","prev":{"excerpt":"…","timeToRead":2,"frontmatter":{"title":"토큰을 어디에 저장할까?","tags":["token","authorization"],"date":"2020-08-31T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABBklEQVR42p1SW27CMBDk/tfoBXqFSv3ko+oHfYBb3BAIj4QQUuz4kemuW4oSQAFWGq013h2Pve5p43CAh/ouUWoFXTmoygZoBu1XJ6Bb6LUFza6AtgrG0trYAO89OOq6bsARr/4OOyPoqLlGO5jJi5IOcQ2eazsE2c2hiV1wpOst7u4fMBhGDf4CwWOH3Nt/HuKx/4I0394uuG/6iBI8DcS/+JVXPnbonA/cfhBXv6HSBtaRMDVbEmNBHgZnnipnG0D1lel2uCNBOZnjTUgIOcVoHGM8SfA6kviMZngXXxDEyXgeajv+4e9nXmUF4mSFZbbBIs2x3pQhzxYppgReZzSgtjsW/AHNAwx/LsSMYgAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/626edb306a7f6891feaa92c409e2dcae/9c1d0/keystore.png","srcSet":"/static/626edb306a7f6891feaa92c409e2dcae/54a8b/keystore.png 750w,\n/static/626edb306a7f6891feaa92c409e2dcae/f86a0/keystore.png 1080w,\n/static/626edb306a7f6891feaa92c409e2dcae/69b83/keystore.png 1366w,\n/static/626edb306a7f6891feaa92c409e2dcae/9c1d0/keystore.png 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/626edb306a7f6891feaa92c409e2dcae/67c66/keystore.webp 750w,\n/static/626edb306a7f6891feaa92c409e2dcae/57135/keystore.webp 1080w,\n/static/626edb306a7f6891feaa92c409e2dcae/b0b21/keystore.webp 1366w,\n/static/626edb306a7f6891feaa92c409e2dcae/9614d/keystore.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.49739583333333337}}},"author":[{"name":"2기_유안","bio":"우아한테크코스 2기 유안(김성규)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAcIBQYJCv/EABgBAAIDAAAAAAAAAAAAAAAAAAYHAAMF/9oADAMBAAIQAxAAAAHs9ANTdJtEoMUhTf6z50XhV53Qwhf/xAAcEAADAQACAwAAAAAAAAAAAAADBQYEAggBBxX/2gAIAQEAAQUC3MMa4VDtXVQX3Z32XAurF2d/aBJlILsEy+pbOl+bxx4TKhUalaa37r//xAAjEQACAgIBBAIDAAAAAAAAAAABAgMEBRESAAYTIRQxFTJx/9oACAEDAQE/AVn70e1at4uji6lfGWpIoquWe4l7JiFgjSRrDA8dWCxsrWM53JtXIWBkmkx9uPKUKeSEZjF+rBcEbDTJ8iNZeJAAHrlr0B/B9dY53aPuHk7HxZqZY9sT41/FY1tJv9ByJbS6HIk/fVEBadRVAVVrVwqgaAAijAAA9AAegB1//8QAIhEAAgEDBAIDAAAAAAAAAAAAAQIDBBETAAUSIRRBQnOy/9oACAECAQE/AZn2Voo6aokqqjy0GSeiMGCmLLk43kkVppIhZpMfS2KgtIrIs0PiyyU1+Xju0PIG4OM8L3JJ9e76rVVdx2kBVAl22lMgAAEhNZUglx8iR1dr9dam7ml+x/0df//EACYQAAICAQQCAQQDAAAAAAAAAAIDAQQFERITIQAGFCIjMUIWJEP/2gAIAQEABj8C5rjoUGkzH5Iy29ltCO9B/Yp0Af2KNY8qU8dbELFe0NoTsOJCdm2RkohE2IlwdEqbSYUH1fXEz5k/VfYPTMB8zF2iWj5b8lLix8gE0m/KrXIr5ELCv7C76QWDltEYWPHp4uhWs64uwcoTE3HUkWwrKKJW9orNqq5yEmIITLrT3wtMiw+ReVmnSo4q1hSGqbkZW7Fu3aKw1AFhpYxqMpShy+ICtogrNzkohFZ6Sd5j3FO5yvVMJXsfnWHrm3JDrPcwMGMBM/57PPS7/GJfyitfTkqhgs6QqiUsEayzCWBtaItiWtcUMiC16jRmTp1tlmim38bfPKtXGl1seJbIKK/3UD1V4I2SQRpGm27k8gQlZYS1TxxsWIVVBWVADMlt+2qJnvs5KetdPP/EABkQAQEBAQEBAAAAAAAAAAAAAAERIQAQMf/aAAgBAQABPyFWTiQA0Cot1c+sDLIGB+RmEZi40AAWNK2A8wkovqEJJ3GrLnAdpG84keZAZ1WHuhdoghYFQOamHWxysL8wz5tC9CH5LncDynlYIlourELYBBD/2gAMAwEAAgADAAAAEJ/Hv//EABkRAQEBAQEBAAAAAAAAAAAAAAERIQAxYf/aAAgBAwEBPxCS2kRtBY2fpgSFKChoIfMDPgQ00rQFdMTIEGlR8BSPZhgAAMAO/8QAGBEBAQEBAQAAAAAAAAAAAAAAAREhADH/2gAIAQIBAT8Q8U20hiXYc9vfQaQyAuAoELUnaq1Oc3sLkASME6MzkoVVdVqq6q6q6r73/8QAGBABAQEBAQAAAAAAAAAAAAAAAREAEDH/2gAIAQEAAT8Q8H4IrWWccVgcsCyek9KQJCD/AIFVHnXne4eH9TUoUrx9yrUAxXQ7ltDTS3lWSrGpIyLWWa+YORIiTvKEHJYLxYWzAb5wXQ2FY2EeKeOf/9k="},"images":{"fallback":{"src":"/static/2f987f5d00781c4cb2aed3ed923e77df/a89ca/you.jpg","srcSet":"/static/2f987f5d00781c4cb2aed3ed923e77df/a89ca/you.jpg 600w","sizes":"100vw"},"sources":[{"srcSet":"/static/2f987f5d00781c4cb2aed3ed923e77df/6d09e/you.webp 600w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}]},"fields":{"layout":"post","slug":"/post/2020-08-31-where_to_store_token/"}},"next":{"excerpt":"문자와 문자열 자바 프로그램이 실행되는 동안 가장 많이 생성되는 객체가 무엇인지 아는가? 그것은 바로 문자열(String) 객체이다. 문자열은 문자의 배열이다. “abc”라는 문자열은 ‘a’,‘b’,‘c…","timeToRead":3,"frontmatter":{"title":"Java의 문자열을 파해치자!","tags":["java","string","immutable"],"date":"2020-09-07T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA7UlEQVR42t3Tv0/CQBjG8f7bbg5OxNnBFVbGDkZBQoKENGiCTTRNTQOiIi0/0tCW9tr7WhoiA5pcA4te8ubdPnnu3vc0jny0vw7KI4MyK41qv1sC4VnINPnOKrf2pktlsEgFidMmNus74ZCEYQqfwwHxqIcbxFjuEnMywwsivFXExA+KWotUDZyHEdV7G/1phO0tGYxdzht9TvQup1cGleYDZ9cGUSL2Rqf9NFPzY87lnclF5xFn5vM8XVDrW7TsN9ov79xYr9zaY/Urp/mbrWKBv04I8xQiy/JnlEqLpLzYGzArim2X//PrlQe/AOkVm7nv/7V/AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/e19ea0216ae8395bd4b3389970928be9/a3486/java.png","srcSet":"/static/e19ea0216ae8395bd4b3389970928be9/76a4f/java.png 750w,\n/static/e19ea0216ae8395bd4b3389970928be9/a902f/java.png 1080w,\n/static/e19ea0216ae8395bd4b3389970928be9/a3486/java.png 1200w","sizes":"100vw"},"sources":[{"srcSet":"/static/e19ea0216ae8395bd4b3389970928be9/66907/java.webp 750w,\n/static/e19ea0216ae8395bd4b3389970928be9/27610/java.webp 1080w,\n/static/e19ea0216ae8395bd4b3389970928be9/c3710/java.webp 1200w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.75}}},"author":[{"name":"2기_스티치","bio":"우아한테크코스 2기 스티치(이준영)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAgGBwn/xAAWAQEBAQAAAAAAAAAAAAAAAAAEBQP/2gAMAwEAAhADEAAAAe67WR55Mz1XYVqaVIxCMoMUJ3//xAAeEAACAwABBQAAAAAAAAAAAAAEBQIDBgcBERIUFf/aAAgBAQABBQI4w0OCvoJfRT28+RXcVibjjSTBOXNY3x2VPuZ4ZgwtlmH7L5n/xAAiEQABAwMDBQAAAAAAAAAAAAABAgMRAAQhIjHwMkFRcbH/2gAIAQMBAT8Bu227Z9bbapBTO2wxCZ9Z4KC8Cr8kXjUE6kNpVnqSVmQryD3Bwa58r//EAB8RAAECBwEBAAAAAAAAAAAAAAECEQADBBIhMUFRYv/aAAgBAgEBPwGlWuolCbM3da+GLbNvMwUFzFEAaOY4BtWtSflQSGUPCOEZgkvuP//EACUQAAMAAQMEAgIDAAAAAAAAAAECAwQREhMAISIxFCRBYQVjsf/aAAgBAQAGPwKONm5bPY42HSmPyIMYO0QzHIpM7cpcQY4CEk8hiXYTWbBhnSuuaMorQZSOlZNou3WTJuT8exqfx29dZegJ+0/fX+uQ/fXOkKWyMqhw0sqM88eZVmatqoNJshOuJvbysxGhXfqyUzM2UeP6+GXouDlUrVRVqIRx8kI61gZ7SWJY7gunWTQFQGy6EeevYzkf1/nWdvpafxDO6CFDIUZKAKtwO1UB8wp9OAw0I6xv4+uflVw7XY/HdwUjR97c2P46workuOMhdSQysrMp8qhjzuNzA7m2pNQT396Adf/EABoQAQADAQEBAAAAAAAAAAAAAAEAESFRMUH/2gAIAQEAAT8hMdWAYPGLJF8KI8RZp+gtsO4yzu7NuvRwHmfIAptlItrgYSQY2CNaiLbfg95YK4MCFCprKN8ebVwKW2ZD0iwD1+DSwWXJjeHLpQbha2rPIR0kAX5P/9oADAMBAAIAAwAAABDI/wCD/8QAHBEBAQACAwEBAAAAAAAAAAAAAREAIUFRcTFh/9oACAEDAQE/EHABHYWUkRJUbqFKjD+k5nqPBN/nZ0YMCDIgDGGGAoABGZAYEKaPc//EAB0RAQABBAMBAAAAAAAAAAAAAAERACExUUFh0XH/2gAIAQIBAT8QHwiMBQABYFuEjDAzeW+utv3ymFBAgqdLdSsASwlSF3HLo8K//8QAGBABAQEBAQAAAAAAAAAAAAAAAREhADH/2gAIAQEAAT8Q56leCFFsEzp7LuuN+UQNiJJco3QAokYxCAQBNH0zvWnGRRx3dvIDC0vnHBhisdz7wdwGELWtBkEkflMWZh4PeEIIYxs3fdlmbR20iTskJhQWd//Z"},"images":{"fallback":{"src":"/static/956289f603f566be6276e5a77ff3ca9a/47930/stitch.jpg","srcSet":"/static/956289f603f566be6276e5a77ff3ca9a/47930/stitch.jpg 400w","sizes":"100vw"},"sources":[{"srcSet":"/static/956289f603f566be6276e5a77ff3ca9a/416c3/stitch.webp 400w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}]},"fields":{"layout":"post","slug":"/post/2020-09-07-dive-into-java-string/"}},"primaryTag":"javascript"}},"staticQueryHashes":["2337738035"],"slicesMap":{}}