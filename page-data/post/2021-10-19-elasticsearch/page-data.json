{"componentChunkName":"component---src-templates-post-tsx","path":"/post/2021-10-19-elasticsearch/","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVQY003Qvw7BUBTH8YYgLCKExWw1IczEwAtIJCa1GJuyCalI/EmERUgHi5cxeI8uTTt1aHp9r9wmhk/OOfee/HJzNd/3Dc/zutS24zgZIUQpiqIt9YY+vUb9+eur6Kh5GN9LGkEn2DBd1y1zmGfxjjf9AFm1XEQCBe6aVBMVLJHiLBcHTiHwQS0MQ/mSOlYsjPDCAjOMccUFR3Z0NdvYISkDW9jAQi8IAhnYgAyZ4wELEzUfcFZfYmCPJ9ZIfwG9owW1fLgCkwAAAABJRU5ErkJggg==","width":400,"height":88,"src":"/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png","srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png 1x"}}},"markdownRemark":{"html":"<blockquote>\n<p><a href=\"https://github.com/xlffm3/spring-data-elasticsearch-practice\">ì‹¤ìŠµ Repository</a>ì—ì„œ ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<h2>1. Elasticsearch</h2>\n<p>ElasticsearchëŠ” Apache Lucene ê¸°ë°˜ì˜ Java ì˜¤í”ˆì†ŒìŠ¤ ë¶„ì‚°í˜• RESTful ê²€ìƒ‰ ë° ë¶„ì„ ì—”ì§„ì…ë‹ˆë‹¤. ë°©ëŒ€í•œ ì–‘ì˜ ë°ì´í„°ì— ëŒ€í•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì €ì¥ê³¼ ê²€ìƒ‰ ë° ë¶„ì„ ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì •í˜• ë°ì´í„°, ë¹„ì •í˜• ë°ì´í„°, ì§€ë¦¬ ë°ì´í„° ë“± ëª¨ë“  íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ë°ìš”. ElasticsearchëŠ” <strong>JSON ë¬¸ì„œ(Document)ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</strong></p>\n<p>ElasticsearchëŠ” ë‹¨ë… ê²€ìƒ‰ì„ ìœ„í•´ ì‚¬ìš©í•˜ê±°ë‚˜, <strong>ELK(Elasticsearch &#x26; Logstash &#x26; Kibana) ìŠ¤íƒ</strong>ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<h3>1.1. ELK</h3>\n<p><img src=\"https://user-images.githubusercontent.com/56240505/134549954-b93fedde-f86c-4a31-bae8-9fd02ae7d35f.png\" alt=\"image\"></p>\n<p>ë³¸ ê¸€ì˜ ì£¼ì œì™€ëŠ” ë²—ì–´ë‚˜ì§€ë§Œ ELKì— ëŒ€í•´ì„œë„ ì§§ê²Œë‚˜ë§ˆ ì•Œì•„ë´…ì‹œë‹¤. ELKëŠ” Elasticsearch + Logstash + Kibanaë¥¼ ê°™ì´ ì—°ë™í•˜ì—¬ ì‚¬ìš©í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.</p>\n<ul>\n<li>\n<p>Filebeat</p>\n<ul>\n<li>ë¡œê·¸ë¥¼ ìƒì„±í•˜ëŠ” ì„œë²„ì— ì„¤ì¹˜í•´ ë¡œê·¸ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.</li>\n<li>Logstash ì„œë²„ë¡œ ë¡œê·¸ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Logstash</p>\n<ul>\n<li>ë¡œê·¸ ë° íŠ¸ëœì­ì…˜ ë°ì´í„°ë¥¼ ìˆ˜ì§‘ê³¼ ì§‘ê³„ ë° íŒŒì‹±í•˜ì—¬ Elasticsearchë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.</li>\n<li>ì •ì œ ë° ì „ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Elasticsearch</p>\n<ul>\n<li>Logstashë¡œë¶€í„° ì „ë‹¬ë°›ì€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³ , ê²€ìƒ‰ ë° ì§‘ê³„ ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Kibana</p>\n<ul>\n<li>ì €ì¥ëœ ë¡œê·¸ë¥¼ Elasticsearchì˜ ë¹ ë¥¸ ê²€ìƒ‰ì„ í†µí•´ ê°€ì ¸ì˜¤ë©°, ì´ë¥¼ ì‹œê°í™” ë° ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<h3>1.2. RDB ë¹„êµ</h3>\n<p><img src=\"https://user-images.githubusercontent.com/56240505/134550384-69294c02-20c5-4627-a832-ab0713c55e0b.png\" alt=\"image\">\n<img src=\"https://user-images.githubusercontent.com/56240505/134551520-b15876b6-9216-433c-a336-81a293dd828c.png\" alt=\"image\"></p>\n<p>ElasticsearchëŠ” ë°ì´í„°ë¥¼ í–‰ë ¬ ë°ì´í„°ë¡œ ì €ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, <strong>JSON ë¬¸ì„œ(Document)</strong>ë¡œ ì§ë ¬í™”ëœ ë³µì¡í•œ ìë£Œ êµ¬ì¡°ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ì„ ì±„íƒí•˜ê³  ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê¸°ì¡´ RDBì—ì„œ ì‚¬ìš©í•˜ë˜ ìš©ì–´ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¨, ê·¸ì— ëŒ€ì‘í•˜ëŠ” ì í•©í•œ ìš©ì–´ë“¤ì´ ì¡´ì¬í•˜ë‹ˆ ì´ ê¸€ì„ ì½ëŠ”ë° ì–´ë ¤ì›€ ì—†ìœ¼ì‹œê¸¸ ë°”ë¼ê² ìŠµë‹ˆë‹¤. ğŸ˜…</p>\n<h3>1.3. Inverted Index</h3>\n<p><img src=\"https://user-images.githubusercontent.com/56240505/134555327-82533784-030d-425b-8683-ee33a728b5fd.png\" alt=\"image\">\n<img src=\"https://user-images.githubusercontent.com/56240505/134555053-daa5f704-5f52-47dc-aa07-0de3bea33e78.png\" alt=\"image\"></p>\n<blockquote>\n<p>ElasticsearchëŠ” íŠ¹ì • ë¬¸ì¥ì„ ì…ë ¥ë°›ìœ¼ë©´, íŒŒì‹±ì„ í†µí•´ ë¬¸ì¥ì„ ë‹¨ì–´ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤. ë˜í•œ ëŒ€ë¬¸ìë¥¼ ì†Œë¬¸ìë¡œ ì¹˜í™˜í•˜ê±°ë‚˜ ìœ ì‚¬ì–´ ì²´í¬ ë“±ì˜ ì¶”ê°€ ì‘ì—…ì„ í†µí•´ í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.</p>\n</blockquote>\n<p>ElasticsearchëŠ” <strong>ì—­ ìƒ‰ì¸</strong>ì´ë¼ê³  í•˜ëŠ” ìë£Œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ëŠ” ì „ë¬¸ ê²€ìƒ‰ì— ìˆì–´ì„œ ë¹ ë¥¸ ì„±ëŠ¥ì„ ë³´ì¥í•©ë‹ˆë‹¤. ì±…ì˜ ì „ë°˜ë¶€ì— ìœ„ì¹˜í•œ ì¼ë°˜ì ì¸ ëª©ì°¨ê°€ Indexë¼ë©´, ì±… í›„ë°˜ë¶€ì— í‚¤ì›Œë“œë§ˆë‹¤ ë‚´ìš©ì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆë„ë¡ ë•ëŠ” ëª©ì°¨ê°€ Reverted Indexì…ë‹ˆë‹¤.</p>\n<p>ì—­ ìƒ‰ì¸ì€ ê° Documentì— ë“±ì¥í•˜ëŠ” ëª¨ë“  ê³ ìœ í•œ ë‹¨ì–´ë“¤ì„ ë¦¬ìŠ¤íŠ¸ì—…í•˜ê³ , í•´ë‹¹ ë‹¨ì–´ë“¤ì´ ë“±ì¥í•˜ëŠ” Documentë“¤ì„ ì‹ë³„í•©ë‹ˆë‹¤. ìƒ‰ì¸ì€ ìµœì í™”ëœ Document ì»¬ë ‰ì…˜ì´ë©°, ê° DocumentëŠ” <strong>ë°ì´í„°ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” Key-Value ìŒìœ¼ë¡œ ì´ë£¨ì–´ì§„ Field</strong>ì˜ ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.</p>\n<p>ElasticsearchëŠ” ëª¨ë“  Fieldì˜ ë°ì´í„°ë¥¼ ì¸ë±ì‹±í•˜ëŠ”ë°, ì¸ë±ì‹±ëœ FieldëŠ” ê°ê°ì˜ ìµœì í™”ëœ ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í…ìŠ¤íŠ¸ í˜•ì‹ì˜ FieldëŠ” Inverted Indexì— ì €ì¥ë˜ë©°, ìˆ«ì í˜¹ì€ ì§€ë¦¬ ê´€ë ¨ FieldëŠ” BKD íŠ¸ë¦¬ì— ì €ì¥ë©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/56240505/135963544-3a9c0ae0-89e8-464f-a4c2-ce3a9095003e.png\" alt=\"image\">\n<img src=\"https://user-images.githubusercontent.com/56240505/135963557-e18dac48-aac9-4c43-b4c5-7ce1fd3d4d68.png\" alt=\"image\"></p>\n<p>RDBëŠ” ë°ì´í„° ìˆ˜ì •Â·ì‚­ì œì˜ í¸ì˜ì„±ê³¼ ì†ë„ ë©´ì—ì„œ ê°•ì ì´ ìˆì§€ë§Œ ë‹¤ì–‘í•œ ì¡°ê±´ì˜ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ê³  ì§‘ê³„í•˜ëŠ” ë°ì—ëŠ” êµ¬ì¡°ì ì¸ í•œê³„ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. íŠ¹ì • ë‹¨ì–´ ê²€ìƒ‰ì‹œ ROW ê°œìˆ˜ë§Œí¼ í™•ì¸ì„ ë°˜ë³µí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë°˜ë©´ ë‹¨ì–´ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ElasticsearchëŠ” íŠ¹ì • ë‹¨ì–´ê°€ ì–´ë””ì— ì €ì¥ë˜ì–´ ìˆëŠ”ì§€ ì´ë¯¸ ì•Œê³  ìˆì–´ ëª¨ë“  Documentë¥¼ ê²€ìƒ‰í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</p>\n<p>ë°˜ë©´ ìˆ˜ì •ê³¼ ì‚­ì œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ êµ‰ì¥íˆ ë§ì€ ë¦¬ì†ŒìŠ¤ê°€ ì†Œìš”ë˜ëŠ” ì‘ì—…ì´ë¼, RDBMSë¥¼ ëŒ€ì²´í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.</p>\n<h3>1.4. Architecture</h3>\n<p><img src=\"https://user-images.githubusercontent.com/56240505/134556753-5133f373-7814-4c4f-8505-6dfbe9f47ed9.png\" alt=\"image\"></p>\n<blockquote>\n<p>í•˜ë‚˜ì˜ í´ëŸ¬ìŠ¤í„° ë‚´ ë³µìˆ˜ ê°œì˜ ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ì €ì¥ëœ DocumentëŠ” í´ëŸ¬ìŠ¤í„° ì „ì—­ìœ¼ë¡œ ë¶„ë°°ë˜ê¸° ë•Œë¬¸ì— ì–´ëŠ ë…¸ë“œì—ì„œë“  ì¦‰ì‹œ ì ‘ê·¼ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n</blockquote>\n<ul>\n<li>\n<p>Cluster</p>\n<ul>\n<li>ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë…¸ë“œë¡œ ì´ë£¨ì–´ì§„ ë…¸ë“œë“¤ì˜ ì§‘í•©ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</li>\n<li>ì„œë¡œ ë‹¤ë¥¸ í´ëŸ¬ìŠ¤í„°ëŠ” ë°ì´í„°ì˜ ì ‘ê·¼ ë° êµí™˜ì„ í•  ìˆ˜ ì—†ëŠ” ë…ë¦½ì ì¸ ì‹œìŠ¤í…œìœ¼ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.</li>\n<li>ì—¬ëŸ¬ ëŒ€ì˜ ì„œë²„ê°€ í•˜ë‚˜ì˜ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•˜ê±°ë‚˜, í•˜ë‚˜ì˜ ì„œë²„ì— ì—¬ëŸ¬ ê°œì˜ í´ëŸ¬ìŠ¤í„°ê°€ ì¡´ì¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Node</p>\n<ul>\n<li>Elasticsearchë¥¼ êµ¬ì„±í•˜ëŠ” í•˜ë‚˜ì˜ ë‹¨ìœ„ í”„ë¡œì„¸ìŠ¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Shard</p>\n<ul>\n<li>ë°ì´í„°ë¥¼ ë¶„ì‚°í•´ì„œ ì €ì¥í•˜ëŠ” ë°©ë²•ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</li>\n<li>Scale-Outì„ ìœ„í•´ RDBì˜ Databaseì— í•´ë‹¹í•˜ëŠ” Indexë¥¼ ì—¬ëŸ¬ Shardë¡œ ìª¼ê°­ë‹ˆë‹¤.</li>\n<li>ê¸°ë³¸ì ìœ¼ë¡œ 1ê°œê°€ ì¡´ì¬í•˜ë©°, ê²€ìƒ‰ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ í´ëŸ¬ìŠ¤í„°ì˜ Shard ê°œìˆ˜ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Replica</p>\n<ul>\n<li>ë˜ ë‹¤ë¥¸ í˜•íƒœì˜ Shardë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</li>\n<li>ë…¸ë“œë¥¼ ì†ì‹¤í–ˆì„ ê²½ìš°, ë°ì´í„°ì˜ ì‹ ë¢°ì„±ì„ ìœ„í•´ Shardë¥¼ ë³µì œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</li>\n<li>ë”°ë¼ì„œ ReplicaëŠ” ì„œë¡œ ë‹¤ë¥¸ ë…¸ë“œì— ìœ„ì¹˜ì‹œí‚¬ ê²ƒì„ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<p>ì¶”ê°€ì ìœ¼ë¡œ, NodeëŠ” <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-node.html\">ë‹¤ì–‘í•œ ì—­í• </a>ë¡œ ë¶„ë¥˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>ëŒ€ê·œëª¨ í´ëŸ¬ìŠ¤í„°ì—ì„œ ë¡œë“œ ë°¸ëŸ°ì‹± ì—­í• ì„ í•˜ëŠ” ë…¸ë“œ.</li>\n<li>ë°ì´í„° ë³€í™˜ ë“± ì‚¬ì „ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ë…¸ë“œ.</li>\n<li>ìƒ‰ì¸ëœ ë°ì´í„° CRUD ë…¸ë“œ.</li>\n<li>\n<p>ë©”íƒ€ ë°ì´í„° ë“± ì „ì²´ í´ëŸ¬ìŠ¤í„°ë¥¼ ì œì–´í•˜ëŠ” ë§ˆìŠ¤í„° ë…¸ë“œ.</p>\n<ul>\n<li>ì¸ë±ìŠ¤ ìƒì„±ê³¼ ì‚­ì œ.</li>\n<li>ë°ì´í„° ì…ë ¥ì‹œ ìƒ¤ë”© í• ë‹¹.</li>\n</ul>\n</li>\n</ul>\n<p>ë‹¨ì¼ ë…¸ë“œë¡œ Elasticsearchë¥¼ êµ¬ë™í•  ìˆ˜ ìˆì§€ë§Œ, íŠ¸ë˜í”½ì´ ë§ì•„ì§„ë‹¤ë©´ ë…¸ë“œë³„ë¡œ ì„œë²„ë¥¼ ë¶„ë¦¬í•˜ê±°ë‚˜ ì‘ì—… ë…¸ë“œì— ëŒ€í•´ Scale-Out ë° ë¡œë“œ ë°¸ëŸ°ì‹±ì„ í•¨ìœ¼ë¡œì¨ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h3>1.5. íŠ¹ì§•</h3>\n<ol>\n<li>Scale out : Shardë¥¼ í†µí•´ ê·œëª¨ê°€ ìˆ˜í‰ì ìœ¼ë¡œ ëŠ˜ì–´ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n<li>ê³ ê°€ìš©ì„± : Replicaë¥¼ í†µí•´ ë°ì´í„°ì˜ ì•ˆì •ì„±ì„ ë³´ì¥í•˜ê³ , ë‹¨ì¼ ì¥ì• ì ì„ ê·¹ë³µí•©ë‹ˆë‹¤.</li>\n<li>Schema Free : Json ë¬¸ì„œë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ë¯€ë¡œ, ìŠ¤í‚¤ë§ˆì˜ ê°œë…ì´ ì—†ìŠµë‹ˆë‹¤.</li>\n<li>RESTful : CRUD ì‘ì—…ì€ RESTful APIë¥¼ í†µí•´ ìˆ˜í–‰ë˜ë©°, ê°ê°ì´ HTTPì˜ PUT / GET / POST / DELETE ë©”ì„œë“œì— ëŒ€ì‘ë©ë‹ˆë‹¤.</li>\n</ol>\n<br>\n<h2>2. Spring Data Elasticsearch</h2>\n<p>Spring Data Elasticsearch í”„ë¡œì íŠ¸ëŠ” Elasticsearch ê²€ìƒ‰ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” ì†”ë£¨ì…˜ ê°œë°œì„ ë„ì™€ì£¼ëŠ” ëª¨ë“ˆì…ë‹ˆë‹¤. ë‹¤ìŒ ì‘ì—…ì— ëŒ€í•´ ë†’ì€ ìˆ˜ì¤€ì˜ ì¶”ìƒí™”ë¥¼ í…œí”Œë¦¿ìœ¼ë¡œ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>Documentì˜ ì €ì¥ê³¼ ê²€ìƒ‰ ë° ì •ë ¬.</li>\n<li>Documentë¥¼ Aggregateë¡œ ì¬êµ¬ì„±.</li>\n</ul>\n<p>Spring Data JPAê°€ Repository ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜í•œ ë©”ì„œë“œ ì´ë¦„ì„ ë¶„ì„í•´ì„œ JPQLì„ ìë™ìœ¼ë¡œ ìƒì„± ë° ì‹¤í–‰í•´ì£¼ëŠ” ê²ƒì²˜ëŸ¼, Spring Data Elasticsearch ë˜í•œ Repository ì¸í„°í˜ì´ìŠ¤ì— ë©”ì„œë“œë¥¼ ì •ì˜í•¨ìœ¼ë¡œì¨ ì¿¼ë¦¬ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<br>\n<h2>3. Dockerë¥¼ í™œìš©í•œ Elasticsearch ì„¤ì¹˜</h2>\n<blockquote>\n<p>Shell</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker pull docker.elastic.co/elasticsearch/elasticsearch:7.10.0\n$ docker run -d -p <span class=\"token number\">9200</span>:9200 -p <span class=\"token number\">9300</span>:9300 -e <span class=\"token string\">\"discovery.type=single-node\"</span> docker.elastic.co/elasticsearch/elasticsearch:7.10.0</code></pre></div>\n<p>ë‹¤ì–‘í•œ ì„¤ì¹˜ ë°©ë²•ì´ ìˆì§€ë§Œ ê·¸ ì¤‘ ê°€ì¥ ê°„í¸í•œ Dockerë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì˜ˆì œëŠ” ë‹¨ì¼ ë…¸ë“œë¡œ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•˜ëŠ”ë°, í´ëŸ¬ìŠ¤í„°ë¥¼ ë©€í‹° ë…¸ë“œë¡œ êµ¬ì„±í•˜ê³  ì‹¶ë‹¤ë©´ <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-compose-file\">docker-composeë¥¼ í™œìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</a>\n9200 í¬íŠ¸ëŠ” HTTP í´ë¼ì´ì–¸íŠ¸ì™€ í†µì‹ ì— ì‚¬ìš©ë˜ë©°, 9300 í¬íŠ¸ëŠ” ë…¸ë“œë“¤ê°„ í†µì‹ í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>\n<ul>\n<li>ìµœì‹  ê³µì‹ ë¬¸ì„œ ê¸°ì¤€ Spring Data Elasticsearch 4.2.x ë²„ì „ì´ Elasticsearch 7.10.0. ë²„ì „ê³¼ í˜¸í™˜ë˜ê¸° ë•Œë¬¸ì— 7.10.0 ë²„ì „ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë°›ìŠµë‹ˆë‹¤.</li>\n<li>ë‹¤ë¥¸ ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#new-features\">Srping Data Elasticsearch í”„ë¡œì íŠ¸ ë²„ì „ ë° Elasticsearch ë²„ì „ í˜¸í™˜ ìœ ë¬´</a>ë¥¼ ê¼­ í™•ì¸í•˜ë„ë¡ í•©ì‹œë‹¤.</li>\n</ul>\n<br>\n<h2>4. Spring Boot ì„¤ì •</h2>\n<blockquote>\n<p>build.gradle</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">dependencies <span class=\"token punctuation\">{</span>\n    implementation <span class=\"token string\">'org.springframework.boot:spring-boot-starter-data-JPA'</span>\n    implementation <span class=\"token string\">'org.springframework.boot:spring-boot-starter-web'</span>\n    implementation <span class=\"token string\">'org.springframework.data:spring-data-elasticsearch:4.2.2'</span>\n    compileOnly <span class=\"token string\">'org.projectlombok:lombok'</span>\n    runtimeOnly <span class=\"token string\">'com.h2database:h2'</span>\n    annotationProcessor <span class=\"token string\">'org.projectlombok:lombok'</span>\n    testImplementation <span class=\"token string\">'org.springframework.boot:spring-boot-starter-test'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ Elasticsearch ë²„ì „ê³¼ í˜¸í™˜ë˜ê²Œ Spring Data Elasticsearch 4.2.x ë²„ì „ìœ¼ë¡œ ì˜ì¡´ì„±ì„ ë°›ìŠµë‹ˆë‹¤.</p>\n<h3>4.1. Elasticsearch Clients ì„¤ì •</h3>\n<blockquote>\n<p>ElasticsearchOperations.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">ElasticsearchOperations</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">DocumentOperations</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">SearchOperations</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Elasticsearch ê´€ë ¨ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ì£¼ë¡œ ElasticsearchOperations ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ëŠ” DocumentOperations ë° SearchOperations ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>AbstractElasticsearchConfiguration.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AbstractElasticsearchConfiguration</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ElasticsearchConfigurationSupport</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token annotation punctuation\">@Bean</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token class-name\">RestHighLevelClient</span> <span class=\"token function\">elasticsearchClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"elasticsearchOperations\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"elasticsearchTemplate\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">ElasticsearchOperations</span> <span class=\"token function\">elasticsearchOperations</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElasticsearchConverter</span> elasticsearchConverter<span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token class-name\">RestHighLevelClient</span> elasticsearchClient<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\t\t<span class=\"token class-name\">ElasticsearchRestTemplate</span> template <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ElasticsearchRestTemplate</span><span class=\"token punctuation\">(</span>elasticsearchClient<span class=\"token punctuation\">,</span> elasticsearchConverter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\ttemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setRefreshPolicy</span><span class=\"token punctuation\">(</span><span class=\"token function\">refreshPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token keyword\">return</span> template<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>AbstractElasticsearchConfiguration í´ë˜ìŠ¤ê°€ ElasticsearchOperationsì„ Beanìœ¼ë¡œ ë“±ë¡í•˜ê³  ìˆìŠµë‹ˆë‹¤. êµ¬í˜„ì²´ëŠ” ElasticsearchRestTemplateì´ë„¤ìš”. í•´ë‹¹ ë¶€ë¶„ì„ ê°œë°œìê°€ ì»¤ìŠ¤í…€í•˜ê²Œ Bean ë“±ë¡ì„ í•´ì£¼ë©´ ë©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>ElasticSearchConfig.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ElasticSearchConfig</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractElasticsearchConfiguration</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RestHighLevelClient</span> <span class=\"token function\">elasticsearchClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">ClientConfiguration</span> clientConfiguration <span class=\"token operator\">=</span> <span class=\"token class-name\">ClientConfiguration</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">connectedTo</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"localhost:9200\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">RestClients</span><span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>clientConfiguration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">rest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Spring Data ElasticsearchëŠ” ElasticsearchClientë¥¼ í†µí•´ Elasticsearch ë…¸ë“œ í˜¹ì€ í´ëŸ¬ìŠ¤í„°ì™€ ì—°ê²°ë©ë‹ˆë‹¤. <strong>ElasticsearchClientë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ëŒ€ê²Œ ë” ì¶”ìƒí™”ëœ ElasticsearchOperations í˜¹ì€ ElasticsearchRepositoryë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</strong></p>\n<p>ElasticsearchClient êµ¬í˜„ì²´ëŠ” ë¦¬ì•¡í‹°ë¸Œ ì§€ì› ì—¬ë¶€ ë“±ì— ë”°ë¼ ì¢…ë¥˜ê°€ ë‹¤ì–‘í•œë°, RestHighLevelClientê°€ ì¼ë°˜ì ì…ë‹ˆë‹¤. ElasticsearchOperations êµ¬í˜„ì²´ê°€ ì‚¬ìš©í•˜ëŠ” RestHighLevelClientë§Œ Beanìœ¼ë¡œ ë“±ë¡í•´ì£¼ë©´ ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n<h3>4.2. Logging</h3>\n<blockquote>\n<p>application.properties</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token attr-name\">logging.level.org.springframework.data.elasticsearch.client.WIRE</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">TRACE</span></code></pre></div>\n<p>Spring Data Elasticsearchê°€ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´, ìœ„ ë¡œê±°ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.</p>\n<br>\n<h2>5. ì˜ˆì œ ì½”ë“œ</h2>\n<blockquote>\n<p>User.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Document</span><span class=\"token punctuation\">(</span>indexName <span class=\"token operator\">=</span> <span class=\"token string\">\"users\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span> <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Embedded</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">BasicProfile</span> basicProfile<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> description<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BasicProfile</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> description<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@PersistenceConstructor</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">BasicProfile</span> basicProfile<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>basicProfile <span class=\"token operator\">=</span> basicProfile<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// getter ìƒëµ</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>BasicProfile.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Embeddable</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BasicProfile</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> unique <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> description<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">BasicProfile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">BasicProfile</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> description<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>description <span class=\"token operator\">=</span> description<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// getter ìƒëµ</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê³¼ê±°ì˜ Spring Data ElasticsearchëŠ” Jackson ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì§ë ¬í™”í•´ JSONìœ¼ë¡œ ë§µí•‘í–ˆëŠ”ë°, í˜„ì¬ëŠ” Meta Object Mapping ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. JPAì—ì„œ @Entity ì• ë„ˆí…Œì´ì…˜ì„ í†µí•´ íŠ¹ì • í´ë˜ìŠ¤ê°€ RDBì— ì €ì¥ë  í…Œì´ë¸”ì„ì„ ëª…ì‹œí•œ ê²ƒ ì²˜ëŸ¼, @Document ì• ë„ˆí…Œì´ì…˜ìœ¼ë¡œ í•´ë‹¹ í´ë˜ìŠ¤ê°€ ES DBì— ë§µí•‘ë  í´ë˜ìŠ¤ì„ì„ í‘œê¸°í•©ë‹ˆë‹¤.</p>\n<p>ë˜í•œ @PersistenceConstructorê°€ ë¶€ì°©ëœ ìƒì„±ìí†µí•´ ES DBì— ì €ì¥ëœ Documentê°€ Aggregateë¡œ ì¬êµ¬ì„±ë©ë‹ˆë‹¤. ê·¸ ì™¸ ê¸°íƒ€ ì• ë„ˆí…Œì´ì…˜ ë° ì„¤ì •ë“¤ì€ ê³µì‹ ë¬¸ì„œë¥¼ í™•ì¸í•˜ê¸¸ ë°”ëë‹ˆë‹¤.</p>\n<blockquote>\n<p>ElasticsearchRepository.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@NoRepositoryBean</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">ElasticsearchRepository</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> ID<span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">PagingAndSortingRepository</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> ID<span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token class-name\">Page</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">searchSimilar</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span> entity<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Nullable</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> fields<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Pageable</span> pageable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Spring Data JPAì—ì„œ ì‚¬ìš©ì ì •ì˜ Repository ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•  ë•Œ JpaRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•œ ê²ƒì²˜ëŸ¼, ElasticsearchRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•´ ì •ì˜í•˜ë©´ ë©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>UserRepository.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">UserSearchRepository</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ElasticsearchRepository</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">CustomUserSearchRepository</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findByBasicProfile_NameContains</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Spring Data JPAì²˜ëŸ¼ ë©”ì„œë“œ ì´ë¦„ì„ ê¸°ë°˜ìœ¼ë¡œ CRUD ëª…ë ¹ ì¿¼ë¦¬ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>ElasticSearchConfig.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@EnableElasticsearchRepositories</span>\n<span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ElasticSearchConfig</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractElasticsearchConfiguration</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>@EnableElasticsearchRepositories ì• ë„ˆí…Œì´ì…˜ì„ ë¶€ì°©í•´ì¤ë‹ˆë‹¤.</p>\n<blockquote>\n<p>CustomUserSearchRepositoryImpl.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomUserSearchRepositoryImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">CustomUserSearchRepository</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ElasticsearchOperations</span> elasticsearchOperations<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">searchByName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Pageable</span> pageable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Criteria</span> criteria <span class=\"token operator\">=</span> <span class=\"token class-name\">Criteria</span><span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"basicProfile.name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Query</span> query <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CriteriaQuery</span><span class=\"token punctuation\">(</span>criteria<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setPageable</span><span class=\"token punctuation\">(</span>pageable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">SearchHits</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> search <span class=\"token operator\">=</span> elasticsearchOperations<span class=\"token punctuation\">.</span><span class=\"token function\">search</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">,</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> search<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SearchHit</span><span class=\"token operator\">::</span><span class=\"token function\">getContent</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">.</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ì§ì ‘ ë‹¤ë¤„ì•¼ í•œë‹¤ë©´ ElasticsearchOperations Beanì„ ì£¼ì…ë°›ì•„ ì»¤ìŠ¤í…€í•˜ê²Œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>UserController.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">UserService</span> userService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/users\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Void</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">UserRequest</span> userRequest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">UserRequestDto</span> userRequestDto <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserRequestDto</span><span class=\"token punctuation\">(</span>\n            userRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            userRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getDescription</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Long</span> id <span class=\"token operator\">=</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>userRequestDto<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">URI</span> uri <span class=\"token operator\">=</span> URI<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">created</span><span class=\"token punctuation\">(</span>uri<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/users/{name}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">List</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UserResponse</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token function\">search</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Pageable</span> pageable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UserResponse</span><span class=\"token punctuation\">></span></span> userResponses <span class=\"token operator\">=</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">searchByName</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> pageable<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserResponse</span><span class=\"token operator\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">.</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span>userResponses<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>UserService.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token annotation punctuation\">@Transactional</span><span class=\"token punctuation\">(</span>readOnly <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">UserRepository</span> userRepository<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">UserSearchRepository</span> userSearchRepository<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Transactional</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserRequestDto</span> userRequestDto<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span>userRequestDto<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> userRequestDto<span class=\"token punctuation\">.</span><span class=\"token function\">getDescription</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">User</span> savedUser <span class=\"token operator\">=</span> userRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        userSearchRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> savedUser<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UserResponseDto</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">searchByName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Pageable</span> pageable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// userSearchRepository.findByBasicProfile_NameContains(name) ê°€ëŠ¥</span>\n        <span class=\"token keyword\">return</span> userSearchRepository<span class=\"token punctuation\">.</span><span class=\"token function\">searchByName</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> pageable<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserResponseDto</span><span class=\"token operator\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">.</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê°„ë‹¨í•œ User ì €ì¥ ë° ê²€ìƒ‰ ì˜ˆì œ ì½”ë“œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ìì„¸í•œ ì½”ë“œëŠ” ê¸€ ìƒë‹¨ì— ìœ„ì¹˜í•œ <a href=\"https://github.com/xlffm3/spring-data-elasticsearch-practice\">ì‹¤ìŠµ Repository</a> ë§í¬ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<h3>5.1. íŠ¸ëŸ¬ë¸” ìŠˆíŒ…</h3>\n<blockquote>\n<p>Log</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">The bean 'userRepository', defined in com.example.elasticsearch.user.domain.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration, could not be registered.\nA bean with that name has already been defined in com.example.elasticsearch.user.domain.UserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration and overriding is disabled.\n\nAction:\n\nConsider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true</code></pre></div>\n<p>Spring Data Elasticsearch ë‹¨ì¼ ëª¨ë“ˆì„ ì‚¬ìš©í•  ë•ŒëŠ” ë¬¸ì œê°€ ì—†ëŠ”ë°, ì˜ˆì œ ì½”ë“œì²˜ëŸ¼ Spring Data JPAì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ApplicationContext ë¡œë“œì— ì‹¤íŒ¨í•©ë‹ˆë‹¤.</p>\n<p>User í´ë˜ìŠ¤ë¥¼ ìœ„í•´ ìƒì„±í•œ JPAìš© Repositoryì™€ Elasticsearchìš© Repository ì¸í„°í˜ì´ìŠ¤ ëª¨ë‘ <code class=\"language-text\">PagingAndSortingRepository&lt;T, ID></code>ë¥¼ í™•ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ ê²°ê³¼ @EnableAutoConfigurationì„ ê¸°ë°˜ìœ¼ë¡œ Beanì„ ì£¼ì…í•˜ëŠ” ê³¼ì •ì—ì„œ Bean ì¤‘ë³µ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>application.properties</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token attr-name\">spring.main.allow-bean-definition-overriding</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">true</span></code></pre></div>\n<p>Beanì„ ì˜¤ë²„ë¼ì´ë”©í•  ìˆ˜ ìˆë„ë¡ ìƒê¸° ì˜µì…˜ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤. ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ë‹¤ì‹œ ì‹¤í–‰í•´ë³´ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ë°ìš”.</p>\n<blockquote>\n<p>Trouble Annotations</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@EnableJpaRepositories</span>\n<span class=\"token annotation punctuation\">@EnableElasticsearchRepositories</span></code></pre></div>\n<p>@EnableJpaRepositories ë° @EnableElasticsearchRepositories ë“± ë‘ ì• ë„ˆí…Œì´ì…˜ì€ ê¸°ë³¸ì ìœ¼ë¡œ Repository ê´€ë ¨ í´ë˜ìŠ¤ë¥¼ <strong>ëª¨ë‘</strong> ìŠ¤ìºë‹í•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>Log</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">UnsupportedFragmentException: Repository com.example.elasticsearch.user.domain.UserRepository implements org.springframework.data.repository.query.QueryByExampleExecutor but ElasticsearchRepositoryFactory does not support Query by Example!</code></pre></div>\n<p>@EnableElasticsearchRepositories ì• ë„ˆí…Œì´ì…˜ì´ JpaRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•œ JPA ê´€ë ¨ í´ë˜ìŠ¤ë¥¼ ìŠ¤ìºë‹í•˜ë©´ ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>Log</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Caused by: org.springframework.data.mapping.PropertyReferenceException: No property searchSimilar found for type User!\n\ní˜¹ì€\n\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property index found for type User!</code></pre></div>\n<p>ë°˜ëŒ€ë¡œ @EnableJpaRepositories ì• ë„ˆí…Œì´ì…˜ì´ ElasticsearchRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•œ Elasticsearch ê´€ë ¨ í´ë˜ìŠ¤ë¥¼ ìŠ¤ìºë‹í•˜ë©´ ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>ElasticSearchConfig.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@EnableElasticsearchRepositories</span><span class=\"token punctuation\">(</span>basePackageClasses <span class=\"token operator\">=</span> <span class=\"token class-name\">UserSearchRepository</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ElasticSearchConfig</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractElasticsearchConfiguration</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>ElasticsearchApplication.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@EnableJpaRepositories</span><span class=\"token punctuation\">(</span>excludeFilters <span class=\"token operator\">=</span> <span class=\"token annotation punctuation\">@ComponentScan.Filter</span><span class=\"token punctuation\">(</span>\n    type <span class=\"token operator\">=</span> <span class=\"token class-name\">FilterType</span><span class=\"token punctuation\">.</span>ASSIGNABLE_TYPE<span class=\"token punctuation\">,</span>\n    classes <span class=\"token operator\">=</span> <span class=\"token class-name\">UserSearchRepository</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@SpringBootApplication</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ElasticsearchApplication</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElasticsearchApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë”°ë¼ì„œ @EnableElasticsearchRepositories ì• ë„ˆí…Œì´ì…˜ì€ Elasticsearch ê´€ë ¨ Repository í´ë˜ìŠ¤ë§Œ ìŠ¤ìºë‹í•˜ë„ë¡ í•©ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ @EnableJpaRepositories ì• ë„ˆí…Œì´ì…˜ì€ JPA ê´€ë ¨ Repository í´ë˜ìŠ¤ë§Œ ìŠ¤ìºë‹í•˜ë„ë¡ í•©ë‹ˆë‹¤.</p>\n<p>@EnableXXX ê´€ë ¨ ì• ë„ˆí…Œì´ì…˜ì„ ì˜ ì„¤ì •í–ˆë‹¤ë©´ í•„ìš”ì—†ëŠ” <code class=\"language-text\">spring.main.allow-bean-definition-overriding=true</code> ì˜µì…˜ì€ ì œê±°í•˜ì…”ë„ ë©ë‹ˆë‹¤.</p>\n<h3>5.2. ë™ì‘ í™•ì¸</h3>\n<p>ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•´ë³´ê³  Elasticsearch ì„œë²„ë¡œì˜ ë°ì´í„° ì“°ê¸° ë° ì¡°íšŒê°€ ì›í™œí•˜ê²Œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤.</p>\n<p>RDBëŠ” SQL ì¿¼ë¦¬ë¥¼ í†µí•´ CRUD ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤ë©´, ElasticsearchëŠ” <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current//docs.html\">RESTful API</a> ì¿¼ë¦¬ë¥¼ í†µí•´ CRUD ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Spring Data JPAê°€ ìë™ìœ¼ë¡œ SQL ì¿¼ë¦¬ë¥¼ ìƒì„±í•´ DB ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì²˜ëŸ¼, Spring Data Elasticsearch ë˜í•œ RESTful API ì¿¼ë¦¬ë¥¼ ìƒì„±í•´ ES DB ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/56240505/137831507-5fd54393-e2ca-4ece-99cd-ef0c120ec350.png\" alt=\"image\"></p>\n<p><code class=\"language-text\">jinhong</code>ì´ë¼ëŠ” ë¬¸ìì—´ì´ í¬í•¨ëœ ëª¨ë“  User ê²€ìƒ‰ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/56240505/137831649-b38a0587-b114-4575-b26b-0ac2351e69f9.png\" alt=\"image\"></p>\n<p>RESTfulí•œ GET ìš”ì²­ì„ í†µí•´ ES DBì— ì €ì¥ëœ Documentë¥¼ ì¡°íšŒí•œ ëª¨ìŠµì…ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/56240505/137831732-2ffed90b-9ea6-45ba-ba2e-f8502350975f.png\" alt=\"image\"></p>\n<p><code class=\"language-text\">COUNT(*)</code> SQL ì¿¼ë¦¬ì²˜ëŸ¼ ëª‡ ëª…ì˜ ìœ ì €ê°€ ì €ì¥ë˜ì–´ìˆëŠ”ì§€ ì¹´ìš´íŒ…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>Query</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">POST /users/_delete_by_query\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"range\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"gte\"</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>User IDê°€ 1ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì€ ê²½ìš° ì‚­ì œí•˜ê² ë‹¤ëŠ” ì¿¼ë¦¬ë¥¼ ìš”ì²­ ë³¸ë¬¸ì— ë‹´ì•„ ì‚­ì œë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. SQL ì¿¼ë¦¬ê°€ ë‹¤ì–‘í•œ ê²ƒì²˜ëŸ¼ Elasticsearch ë˜í•œ ë‹¤ì–‘í•œ RESTful API ì¿¼ë¦¬ê°€ ì¡´ì¬í•˜ë‹ˆ, ìì„¸í•œ ë‚´ìš©ì€ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.</p>\n<br>\n<h2>6. Trade-Off</h2>\n<p>í–‰ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” RDBì—ì„œ íŠ¹ì • í‚¤ì›Œë“œê°€ í¬í•¨ëœ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ LIKE ì¿¼ë¦¬ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ë¬¸ì œëŠ” <code class=\"language-text\">LIKE '%jinhong%'</code>ê³¼ ê°™ì´ <code class=\"language-text\">jinhong</code> í‚¤ì›Œë“œê°€ ë“¤ì–´ê°„ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ, <code class=\"language-text\">%</code> ê¸°í˜¸ë¥¼ ì•ì— ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•œ ì¸ë±ìŠ¤ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/56240505/137668936-6fd70a7a-702a-4ec8-8a07-e1b245357824.png\" alt=\"image\"></p>\n<p>2ëŒ€ì˜ ì¡°íšŒ Slave DB(Replication)ë¥¼ ì‚¬ìš©í•˜ëŠ” ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ íŠ¹ì • ì´ë¦„ í‚¤ì›Œë“œê°€ í¬í•¨ëœ ìœ ì € ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œ ê²°ê³¼ì…ë‹ˆë‹¤. í‰ê·  TPSê°€ 38.9ì…ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/56240505/137674715-51fcf017-29dd-4f60-bf16-3004f37e1079.png\" alt=\"image\"></p>\n<p><strong>í‚¤ì›Œë“œ ê²€ìƒ‰ ìš”ì²­</strong> ìƒí™©ì—ì„œ RDBë¥¼ ES ê²€ìƒ‰ ì—”ì§„ìœ¼ë¡œ ëŒ€ì²´í•˜ë©´ ì„±ëŠ¥ ì´ì ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ESë¥¼ ë„ì…í•œ ë‹¤ìŒ ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ë™ì¼ í™˜ê²½ì—ì„œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ESì˜ ê²½ìš° ë‹¨ 1ëŒ€ì˜ ì„œë²„ë§Œìœ¼ë¡œë„ í‰ê·  TPSê°€ 82.2ë¥¼ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤! ì´ëŠ” 2ëŒ€ì˜ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê¸°ì¡´ì˜ RDB ë°©ì‹ë³´ë‹¤ ì„±ëŠ¥ì´ 2ë°° ì´ìƒì„ ìƒíšŒí•©ë‹ˆë‹¤.</p>\n<p>ë¬¼ë¡  Elasticsearchë¼ëŠ” ë³„ë„ì˜ DBë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ê³ ë ¤í•´ì•¼í•  ê´€ë¦¬ í¬ì¸íŠ¸ê°€ ë§ì•„ì§„ë‹¤ëŠ” ë‹¨ì ì´ ì¡´ì¬í•©ë‹ˆë‹¤.</p>\n<ul>\n<li>ê¸°ì¡´ RDBì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ESë¡œ ì´ê´€í•´ì•¼ í•©ë‹ˆë‹¤.</li>\n<li>ì—…ë°ì´íŠ¸ ë°œìƒì‹œ RDBì™€ì˜ ë°ì´í„° ì •í•©ì„±ì„ ì œëŒ€ë¡œ ìœ ì§€í•´ì•¼í•©ë‹ˆë‹¤.</li>\n<li>\n<p>ESëŠ” ë£¨ì”¬ ì“°ê¸° ì„±ëŠ¥ì´ ë‚˜ìœ ë§Œí¼, ì—…ë°ì´íŠ¸ ë°©ì‹ì— ëŒ€í•œ ì¶”ê°€ì ì¸ ì˜ì‚¬ê²°ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>\n<ul>\n<li>RDB - ES ê°„ì˜ ë°ì´í„° ì‹±í¬ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë§ì¶œ ê²ƒì¸ì§€, í˜¹ì€ ë°°ì¹˜ ë°©ì‹ì„ ì‚¬ìš©í•  ê²ƒì¸ì§€ ë“±.</li>\n<li>ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„° ì‹±í¬ë¥¼ ë§ì¶”ë©´ ES ì„œë²„ íŠ¸ë˜í”½ì´ ì¦ê°€í•˜ê³  ì“°ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠë¼ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.</li>\n<li>Bulk API ê¸°ë°˜ì˜ ë°°ì¹˜ ë°©ì‹ìœ¼ë¡œ ë°ì´í„° ì‹±í¬ë¥¼ ë§ì¶”ë©´ Documentì˜ ë°˜ë³µ ì—…ë°ì´íŠ¸ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìœ¼ë‚˜, ë°ì´í„° ì‹±í¬ì— ì§€ì—°ì´ ë°œìƒí•©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li>ê³ ê°€ìš©ì„±ì„ ìœ„í•œ ë‹¨ì¼ ì¥ì• ì  ê·¹ë³µì„ ìœ„í•´ ES í´ëŸ¬ìŠ¤í„°ë§ ë° ìƒ¤ë”© ë“± ì•„í‚¤í…ì³ì— ëŒ€í•œ ê³ ë ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤.</li>\n</ul>\n<br>\n<hr>\n<h2>References</h2>\n<ul>\n<li><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.15/index.html\">Elasticsearch Guide Docs</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface\">Spring Data Elasticsearch - Reference Documentation</a></li>\n<li><a href=\"https://steemit.com/elk/@modolee/elk-stack\">ELK Stackì„ ì´ìš©í•œ ë¡œê·¸ ê´€ì œ ì‹œìŠ¤í…œ ë§Œë“¤ê¸°</a></li>\n<li><a href=\"https://victorydntmd.tistory.com/308\">ğŸ™ˆ[Elasticsearch] ê¸°ë³¸ ê°œë…ì¡ê¸°ğŸµ</a></li>\n<li><a href=\"https://stackoverflow.com/questions/36252099/no-property-index-found-for-type-user\">No property index found for type User</a></li>\n<li><a href=\"https://www.samsungsds.com/kr/insights/elastic_data_modeling.html\">ì—˜ë¼ìŠ¤í‹±ì„œì¹˜(Elasticsearch)ì—ì„œ ê´€ê³„í˜• ë°ì´í„° ëª¨ë¸ë§í•˜ê¸°</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/xlffm3/spring-data-elasticsearch-practice"},"children":[{"type":"text","value":"ì‹¤ìŠµ Repository"}]},{"type":"text","value":"ì—ì„œ ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"1. Elasticsearch"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticsearchëŠ” Apache Lucene ê¸°ë°˜ì˜ Java ì˜¤í”ˆì†ŒìŠ¤ ë¶„ì‚°í˜• RESTful ê²€ìƒ‰ ë° ë¶„ì„ ì—”ì§„ì…ë‹ˆë‹¤. ë°©ëŒ€í•œ ì–‘ì˜ ë°ì´í„°ì— ëŒ€í•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì €ì¥ê³¼ ê²€ìƒ‰ ë° ë¶„ì„ ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì •í˜• ë°ì´í„°, ë¹„ì •í˜• ë°ì´í„°, ì§€ë¦¬ ë°ì´í„° ë“± ëª¨ë“  íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ë°ìš”. ElasticsearchëŠ” "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"JSON ë¬¸ì„œ(Document)ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticsearchëŠ” ë‹¨ë… ê²€ìƒ‰ì„ ìœ„í•´ ì‚¬ìš©í•˜ê±°ë‚˜, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ELK(Elasticsearch & Logstash & Kibana) ìŠ¤íƒ"}]},{"type":"text","value":"ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1.1. ELK"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/134549954-b93fedde-f86c-4a31-bae8-9fd02ae7d35f.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ë³¸ ê¸€ì˜ ì£¼ì œì™€ëŠ” ë²—ì–´ë‚˜ì§€ë§Œ ELKì— ëŒ€í•´ì„œë„ ì§§ê²Œë‚˜ë§ˆ ì•Œì•„ë´…ì‹œë‹¤. ELKëŠ” Elasticsearch + Logstash + Kibanaë¥¼ ê°™ì´ ì—°ë™í•˜ì—¬ ì‚¬ìš©í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Filebeat"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ë¡œê·¸ë¥¼ ìƒì„±í•˜ëŠ” ì„œë²„ì— ì„¤ì¹˜í•´ ë¡œê·¸ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Logstash ì„œë²„ë¡œ ë¡œê·¸ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Logstash"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ë¡œê·¸ ë° íŠ¸ëœì­ì…˜ ë°ì´í„°ë¥¼ ìˆ˜ì§‘ê³¼ ì§‘ê³„ ë° íŒŒì‹±í•˜ì—¬ Elasticsearchë¡œ ì „ë‹¬í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ì •ì œ ë° ì „ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Elasticsearch"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Logstashë¡œë¶€í„° ì „ë‹¬ë°›ì€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³ , ê²€ìƒ‰ ë° ì§‘ê³„ ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kibana"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ì €ì¥ëœ ë¡œê·¸ë¥¼ Elasticsearchì˜ ë¹ ë¥¸ ê²€ìƒ‰ì„ í†µí•´ ê°€ì ¸ì˜¤ë©°, ì´ë¥¼ ì‹œê°í™” ë° ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1.2. RDB ë¹„êµ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/134550384-69294c02-20c5-4627-a832-ab0713c55e0b.png","alt":"image"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/134551520-b15876b6-9216-433c-a336-81a293dd828c.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticsearchëŠ” ë°ì´í„°ë¥¼ í–‰ë ¬ ë°ì´í„°ë¡œ ì €ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"JSON ë¬¸ì„œ(Document)"}]},{"type":"text","value":"ë¡œ ì§ë ¬í™”ëœ ë³µì¡í•œ ìë£Œ êµ¬ì¡°ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ì„ ì±„íƒí•˜ê³  ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê¸°ì¡´ RDBì—ì„œ ì‚¬ìš©í•˜ë˜ ìš©ì–´ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¨, ê·¸ì— ëŒ€ì‘í•˜ëŠ” ì í•©í•œ ìš©ì–´ë“¤ì´ ì¡´ì¬í•˜ë‹ˆ ì´ ê¸€ì„ ì½ëŠ”ë° ì–´ë ¤ì›€ ì—†ìœ¼ì‹œê¸¸ ë°”ë¼ê² ìŠµë‹ˆë‹¤. ğŸ˜…"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1.3. Inverted Index"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/134555327-82533784-030d-425b-8683-ee33a728b5fd.png","alt":"image"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/134555053-daa5f704-5f52-47dc-aa07-0de3bea33e78.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticsearchëŠ” íŠ¹ì • ë¬¸ì¥ì„ ì…ë ¥ë°›ìœ¼ë©´, íŒŒì‹±ì„ í†µí•´ ë¬¸ì¥ì„ ë‹¨ì–´ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤. ë˜í•œ ëŒ€ë¬¸ìë¥¼ ì†Œë¬¸ìë¡œ ì¹˜í™˜í•˜ê±°ë‚˜ ìœ ì‚¬ì–´ ì²´í¬ ë“±ì˜ ì¶”ê°€ ì‘ì—…ì„ í†µí•´ í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticsearchëŠ” "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ì—­ ìƒ‰ì¸"}]},{"type":"text","value":"ì´ë¼ê³  í•˜ëŠ” ìë£Œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ëŠ” ì „ë¬¸ ê²€ìƒ‰ì— ìˆì–´ì„œ ë¹ ë¥¸ ì„±ëŠ¥ì„ ë³´ì¥í•©ë‹ˆë‹¤. ì±…ì˜ ì „ë°˜ë¶€ì— ìœ„ì¹˜í•œ ì¼ë°˜ì ì¸ ëª©ì°¨ê°€ Indexë¼ë©´, ì±… í›„ë°˜ë¶€ì— í‚¤ì›Œë“œë§ˆë‹¤ ë‚´ìš©ì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆë„ë¡ ë•ëŠ” ëª©ì°¨ê°€ Reverted Indexì…ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ì—­ ìƒ‰ì¸ì€ ê° Documentì— ë“±ì¥í•˜ëŠ” ëª¨ë“  ê³ ìœ í•œ ë‹¨ì–´ë“¤ì„ ë¦¬ìŠ¤íŠ¸ì—…í•˜ê³ , í•´ë‹¹ ë‹¨ì–´ë“¤ì´ ë“±ì¥í•˜ëŠ” Documentë“¤ì„ ì‹ë³„í•©ë‹ˆë‹¤. ìƒ‰ì¸ì€ ìµœì í™”ëœ Document ì»¬ë ‰ì…˜ì´ë©°, ê° DocumentëŠ” "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ë°ì´í„°ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” Key-Value ìŒìœ¼ë¡œ ì´ë£¨ì–´ì§„ Field"}]},{"type":"text","value":"ì˜ ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticsearchëŠ” ëª¨ë“  Fieldì˜ ë°ì´í„°ë¥¼ ì¸ë±ì‹±í•˜ëŠ”ë°, ì¸ë±ì‹±ëœ FieldëŠ” ê°ê°ì˜ ìµœì í™”ëœ ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í…ìŠ¤íŠ¸ í˜•ì‹ì˜ FieldëŠ” Inverted Indexì— ì €ì¥ë˜ë©°, ìˆ«ì í˜¹ì€ ì§€ë¦¬ ê´€ë ¨ FieldëŠ” BKD íŠ¸ë¦¬ì— ì €ì¥ë©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/135963544-3a9c0ae0-89e8-464f-a4c2-ce3a9095003e.png","alt":"image"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/135963557-e18dac48-aac9-4c43-b4c5-7ce1fd3d4d68.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"RDBëŠ” ë°ì´í„° ìˆ˜ì •Â·ì‚­ì œì˜ í¸ì˜ì„±ê³¼ ì†ë„ ë©´ì—ì„œ ê°•ì ì´ ìˆì§€ë§Œ ë‹¤ì–‘í•œ ì¡°ê±´ì˜ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ê³  ì§‘ê³„í•˜ëŠ” ë°ì—ëŠ” êµ¬ì¡°ì ì¸ í•œê³„ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. íŠ¹ì • ë‹¨ì–´ ê²€ìƒ‰ì‹œ ROW ê°œìˆ˜ë§Œí¼ í™•ì¸ì„ ë°˜ë³µí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë°˜ë©´ ë‹¨ì–´ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ElasticsearchëŠ” íŠ¹ì • ë‹¨ì–´ê°€ ì–´ë””ì— ì €ì¥ë˜ì–´ ìˆëŠ”ì§€ ì´ë¯¸ ì•Œê³  ìˆì–´ ëª¨ë“  Documentë¥¼ ê²€ìƒ‰í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ë°˜ë©´ ìˆ˜ì •ê³¼ ì‚­ì œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ êµ‰ì¥íˆ ë§ì€ ë¦¬ì†ŒìŠ¤ê°€ ì†Œìš”ë˜ëŠ” ì‘ì—…ì´ë¼, RDBMSë¥¼ ëŒ€ì²´í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1.4. Architecture"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/134556753-5133f373-7814-4c4f-8505-6dfbe9f47ed9.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"í•˜ë‚˜ì˜ í´ëŸ¬ìŠ¤í„° ë‚´ ë³µìˆ˜ ê°œì˜ ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ì €ì¥ëœ DocumentëŠ” í´ëŸ¬ìŠ¤í„° ì „ì—­ìœ¼ë¡œ ë¶„ë°°ë˜ê¸° ë•Œë¬¸ì— ì–´ëŠ ë…¸ë“œì—ì„œë“  ì¦‰ì‹œ ì ‘ê·¼ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cluster"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë…¸ë“œë¡œ ì´ë£¨ì–´ì§„ ë…¸ë“œë“¤ì˜ ì§‘í•©ì„ ì˜ë¯¸í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ì„œë¡œ ë‹¤ë¥¸ í´ëŸ¬ìŠ¤í„°ëŠ” ë°ì´í„°ì˜ ì ‘ê·¼ ë° êµí™˜ì„ í•  ìˆ˜ ì—†ëŠ” ë…ë¦½ì ì¸ ì‹œìŠ¤í…œìœ¼ë¡œ ìœ ì§€ë©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ì—¬ëŸ¬ ëŒ€ì˜ ì„œë²„ê°€ í•˜ë‚˜ì˜ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•˜ê±°ë‚˜, í•˜ë‚˜ì˜ ì„œë²„ì— ì—¬ëŸ¬ ê°œì˜ í´ëŸ¬ìŠ¤í„°ê°€ ì¡´ì¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Node"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Elasticsearchë¥¼ êµ¬ì„±í•˜ëŠ” í•˜ë‚˜ì˜ ë‹¨ìœ„ í”„ë¡œì„¸ìŠ¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Shard"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ë°ì´í„°ë¥¼ ë¶„ì‚°í•´ì„œ ì €ì¥í•˜ëŠ” ë°©ë²•ì„ ì˜ë¯¸í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Scale-Outì„ ìœ„í•´ RDBì˜ Databaseì— í•´ë‹¹í•˜ëŠ” Indexë¥¼ ì—¬ëŸ¬ Shardë¡œ ìª¼ê°­ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ê¸°ë³¸ì ìœ¼ë¡œ 1ê°œê°€ ì¡´ì¬í•˜ë©°, ê²€ìƒ‰ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ í´ëŸ¬ìŠ¤í„°ì˜ Shard ê°œìˆ˜ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Replica"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ë˜ ë‹¤ë¥¸ í˜•íƒœì˜ Shardë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ë…¸ë“œë¥¼ ì†ì‹¤í–ˆì„ ê²½ìš°, ë°ì´í„°ì˜ ì‹ ë¢°ì„±ì„ ìœ„í•´ Shardë¥¼ ë³µì œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ë”°ë¼ì„œ ReplicaëŠ” ì„œë¡œ ë‹¤ë¥¸ ë…¸ë“œì— ìœ„ì¹˜ì‹œí‚¬ ê²ƒì„ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ì¶”ê°€ì ìœ¼ë¡œ, NodeëŠ” "},{"type":"element","tagName":"a","properties":{"href":"https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-node.html"},"children":[{"type":"text","value":"ë‹¤ì–‘í•œ ì—­í• "}]},{"type":"text","value":"ë¡œ ë¶„ë¥˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ëŒ€ê·œëª¨ í´ëŸ¬ìŠ¤í„°ì—ì„œ ë¡œë“œ ë°¸ëŸ°ì‹± ì—­í• ì„ í•˜ëŠ” ë…¸ë“œ."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ë°ì´í„° ë³€í™˜ ë“± ì‚¬ì „ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ë…¸ë“œ."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ìƒ‰ì¸ëœ ë°ì´í„° CRUD ë…¸ë“œ."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ë©”íƒ€ ë°ì´í„° ë“± ì „ì²´ í´ëŸ¬ìŠ¤í„°ë¥¼ ì œì–´í•˜ëŠ” ë§ˆìŠ¤í„° ë…¸ë“œ."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ì¸ë±ìŠ¤ ìƒì„±ê³¼ ì‚­ì œ."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ë°ì´í„° ì…ë ¥ì‹œ ìƒ¤ë”© í• ë‹¹."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ë‹¨ì¼ ë…¸ë“œë¡œ Elasticsearchë¥¼ êµ¬ë™í•  ìˆ˜ ìˆì§€ë§Œ, íŠ¸ë˜í”½ì´ ë§ì•„ì§„ë‹¤ë©´ ë…¸ë“œë³„ë¡œ ì„œë²„ë¥¼ ë¶„ë¦¬í•˜ê±°ë‚˜ ì‘ì—… ë…¸ë“œì— ëŒ€í•´ Scale-Out ë° ë¡œë“œ ë°¸ëŸ°ì‹±ì„ í•¨ìœ¼ë¡œì¨ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1.5. íŠ¹ì§•"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Scale out : Shardë¥¼ í†µí•´ ê·œëª¨ê°€ ìˆ˜í‰ì ìœ¼ë¡œ ëŠ˜ì–´ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ê³ ê°€ìš©ì„± : Replicaë¥¼ í†µí•´ ë°ì´í„°ì˜ ì•ˆì •ì„±ì„ ë³´ì¥í•˜ê³ , ë‹¨ì¼ ì¥ì• ì ì„ ê·¹ë³µí•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Schema Free : Json ë¬¸ì„œë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ë¯€ë¡œ, ìŠ¤í‚¤ë§ˆì˜ ê°œë…ì´ ì—†ìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESTful : CRUD ì‘ì—…ì€ RESTful APIë¥¼ í†µí•´ ìˆ˜í–‰ë˜ë©°, ê°ê°ì´ HTTPì˜ PUT / GET / POST / DELETE ë©”ì„œë“œì— ëŒ€ì‘ë©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"2. Spring Data Elasticsearch"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Spring Data Elasticsearch í”„ë¡œì íŠ¸ëŠ” Elasticsearch ê²€ìƒ‰ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” ì†”ë£¨ì…˜ ê°œë°œì„ ë„ì™€ì£¼ëŠ” ëª¨ë“ˆì…ë‹ˆë‹¤. ë‹¤ìŒ ì‘ì—…ì— ëŒ€í•´ ë†’ì€ ìˆ˜ì¤€ì˜ ì¶”ìƒí™”ë¥¼ í…œí”Œë¦¿ìœ¼ë¡œ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Documentì˜ ì €ì¥ê³¼ ê²€ìƒ‰ ë° ì •ë ¬."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Documentë¥¼ Aggregateë¡œ ì¬êµ¬ì„±."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Spring Data JPAê°€ Repository ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜í•œ ë©”ì„œë“œ ì´ë¦„ì„ ë¶„ì„í•´ì„œ JPQLì„ ìë™ìœ¼ë¡œ ìƒì„± ë° ì‹¤í–‰í•´ì£¼ëŠ” ê²ƒì²˜ëŸ¼, Spring Data Elasticsearch ë˜í•œ Repository ì¸í„°í˜ì´ìŠ¤ì— ë©”ì„œë“œë¥¼ ì •ì˜í•¨ìœ¼ë¡œì¨ ì¿¼ë¦¬ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"3. Dockerë¥¼ í™œìš©í•œ Elasticsearch ì„¤ì¹˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Shell"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ docker pull docker.elastic.co/elasticsearch/elasticsearch:7.10.0\n$ docker run -d -p "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"9200"}]},{"type":"text","value":":9200 -p "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"9300"}]},{"type":"text","value":":9300 -e "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"discovery.type=single-node\""}]},{"type":"text","value":" docker.elastic.co/elasticsearch/elasticsearch:7.10.0"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ë‹¤ì–‘í•œ ì„¤ì¹˜ ë°©ë²•ì´ ìˆì§€ë§Œ ê·¸ ì¤‘ ê°€ì¥ ê°„í¸í•œ Dockerë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì˜ˆì œëŠ” ë‹¨ì¼ ë…¸ë“œë¡œ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•˜ëŠ”ë°, í´ëŸ¬ìŠ¤í„°ë¥¼ ë©€í‹° ë…¸ë“œë¡œ êµ¬ì„±í•˜ê³  ì‹¶ë‹¤ë©´ "},{"type":"element","tagName":"a","properties":{"href":"https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-compose-file"},"children":[{"type":"text","value":"docker-composeë¥¼ í™œìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤."}]},{"type":"text","value":"\n9200 í¬íŠ¸ëŠ” HTTP í´ë¼ì´ì–¸íŠ¸ì™€ í†µì‹ ì— ì‚¬ìš©ë˜ë©°, 9300 í¬íŠ¸ëŠ” ë…¸ë“œë“¤ê°„ í†µì‹ í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ìµœì‹  ê³µì‹ ë¬¸ì„œ ê¸°ì¤€ Spring Data Elasticsearch 4.2.x ë²„ì „ì´ Elasticsearch 7.10.0. ë²„ì „ê³¼ í˜¸í™˜ë˜ê¸° ë•Œë¬¸ì— 7.10.0 ë²„ì „ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë°›ìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ë‹¤ë¥¸ ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ "},{"type":"element","tagName":"a","properties":{"href":"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#new-features"},"children":[{"type":"text","value":"Srping Data Elasticsearch í”„ë¡œì íŠ¸ ë²„ì „ ë° Elasticsearch ë²„ì „ í˜¸í™˜ ìœ ë¬´"}]},{"type":"text","value":"ë¥¼ ê¼­ í™•ì¸í•˜ë„ë¡ í•©ì‹œë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"4. Spring Boot ì„¤ì •"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"build.gradle"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"groovy"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-groovy"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-groovy"]},"children":[{"type":"text","value":"dependencies "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    implementation "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'org.springframework.boot:spring-boot-starter-data-JPA'"}]},{"type":"text","value":"\n    implementation "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'org.springframework.boot:spring-boot-starter-web'"}]},{"type":"text","value":"\n    implementation "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'org.springframework.data:spring-data-elasticsearch:4.2.2'"}]},{"type":"text","value":"\n    compileOnly "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'org.projectlombok:lombok'"}]},{"type":"text","value":"\n    runtimeOnly "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'com.h2database:h2'"}]},{"type":"text","value":"\n    annotationProcessor "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'org.projectlombok:lombok'"}]},{"type":"text","value":"\n    testImplementation "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'org.springframework.boot:spring-boot-starter-test'"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ Elasticsearch ë²„ì „ê³¼ í˜¸í™˜ë˜ê²Œ Spring Data Elasticsearch 4.2.x ë²„ì „ìœ¼ë¡œ ì˜ì¡´ì„±ì„ ë°›ìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"4.1. Elasticsearch Clients ì„¤ì •"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticsearchOperations.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"interface"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchOperations"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"extends"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"DocumentOperations"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SearchOperations"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Elasticsearch ê´€ë ¨ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ì£¼ë¡œ ElasticsearchOperations ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ëŠ” DocumentOperations ë° SearchOperations ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"AbstractElasticsearchConfiguration.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"abstract"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"AbstractElasticsearchConfiguration"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"extends"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchConfigurationSupport"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n\t"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Bean"}]},{"type":"text","value":"\n\t"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"abstract"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"RestHighLevelClient"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"elasticsearchClient"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n\t"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Bean"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"name "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"elasticsearchOperations\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"elasticsearchTemplate\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n\t"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchOperations"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"elasticsearchOperations"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchConverter"}]},{"type":"text","value":" elasticsearchConverter"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n\t\t\t"},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"RestHighLevelClient"}]},{"type":"text","value":" elasticsearchClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n\t\t"},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchRestTemplate"}]},{"type":"text","value":" template "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchRestTemplate"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"elasticsearchClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" elasticsearchConverter"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\t\ttemplate"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setRefreshPolicy"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"refreshPolicy"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n\t\t"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" template"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\t"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"AbstractElasticsearchConfiguration í´ë˜ìŠ¤ê°€ ElasticsearchOperationsì„ Beanìœ¼ë¡œ ë“±ë¡í•˜ê³  ìˆìŠµë‹ˆë‹¤. êµ¬í˜„ì²´ëŠ” ElasticsearchRestTemplateì´ë„¤ìš”. í•´ë‹¹ ë¶€ë¶„ì„ ê°œë°œìê°€ ì»¤ìŠ¤í…€í•˜ê²Œ Bean ë“±ë¡ì„ í•´ì£¼ë©´ ë©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticSearchConfig.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticSearchConfig"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"extends"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"AbstractElasticsearchConfiguration"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Override"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"RestHighLevelClient"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"elasticsearchClient"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ClientConfiguration"}]},{"type":"text","value":" clientConfiguration "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ClientConfiguration"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"builder"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"connectedTo"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"localhost:9200\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"build"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"RestClients"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"create"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"clientConfiguration"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rest"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Spring Data ElasticsearchëŠ” ElasticsearchClientë¥¼ í†µí•´ Elasticsearch ë…¸ë“œ í˜¹ì€ í´ëŸ¬ìŠ¤í„°ì™€ ì—°ê²°ë©ë‹ˆë‹¤. "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ElasticsearchClientë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ëŒ€ê²Œ ë” ì¶”ìƒí™”ëœ ElasticsearchOperations í˜¹ì€ ElasticsearchRepositoryë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticsearchClient êµ¬í˜„ì²´ëŠ” ë¦¬ì•¡í‹°ë¸Œ ì§€ì› ì—¬ë¶€ ë“±ì— ë”°ë¼ ì¢…ë¥˜ê°€ ë‹¤ì–‘í•œë°, RestHighLevelClientê°€ ì¼ë°˜ì ì…ë‹ˆë‹¤. ElasticsearchOperations êµ¬í˜„ì²´ê°€ ì‚¬ìš©í•˜ëŠ” RestHighLevelClientë§Œ Beanìœ¼ë¡œ ë“±ë¡í•´ì£¼ë©´ ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"4.2. Logging"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"application.properties"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"properties"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-properties"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-properties"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"logging.level.org.springframework.data.elasticsearch.client.WIRE"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"text","value":"TRACE"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Spring Data Elasticsearchê°€ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´, ìœ„ ë¡œê±°ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"5. ì˜ˆì œ ì½”ë“œ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"User.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Document"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"indexName "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"users\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Entity"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Id"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@GeneratedValue"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"strategy "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"GenerationType"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"IDENTITY"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Long"}]},{"type":"text","value":" id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Embedded"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"BasicProfile"}]},{"type":"text","value":" basicProfile"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"null"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" description"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"null"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"BasicProfile"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" description"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@PersistenceConstructor"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Long"}]},{"type":"text","value":" id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"BasicProfile"}]},{"type":"text","value":" basicProfile"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"id "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"basicProfile "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" basicProfile"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// getter ìƒëµ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"BasicProfile.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Embeddable"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"BasicProfile"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Column"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"nullable "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" unique "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" description"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"BasicProfile"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"BasicProfile"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" description"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"description "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" description"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// getter ìƒëµ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ê³¼ê±°ì˜ Spring Data ElasticsearchëŠ” Jackson ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì§ë ¬í™”í•´ JSONìœ¼ë¡œ ë§µí•‘í–ˆëŠ”ë°, í˜„ì¬ëŠ” Meta Object Mapping ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. JPAì—ì„œ @Entity ì• ë„ˆí…Œì´ì…˜ì„ í†µí•´ íŠ¹ì • í´ë˜ìŠ¤ê°€ RDBì— ì €ì¥ë  í…Œì´ë¸”ì„ì„ ëª…ì‹œí•œ ê²ƒ ì²˜ëŸ¼, @Document ì• ë„ˆí…Œì´ì…˜ìœ¼ë¡œ í•´ë‹¹ í´ë˜ìŠ¤ê°€ ES DBì— ë§µí•‘ë  í´ë˜ìŠ¤ì„ì„ í‘œê¸°í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ë˜í•œ @PersistenceConstructorê°€ ë¶€ì°©ëœ ìƒì„±ìí†µí•´ ES DBì— ì €ì¥ëœ Documentê°€ Aggregateë¡œ ì¬êµ¬ì„±ë©ë‹ˆë‹¤. ê·¸ ì™¸ ê¸°íƒ€ ì• ë„ˆí…Œì´ì…˜ ë° ì„¤ì •ë“¤ì€ ê³µì‹ ë¬¸ì„œë¥¼ í™•ì¸í•˜ê¸¸ ë°”ëë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticsearchRepository.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@NoRepositoryBean"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"interface"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchRepository"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"T"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" ID"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"extends"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"PagingAndSortingRepository"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"T"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" ID"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n\t"},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Page"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"T"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"searchSimilar"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"T"}]},{"type":"text","value":" entity"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Nullable"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" fields"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Pageable"}]},{"type":"text","value":" pageable"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Spring Data JPAì—ì„œ ì‚¬ìš©ì ì •ì˜ Repository ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•  ë•Œ JpaRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•œ ê²ƒì²˜ëŸ¼, ElasticsearchRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•´ ì •ì˜í•˜ë©´ ë©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"UserRepository.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"interface"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserSearchRepository"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"extends"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchRepository"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Long"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"CustomUserSearchRepository"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"List"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"findByBasicProfile_NameContains"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Spring Data JPAì²˜ëŸ¼ ë©”ì„œë“œ ì´ë¦„ì„ ê¸°ë°˜ìœ¼ë¡œ CRUD ëª…ë ¹ ì¿¼ë¦¬ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticSearchConfig.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@EnableElasticsearchRepositories"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticSearchConfig"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"extends"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"AbstractElasticsearchConfiguration"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// ..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"@EnableElasticsearchRepositories ì• ë„ˆí…Œì´ì…˜ì„ ë¶€ì°©í•´ì¤ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"CustomUserSearchRepositoryImpl.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@RequiredArgsConstructor"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Component"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"CustomUserSearchRepositoryImpl"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"implements"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"CustomUserSearchRepository"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchOperations"}]},{"type":"text","value":" elasticsearchOperations"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Override"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"List"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"searchByName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Pageable"}]},{"type":"text","value":" pageable"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Criteria"}]},{"type":"text","value":" criteria "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Criteria"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"where"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"basicProfile.name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"contains"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Query"}]},{"type":"text","value":" query "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"CriteriaQuery"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"criteria"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setPageable"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"pageable"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SearchHits"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" search "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" elasticsearchOperations"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"search"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"query"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" search"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"stream"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"map"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SearchHit"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"::"}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getContent"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"collect"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Collectors"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"toList"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ì§ì ‘ ë‹¤ë¤„ì•¼ í•œë‹¤ë©´ ElasticsearchOperations Beanì„ ì£¼ì…ë°›ì•„ ì»¤ìŠ¤í…€í•˜ê²Œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"UserController.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@RequiredArgsConstructor"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@RequestMapping"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/api\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@RestController"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserController"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserService"}]},{"type":"text","value":" userService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@PostMapping"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/users\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ResponseEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Void"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@RequestBody"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserRequest"}]},{"type":"text","value":" userRequest"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserRequestDto"}]},{"type":"text","value":" userRequestDto "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserRequestDto"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"\n            userRequest"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n            userRequest"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getDescription"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Long"}]},{"type":"text","value":" id "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" userService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"userRequestDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"URI"}]},{"type":"text","value":" uri "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" URI"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"create"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"valueOf"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ResponseEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"created"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"uri"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"build"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@GetMapping"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/users/{name}\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ResponseEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"List"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserResponse"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"search"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@PathVariable"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Pageable"}]},{"type":"text","value":" pageable"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"List"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserResponse"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" userResponses "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" userService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"searchByName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" pageable"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"stream"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"map"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserResponse"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"::"}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"collect"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Collectors"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"toList"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ResponseEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ok"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"userResponses"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"UserService.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Slf4j"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@RequiredArgsConstructor"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"readOnly "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Service"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserService"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserRepository"}]},{"type":"text","value":" userRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserSearchRepository"}]},{"type":"text","value":" userSearchRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Long"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserRequestDto"}]},{"type":"text","value":" userRequestDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"text","value":" user "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"userRequestDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" userRequestDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getDescription"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"text","value":" savedUser "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" userRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"user"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        userSearchRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"user"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" savedUser"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"List"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserResponseDto"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"searchByName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Pageable"}]},{"type":"text","value":" pageable"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// userSearchRepository.findByBasicProfile_NameContains(name) ê°€ëŠ¥"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" userSearchRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"searchByName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" pageable"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"stream"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"map"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserResponseDto"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"::"}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"collect"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Collectors"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"toList"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ê°„ë‹¨í•œ User ì €ì¥ ë° ê²€ìƒ‰ ì˜ˆì œ ì½”ë“œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ìì„¸í•œ ì½”ë“œëŠ” ê¸€ ìƒë‹¨ì— ìœ„ì¹˜í•œ "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/xlffm3/spring-data-elasticsearch-practice"},"children":[{"type":"text","value":"ì‹¤ìŠµ Repository"}]},{"type":"text","value":" ë§í¬ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"5.1. íŠ¸ëŸ¬ë¸” ìŠˆíŒ…"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Log"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"The bean 'userRepository', defined in com.example.elasticsearch.user.domain.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration, could not be registered.\nA bean with that name has already been defined in com.example.elasticsearch.user.domain.UserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration and overriding is disabled.\n\nAction:\n\nConsider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Spring Data Elasticsearch ë‹¨ì¼ ëª¨ë“ˆì„ ì‚¬ìš©í•  ë•ŒëŠ” ë¬¸ì œê°€ ì—†ëŠ”ë°, ì˜ˆì œ ì½”ë“œì²˜ëŸ¼ Spring Data JPAì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ApplicationContext ë¡œë“œì— ì‹¤íŒ¨í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"User í´ë˜ìŠ¤ë¥¼ ìœ„í•´ ìƒì„±í•œ JPAìš© Repositoryì™€ Elasticsearchìš© Repository ì¸í„°í˜ì´ìŠ¤ ëª¨ë‘ "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"PagingAndSortingRepository<T, ID>"}]},{"type":"text","value":"ë¥¼ í™•ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ ê²°ê³¼ @EnableAutoConfigurationì„ ê¸°ë°˜ìœ¼ë¡œ Beanì„ ì£¼ì…í•˜ëŠ” ê³¼ì •ì—ì„œ Bean ì¤‘ë³µ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"application.properties"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"properties"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-properties"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-properties"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"spring.main.allow-bean-definition-overriding"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"text","value":"true"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Beanì„ ì˜¤ë²„ë¼ì´ë”©í•  ìˆ˜ ìˆë„ë¡ ìƒê¸° ì˜µì…˜ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤. ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ë‹¤ì‹œ ì‹¤í–‰í•´ë³´ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ë°ìš”."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Trouble Annotations"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@EnableJpaRepositories"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@EnableElasticsearchRepositories"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"@EnableJpaRepositories ë° @EnableElasticsearchRepositories ë“± ë‘ ì• ë„ˆí…Œì´ì…˜ì€ ê¸°ë³¸ì ìœ¼ë¡œ Repository ê´€ë ¨ í´ë˜ìŠ¤ë¥¼ "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ëª¨ë‘"}]},{"type":"text","value":" ìŠ¤ìºë‹í•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Log"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"UnsupportedFragmentException: Repository com.example.elasticsearch.user.domain.UserRepository implements org.springframework.data.repository.query.QueryByExampleExecutor but ElasticsearchRepositoryFactory does not support Query by Example!"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"@EnableElasticsearchRepositories ì• ë„ˆí…Œì´ì…˜ì´ JpaRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•œ JPA ê´€ë ¨ í´ë˜ìŠ¤ë¥¼ ìŠ¤ìºë‹í•˜ë©´ ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Log"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Caused by: org.springframework.data.mapping.PropertyReferenceException: No property searchSimilar found for type User!\n\ní˜¹ì€\n\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property index found for type User!"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ë°˜ëŒ€ë¡œ @EnableJpaRepositories ì• ë„ˆí…Œì´ì…˜ì´ ElasticsearchRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•œ Elasticsearch ê´€ë ¨ í´ë˜ìŠ¤ë¥¼ ìŠ¤ìºë‹í•˜ë©´ ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticSearchConfig.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@EnableElasticsearchRepositories"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"basePackageClasses "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserSearchRepository"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticSearchConfig"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"extends"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"AbstractElasticsearchConfiguration"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ElasticsearchApplication.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@EnableJpaRepositories"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"excludeFilters "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@ComponentScan.Filter"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"\n    type "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"FilterType"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"ASSIGNABLE_TYPE"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    classes "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserSearchRepository"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@SpringBootApplication"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchApplication"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"static"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"void"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"main"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" args"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SpringApplication"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"run"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ElasticsearchApplication"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" args"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ë”°ë¼ì„œ @EnableElasticsearchRepositories ì• ë„ˆí…Œì´ì…˜ì€ Elasticsearch ê´€ë ¨ Repository í´ë˜ìŠ¤ë§Œ ìŠ¤ìºë‹í•˜ë„ë¡ í•©ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ @EnableJpaRepositories ì• ë„ˆí…Œì´ì…˜ì€ JPA ê´€ë ¨ Repository í´ë˜ìŠ¤ë§Œ ìŠ¤ìºë‹í•˜ë„ë¡ í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"@EnableXXX ê´€ë ¨ ì• ë„ˆí…Œì´ì…˜ì„ ì˜ ì„¤ì •í–ˆë‹¤ë©´ í•„ìš”ì—†ëŠ” "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"spring.main.allow-bean-definition-overriding=true"}]},{"type":"text","value":" ì˜µì…˜ì€ ì œê±°í•˜ì…”ë„ ë©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"5.2. ë™ì‘ í™•ì¸"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•´ë³´ê³  Elasticsearch ì„œë²„ë¡œì˜ ë°ì´í„° ì“°ê¸° ë° ì¡°íšŒê°€ ì›í™œí•˜ê²Œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"RDBëŠ” SQL ì¿¼ë¦¬ë¥¼ í†µí•´ CRUD ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤ë©´, ElasticsearchëŠ” "},{"type":"element","tagName":"a","properties":{"href":"https://www.elastic.co/guide/en/elasticsearch/reference/current//docs.html"},"children":[{"type":"text","value":"RESTful API"}]},{"type":"text","value":" ì¿¼ë¦¬ë¥¼ í†µí•´ CRUD ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Spring Data JPAê°€ ìë™ìœ¼ë¡œ SQL ì¿¼ë¦¬ë¥¼ ìƒì„±í•´ DB ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì²˜ëŸ¼, Spring Data Elasticsearch ë˜í•œ RESTful API ì¿¼ë¦¬ë¥¼ ìƒì„±í•´ ES DB ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/137831507-5fd54393-e2ca-4ece-99cd-ef0c120ec350.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"jinhong"}]},{"type":"text","value":"ì´ë¼ëŠ” ë¬¸ìì—´ì´ í¬í•¨ëœ ëª¨ë“  User ê²€ìƒ‰ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/137831649-b38a0587-b114-4575-b26b-0ac2351e69f9.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"RESTfulí•œ GET ìš”ì²­ì„ í†µí•´ ES DBì— ì €ì¥ëœ Documentë¥¼ ì¡°íšŒí•œ ëª¨ìŠµì…ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/137831732-2ffed90b-9ea6-45ba-ba2e-f8502350975f.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"COUNT(*)"}]},{"type":"text","value":" SQL ì¿¼ë¦¬ì²˜ëŸ¼ ëª‡ ëª…ì˜ ìœ ì €ê°€ ì €ì¥ë˜ì–´ìˆëŠ”ì§€ ì¹´ìš´íŒ…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Query"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"POST /users/_delete_by_query\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"query\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"range\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"gte\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"User IDê°€ 1ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì€ ê²½ìš° ì‚­ì œí•˜ê² ë‹¤ëŠ” ì¿¼ë¦¬ë¥¼ ìš”ì²­ ë³¸ë¬¸ì— ë‹´ì•„ ì‚­ì œë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. SQL ì¿¼ë¦¬ê°€ ë‹¤ì–‘í•œ ê²ƒì²˜ëŸ¼ Elasticsearch ë˜í•œ ë‹¤ì–‘í•œ RESTful API ì¿¼ë¦¬ê°€ ì¡´ì¬í•˜ë‹ˆ, ìì„¸í•œ ë‚´ìš©ì€ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"6. Trade-Off"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"í–‰ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” RDBì—ì„œ íŠ¹ì • í‚¤ì›Œë“œê°€ í¬í•¨ëœ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ LIKE ì¿¼ë¦¬ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ë¬¸ì œëŠ” "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"LIKE '%jinhong%'"}]},{"type":"text","value":"ê³¼ ê°™ì´ "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"jinhong"}]},{"type":"text","value":" í‚¤ì›Œë“œê°€ ë“¤ì–´ê°„ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"%"}]},{"type":"text","value":" ê¸°í˜¸ë¥¼ ì•ì— ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•œ ì¸ë±ìŠ¤ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/137668936-6fd70a7a-702a-4ec8-8a07-e1b245357824.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"2ëŒ€ì˜ ì¡°íšŒ Slave DB(Replication)ë¥¼ ì‚¬ìš©í•˜ëŠ” ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ íŠ¹ì • ì´ë¦„ í‚¤ì›Œë“œê°€ í¬í•¨ëœ ìœ ì € ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œ ê²°ê³¼ì…ë‹ˆë‹¤. í‰ê·  TPSê°€ 38.9ì…ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/56240505/137674715-51fcf017-29dd-4f60-bf16-3004f37e1079.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"í‚¤ì›Œë“œ ê²€ìƒ‰ ìš”ì²­"}]},{"type":"text","value":" ìƒí™©ì—ì„œ RDBë¥¼ ES ê²€ìƒ‰ ì—”ì§„ìœ¼ë¡œ ëŒ€ì²´í•˜ë©´ ì„±ëŠ¥ ì´ì ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ESë¥¼ ë„ì…í•œ ë‹¤ìŒ ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ë™ì¼ í™˜ê²½ì—ì„œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ESì˜ ê²½ìš° ë‹¨ 1ëŒ€ì˜ ì„œë²„ë§Œìœ¼ë¡œë„ í‰ê·  TPSê°€ 82.2ë¥¼ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤! ì´ëŠ” 2ëŒ€ì˜ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê¸°ì¡´ì˜ RDB ë°©ì‹ë³´ë‹¤ ì„±ëŠ¥ì´ 2ë°° ì´ìƒì„ ìƒíšŒí•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ë¬¼ë¡  Elasticsearchë¼ëŠ” ë³„ë„ì˜ DBë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ê³ ë ¤í•´ì•¼í•  ê´€ë¦¬ í¬ì¸íŠ¸ê°€ ë§ì•„ì§„ë‹¤ëŠ” ë‹¨ì ì´ ì¡´ì¬í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ê¸°ì¡´ RDBì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ESë¡œ ì´ê´€í•´ì•¼ í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ì—…ë°ì´íŠ¸ ë°œìƒì‹œ RDBì™€ì˜ ë°ì´í„° ì •í•©ì„±ì„ ì œëŒ€ë¡œ ìœ ì§€í•´ì•¼í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ESëŠ” ë£¨ì”¬ ì“°ê¸° ì„±ëŠ¥ì´ ë‚˜ìœ ë§Œí¼, ì—…ë°ì´íŠ¸ ë°©ì‹ì— ëŒ€í•œ ì¶”ê°€ì ì¸ ì˜ì‚¬ê²°ì •ì´ í•„ìš”í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RDB - ES ê°„ì˜ ë°ì´í„° ì‹±í¬ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë§ì¶œ ê²ƒì¸ì§€, í˜¹ì€ ë°°ì¹˜ ë°©ì‹ì„ ì‚¬ìš©í•  ê²ƒì¸ì§€ ë“±."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„° ì‹±í¬ë¥¼ ë§ì¶”ë©´ ES ì„œë²„ íŠ¸ë˜í”½ì´ ì¦ê°€í•˜ê³  ì“°ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠë¼ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Bulk API ê¸°ë°˜ì˜ ë°°ì¹˜ ë°©ì‹ìœ¼ë¡œ ë°ì´í„° ì‹±í¬ë¥¼ ë§ì¶”ë©´ Documentì˜ ë°˜ë³µ ì—…ë°ì´íŠ¸ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìœ¼ë‚˜, ë°ì´í„° ì‹±í¬ì— ì§€ì—°ì´ ë°œìƒí•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ê³ ê°€ìš©ì„±ì„ ìœ„í•œ ë‹¨ì¼ ì¥ì• ì  ê·¹ë³µì„ ìœ„í•´ ES í´ëŸ¬ìŠ¤í„°ë§ ë° ìƒ¤ë”© ë“± ì•„í‚¤í…ì³ì— ëŒ€í•œ ê³ ë ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"References"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.elastic.co/guide/en/elasticsearch/reference/7.15/index.html"},"children":[{"type":"text","value":"Elasticsearch Guide Docs"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface"},"children":[{"type":"text","value":"Spring Data Elasticsearch - Reference Documentation"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://steemit.com/elk/@modolee/elk-stack"},"children":[{"type":"text","value":"ELK Stackì„ ì´ìš©í•œ ë¡œê·¸ ê´€ì œ ì‹œìŠ¤í…œ ë§Œë“¤ê¸°"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://victorydntmd.tistory.com/308"},"children":[{"type":"text","value":"ğŸ™ˆ[Elasticsearch] ê¸°ë³¸ ê°œë…ì¡ê¸°ğŸµ"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://stackoverflow.com/questions/36252099/no-property-index-found-for-type-user"},"children":[{"type":"text","value":"No property index found for type User"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.samsungsds.com/kr/insights/elastic_data_modeling.html"},"children":[{"type":"text","value":"ì—˜ë¼ìŠ¤í‹±ì„œì¹˜(Elasticsearch)ì—ì„œ ê´€ê³„í˜• ë°ì´í„° ëª¨ë¸ë§í•˜ê¸°"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"ì‹¤ìŠµ Repositoryì—ì„œ ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 1. Elasticsearch ElasticsearchëŠ” Apache Lucene ê¸°ë°˜ì˜ Java ì˜¤í”ˆì†ŒìŠ¤ ë¶„ì‚°í˜• RESTfulâ€¦","timeToRead":12,"frontmatter":{"title":"Spring Data Elasticsearch ì„¤ì • ë° ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„","userDate":"19 October 2021","date":"2021-10-19T12:00:00.000Z","tags":["database","elasticsearch","spring"],"excerpt":null,"image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB20lEQVQoz2NgwAL+///PYKAlz5AQqMH4/6guw/9zggz/TzAw/NwPpA+wMvw/xMDwYb8kA0lgfq0i46QSdYZf+7Q9fh6UOPL/IPfBH/uFnf8f4AEaysv4Yb8U8YYl+qowelsrMdhYqAtNyVdZsniiyb6VO8P2n9ll7rdtlw/Dxh1+jK/3yWLXrCwvD8FyUFpegUFRVp5JSUGRQVFN00OGi/8Jh3HIFYbF3y8yTPmvyrDsHwPDgo9My/aFg9VCMEI/WEBJDmIQSBDEFo6LYBBxc2bQsLLm4qgrXqQ8d/IZ6z3bztjtXhtps38Lg+X6ZUzmDaVQPagYbjLYUKjB8tpaDEJvbjKIxkYwMKxfaGyyd91ypwPrFtvuXmPodGoHg+XcCYyqBvoMSjDfySN8h/AqxEAhIGZTAkqoiIgxKiqrCAGjnEH79jEG1+2LGUy7GxjEgMGkoq6O5Dp5SaBjWGGOgRqkABLwB+IoINsdaGA4EHsD+dFKikpByhoaxiqqqoHKSkrBQM1eQI0hQOwLxI5A7A/E3kD1zEgGyrMAsTdQwAqiQB6k2BUoZqMEouUVtIHYHYgDgAY6A+lYoMXGQNoESBsAaU0gZkfysgI8DDBpJLacAlxMSQ4hB2cDaQAe+pRbCb0LHQAAAABJRU5ErkJggg==","aspectRatio":1.921487603305785,"src":"/static/066bcf7d24a6d86f02fa4857d6b8421a/ee8ae/elasticsearch-logo.png","srcSet":"/static/066bcf7d24a6d86f02fa4857d6b8421a/3a443/elasticsearch-logo.png 930w,\n/static/066bcf7d24a6d86f02fa4857d6b8421a/4d929/elasticsearch-logo.png 1860w,\n/static/066bcf7d24a6d86f02fa4857d6b8421a/ee8ae/elasticsearch-logo.png 3422w","sizes":"(max-width: 3422px) 100vw, 3422px"}}},"author":[{"id":"3ê¸°_ì¼€ë¹ˆ","bio":"ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ 3ê¸° ì¼€ë¹ˆ(ë°•ì§„í™)ì…ë‹ˆë‹¤ :)","avatar":{"children":[{"__typename":"ImageSharp","fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAkFBwj/xAAXAQEBAQEAAAAAAAAAAAAAAAAAAwEC/9oADAMBAAIQAxAAAAHldPpjVfl3ospiTfp8OhiNv//EAB4QAAEEAQUAAAAAAAAAAAAAAAYCAwQFJQABBxI1/9oACAEBAAEFApEfKCg3YU1c5HT2fcy5NAQSwlboiaf9XnczvwOnHLideDf/xAAdEQEBAAEEAwAAAAAAAAAAAAABAgASITFBEXHw/9oACAEDAQE/AYjXcypA0FXySKeaQ3QN0N3rNDhy/dY8vvP/xAAhEQEAAAUDBQAAAAAAAAAAAAABAAIRIfADUXESMUGRsf/aAAgBAgEBPwGfU6JWajNQqB3XwX3bVYNTPWZZDOSNuD5H/8QAKhAAAgIABAUBCQAAAAAAAAAAAgMBBAAFERIGEyExMrQUI0VRYWV1oaT/2gAIAQEABj8CtD9xYP8AVI98DGc3LhWUzcAq7c1G9QWibBMS2TNAe/EPI4dKw1n5zt8P1GLPT4ofrNcWuG2TC15qLPaDON8QqvZrtgdkSMFzWRAHBajs1jYW7oFUNwhWUmuuB7ctKgWGm7cXiMR1mZ+uLP5Vnq8ZHn/DdldW+7iFuXv51dVpD6bKtywSGKeJdOdWUwSCQYJROh6TOOHc6vmJXs1yTLb9sljy1lYs1xY2QXE6AMlPQY7Y/8QAHBABAQADAQEBAQAAAAAAAAAAAREAITFBYXGh/9oACAEBAAE/IdVgzVm0i6TbtIhskyBNHJoIgZOOasUPjDaX1OP6XVP7lrkfpwnSoSPBkAzcEICGIdrDa7hOXQ94Ke/Pck5i7eGQy3ihZUCtoWQQFCDRn//aAAwDAQACAAMAAAAQkOD8/8QAHREBAQEAAgIDAAAAAAAAAAAAAREhADFRcYGhsf/aAAgBAwEBPxC5psHTEUSAwgWCmpTGap0mwz49+daSZDJkqvXnn3H68//EAB4RAQACAQQDAAAAAAAAAAAAAAERIQAxQVGBYZHw/9oACAECAQE/ELWipAIIWAMUgCZUDBQeQffTzx1hkCCVSCVBTVbYafCmf//EABsQAQEBAQADAQAAAAAAAAAAAAERIQAxQVFh/9oACAEBAAE/ECApXAhCVAKIJIBBuHTeCCIVPfUaVCHGNXw0p8QibW1/bkxTOSYGxJ4SPAI80KriOqUpwE9Z4+VRh5WkQcmzVRCPoQmg9HEGLqtMfOMwBuam7P1G7Goh3//Z","aspectRatio":1,"src":"/static/ca96a9821f9436be6d625379dfb61c32/f66a1/kevin.jpg","srcSet":"/static/ca96a9821f9436be6d625379dfb61c32/b3d27/kevin.jpg 40w,\n/static/ca96a9821f9436be6d625379dfb61c32/5a735/kevin.jpg 80w,\n/static/ca96a9821f9436be6d625379dfb61c32/6e81a/kevin.jpg 120w,\n/static/ca96a9821f9436be6d625379dfb61c32/f66a1/kevin.jpg 535w","sizes":"(max-width: 535px) 100vw, 535px"}}]}}],"source":null}},"relatedPosts":{"totalCount":7,"edges":[{"node":{"id":"33478fc3-2999-5338-8ca7-497832d2954a","timeToRead":4,"excerpt":"ê¹ƒ-ë“¤ë‹¤ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° DB í˜•ìƒê´€ë¦¬ë¥¼ ìœ„í•´ Flywayë¥¼ ë„ì…í–ˆë‹¤.\nì—¬ê¸°ì„œ ì™€ ê°€ ë¬´ì—‡ì¼ê¹Œ?\nì´ë²ˆ ê¸€ì—ì„œ í•œë²ˆ ì•Œì•„ë³´ì.","frontmatter":{"title":"Flyway","date":"2021-10-23T12:00:00.000Z"},"fields":{"slug":"/post/2021-10-23-flyway/"}}},{"node":{"id":"6d283692-6783-57c5-a73b-dccd9435ebea","timeToRead":12,"excerpt":"ì‹¤ìŠµ Repositoryì—ì„œ ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 1. Elasticsearch ElasticsearchëŠ” Apache Lucene ê¸°ë°˜ì˜ Java ì˜¤í”ˆì†ŒìŠ¤ ë¶„ì‚°í˜• RESTfulâ€¦","frontmatter":{"title":"Spring Data Elasticsearch ì„¤ì • ë° ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„","date":"2021-10-19T12:00:00.000Z"},"fields":{"slug":"/post/2021-10-19-elasticsearch/"}}},{"node":{"id":"58b722a1-349e-5463-a0d6-3b3804a688af","timeToRead":6,"excerpt":"ì¡°íšŒ ì„±ëŠ¥ ê°œì„  ë¯¸ì…˜ì„ ì§„í–‰í•˜ë©° ë¥¼ ì•Œê²Œ ëë‹¤.\nì²˜ìŒ ë³´ëŠ” ë‹¨ì–´ì—¬ì„œ ì´ê²Œ ì–´ë–¤ ì¸ë±ìŠ¤ì¼ê¹Œ ê¶ê¸ˆí–ˆê³ , ë°”ë¡œ ì°¾ì•„ë³´ê³  ì´í•´í–ˆë‹¤.\nê·¸ëŸ¬ë©´ì„œ í•œë²ˆ ë‚´ìš©ì„ ê¸€ë¡œ ì •ë¦¬í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì„ í–ˆë‹¤.\nê·¸ë˜ì„œ ì´ë²ˆ ê¸°íšŒì— í•™ìŠµ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë©° í•´ë‹¹ ê°œë…ì„ ì¡ê³ ê°€ë ¤ í•œë‹¤.","frontmatter":{"title":"ì»¤ë²„ë§ ì¸ë±ìŠ¤","date":"2021-10-12T12:00:00.000Z"},"fields":{"slug":"/post/2021-10-12-covering-index/"}}},{"node":{"id":"c475fd02-f176-579c-95fe-6239eb80f8e1","timeToRead":6,"excerpt":"1. Indexë€? IndexëŠ” DB ë¶„ì•¼ì— ìˆì–´ì„œ í…Œì´ë¸”ì— ëŒ€í•œ ë™ì‘ì˜ ì†ë„ë¥¼ ë†’ì—¬ì£¼ëŠ” ìë£Œ êµ¬ì¡°ë¥¼ ì¼ì»«ëŠ”ë‹¤. IndexëŠ” í…Œì´ë¸” ë‚´â€¦","frontmatter":{"title":"DB Index ì…ë¬¸","date":"2021-09-18T12:00:00.000Z"},"fields":{"slug":"/post/2021-09-18-db-index/"}}},{"node":{"id":"de6fb05f-22a5-560a-b18f-ff6386474e65","timeToRead":3,"excerpt":"â€¦","frontmatter":{"title":"Replicationê³¼ Clustering","date":"2021-09-18T12:00:00.000Z"},"fields":{"slug":"/post/2021-09-18-replication_clustering/"}}}]}},"pageContext":{"slug":"/post/2021-10-19-elasticsearch/","prev":{"excerpt":"ì‘ì„±í•œ í”„ë¡œê·¸ë¨ì„ ì„œë²„ë¥¼ í†µí•´ì„œ ë°°í¬ ì‹œì— ë¦¬ëˆ…ìŠ¤ë¥¼ ë§ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.\nì´ ë•Œ, ë¦¬ëˆ…ìŠ¤ë¥¼ ì˜ í™œìš©í•˜ê¸° ìœ„í•´ì„œ ë¦¬ëˆ…ìŠ¤ì˜ ê°ê°ì˜ ê²½ë¡œ(directory, ë””ë ‰í„°ë¦¬)ì— ì ‘ê·¼í•˜ì—¬ ì‘ì—…í•  ë•Œë„ ìˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ëª…ë ¹ì–´ë¥¼ ë”°ë¼ì¹˜ë©´ì„œ ì–´ë–¤ ì˜ë¯¸ë¥¼ ê°€ì¡ŒëŠ”ì§€ ì‰½ê²Œ íŒŒì•…í•˜ê¸°ê°€ ì–´ë µìŠµë‹ˆë‹¤.\nì´ë¥¼ ì´í•´í•˜ê¸° ìœ„í•œ ë¦¬ëˆ…ìŠ¤ íŒŒì¼ ì‹œìŠ¤í…œì˜ ê²½ë¡œì— ëŒ€í•´ì„œ ê°„ë‹¨í•˜ê²Œ í›‘ì–´ë³´ëŠ” ë¦¬ëˆ…ìŠ¤ íŒŒì¼ ì‹œìŠ¤í…œì— ê´€í•œ ê¸€ì…ë‹ˆë‹¤.","timeToRead":5,"frontmatter":{"title":"ë¦¬ëˆ…ìŠ¤ íŒŒì¼ ì‹œìŠ¤í…œ ê²½ë¡œ êµ¬ì¡°","tags":["linux"],"date":"2021-10-18T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.8628428927680798,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAz0lEQVQoz5WSuw6CMBSGeUp9ExOfwEFHTXQwjC6+gbppNCTK4G4CiRe0LdAbhdIiYuJgROBPO/S03/nPOamRlUsX64+Msos4lphwQqNGsH65aYYfx6tjo8tBx7eGzlpmmRz0OrvNKj8pperCuvCOhJqbXXM6bga/n9rWAuNgMuq7zumTsbrnfKcqQ+vWfjncztrMs4qwqoallIQQhHzBIPBceD+HoU8o/Vn5N8w5BwAwxgBAlPIgxEEQQgjzeN1pp2kqhMiriIVIkqTxJ6mjJ7h4gktBXFmUAAAAAElFTkSuQmCC","sizes":"(max-width: 747px) 100vw, 747px","src":"/static/5ef20914854ceaba1447a86ad1f931a8/548d3/linux-file-directory-system.png","srcSet":"/static/5ef20914854ceaba1447a86ad1f931a8/548d3/linux-file-directory-system.png 747w"}}},"author":[{"id":"3ê¸°_ì™€ì´ë¹„","bio":"ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ 3ê¸° ì™€ì´ë¹„(í—ˆì˜ë²”)ì…ë‹ˆë‹¤ :)","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAYICQIF/8QAFgEBAQEAAAAAAAAAAAAAAAAABQYE/9oADAMBAAIQAxAAAAHKj3eImS3polLGtWqZkNVWfFmD/8QAHBAAAgIDAQEAAAAAAAAAAAAAAwUCBAEGEwcU/9oACAEBAAEFAjXCdYdwy8sWxta5lCVk/Njjjyg8g6dUx8ZkiRQwnQqgq0//xAAjEQABAwQBBAMAAAAAAAAAAAABAgMRABIhIkEEFTNRQkPR/9oACAEDAQE/AT0LTclbYkq1N4sNp3GJuBxBBCSMi4EGmGUBlrVI0GPUx+060127xN/R8E8lM8cyZ9yaUBJxya//xAAkEQEAAQMDAgcAAAAAAAAAAAABAgMREgAhMRMyFBUiI0Rhcf/aAAgBAgEBPwHx9eaRhWxCJkdNJxysx7rYp6sooo2Eilmc6jOSzZOTdZbrqjVq+bx9yp8g75cBsc8Fi34apb06a8sIK/eJr//EACgQAAIBAwMDAwUBAAAAAAAAAAECAwQREgUTIQAiQRQjMTIzQlJhUf/aAAgBAQAGPwKZO0bLOpt2/bfavYef2PySbnz1tVmdITEJo80PuRSx7sEi2uWSbt2yO1rg5Lzaonbuz1ap5t+lNRJ+X9U9apS0E0TRR1uoP6qcSxwhYZpHqFYRxSuJIFEz44Xmihd4Ve6g7cpcVDRxWYlhjAyxz0pjuM7Sw2cXxCoyJiGD2pZJrK9XW6jV/wCBg9W6BhfwRFx4sOtQNOdvPV6ipOPHvFK1A/FuVDvhf4LE+eq2bUNOpa+X0+me5WR7zd2Styx+SFHd9X95PVPTU0a09PAhjhhhAWONA7HFV8Dk9f/EABoQAQACAwEAAAAAAAAAAAAAAAERIQAxQWH/2gAIAQEAAT8h8KtACzQS0KJSa2Qey+nTNaCZgA8BuoxLr11qqiY44KAgrQcHwrLaKD0Fd2CMYSaEzoNdETdlUENAKMmqdJTqLTfh7ZSw/wCgd8UJ30HQE6zlHjCYGr3P/9oADAMBAAIAAwAAABAf14D/xAAZEQEBAQEBAQAAAAAAAAAAAAABEUEAIfD/2gAIAQMBAT8QCVNAXyEUKnbFQBwFqAAAQRcB8vHKAxUBpndAFgG14BgAAAAAUAMA8DO//8QAGhEBAQEBAQEBAAAAAAAAAAAAAREhADFhkf/aAAgBAgEBPxAS9EMAaaQ6NEHDqqlSgFWlaG+v5yBWLJT0/QIPBQ0IlRUhqpFV1V1XV3v/xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhMf/aAAgBAQABPxAbC0R2fXMQVmEbuCWQsiX1FjV7wGztY2yBTy2gLrq7HVG1USZ455KUw6lB4MIHIi654Sk1FGKySi53xXj1DuvyWJIrCnXA4rh5pkxGoLidAMM//9k=","sizes":"(max-width: 460px) 100vw, 460px","src":"/static/bfb773c24f06294935406a14cb053e4e/f86e8/whybe.jpg","srcSet":"/static/bfb773c24f06294935406a14cb053e4e/fd013/whybe.jpg 200w,\n/static/bfb773c24f06294935406a14cb053e4e/25252/whybe.jpg 400w,\n/static/bfb773c24f06294935406a14cb053e4e/f86e8/whybe.jpg 460w"}}]}}]},"fields":{"layout":"post","slug":"/post/2021-10-18-linux-file-directory-system/"}},"next":{"excerpt":"â— SSR ìƒì—ì„œ refresh tokenì„ ë„ì…í•˜ë©´ì„œ ëŠë‚€ ê²ƒë“¤ì„ ì‘ì„±í•œ ê¸€ì…ë‹ˆë‹¤. â— SSRì—ì„œ ë¡œê·¸ì¸ì´ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ ê¶ê¸ˆí•˜ì‹œë©´ ì—¬ê¸°ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”! ë„ì… ê³„ê¸° - 2ì‹œê°„ì´ ì§€ë‚˜ë©´ ë¡œê·¸ì¸ì´ í’€ë¦°ë‹¤! í˜„ì¬ ì§„í–‰í•˜ê³  ìˆëŠ” ë†€í†  ì•±ì€ accessâ€¦","timeToRead":5,"frontmatter":{"title":"refresh token ë„ì…ê¸°","tags":["refresh token","ssr"],"date":"2021-10-20T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.5,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAYFBwj/xAAWAQEBAQAAAAAAAAAAAAAAAAAEAgX/2gAMAwEAAhADEAAAAcdVfPKiM9cHMtX/xAAaEAADAQADAAAAAAAAAAAAAAADBAUCABMU/9oACAEBAAEFAg11HjWQddD3GHyjEAhJUJgZXyzkd//EAB8RAQABAwQDAAAAAAAAAAAAAAECAxESITFBgQBRkf/aAAgBAwEBPwGhDItSWeso04TsabyF7vzv0RpMgkREQb2i+uXF+g+f/8QAIhEBAQABAgUFAAAAAAAAAAAAAQISAxEAITFBUQQTFCIy/9oACAECAQE/AZ9N8GNTE1KXG6a1cq/JMhVc8QkA3+odKQ39yu4S9zN5dPEJ54//xAAkEAACAQQBAwUBAAAAAAAAAAABAgMEERITIQAFIhQVIzEyQv/aAAgBAQAGPwKnww9NU1NItXPI+MqQbYhUxzO2QE8i5KghCtMmLBrBsB7XNEtPFtQvTuYaSmfc7SyC7M6Q6whlZi7bFMIv8SNh22rSmphxiypE7v8A3K4kWZvkPKDM64dcPBjI63U7WuRuDIGMrL+Tne6BMm1qv0WLHI89PSyQrKzUjVO78XBGxozFZx54psdSjMUB4+uoFPbBOailhq7mrniEe8FhEojtcILeblndsjcDFF//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQAhMVH/2gAIAQEAAT8hLvuqKCyahMDyn9QUo0ywOgnDo4TEPy/H20QOC9NAno6nZMGV8fJzEAKZo5urnUqx/HELMKAVeP8A/9oADAMBAAIAAwAAABCgz//EABgRAQEBAQEAAAAAAAAAAAAAAAERIQBB/9oACAEDAQE/EDxDAGIzgFQYsFl4AwI0hHar7qk0se//xAAaEQEBAAIDAAAAAAAAAAAAAAABEQBRITFB/9oACAECAQE/EAIuCE6LonDRgwyKC46Zq0HAGimvM//EABcQAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQEAAT8QHAL34e3WfSUpBtAFQEeOix5NiC4xoWgXcF/w9ZDNo9kyk4HEbWNoK6yJKTaekUsZxr9ghmv/2Q==","sizes":"(max-width: 3720px) 100vw, 3720px","src":"/static/5e32f02844be889df53bcc1f6862fd80/5ef64/refresh-token.jpg","srcSet":"/static/5e32f02844be889df53bcc1f6862fd80/0079a/refresh-token.jpg 930w,\n/static/5e32f02844be889df53bcc1f6862fd80/8dba1/refresh-token.jpg 1860w,\n/static/5e32f02844be889df53bcc1f6862fd80/5ef64/refresh-token.jpg 3720w,\n/static/5e32f02844be889df53bcc1f6862fd80/de5d6/refresh-token.jpg 5184w"}}},"author":[{"id":"3ê¸°_ë¯¸í‚¤","bio":"ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ 3ê¸° ë¯¸í‚¤(ê¶Œì„¸ì§„)ì…ë‹ˆë‹¤ :)","avatar":{"children":[{"fluid":{"aspectRatio":1.3333333333333333,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAYIBAf/xAAVAQEBAAAAAAAAAAAAAAAAAAAFA//aAAwDAQACEAMQAAABvlGyJbA3NiRhKf8A/8QAHRAAAAcAAwAAAAAAAAAAAAAAAAECAwQFBgcRFf/aAAgBAQABBQI/LUUxmtMKuM4sNx1daWtsXayJn+RJR//EACERAAEDAwQDAAAAAAAAAAAAAAECAxEAMVEEBhIhFCJB/9oACAEDAQE/AXthPcVL8hn1EwlLsmMX7wPtHYOkWeTepWEK7SFsuFQGCQ1BIyAJvAtX/8QAIhEAAQMDAwUAAAAAAAAAAAAAAQIDEQQSMQAHIRciQXGB/9oACAECAQE/AafcRBcQgMuJvMXOKbCROLiMCcnxnXUGpR2rbpbxwqH2wJ4wCskfSfev/8QAKBAAAgIBAgUCBwAAAAAAAAAAAQMCBBEAEgUTFCExBmE0QVGTsdHw/9oACAEBAAY/Avj6n3oj86li9T7fR6/3/eNCfXShuByudDiAasiUomDYRqz5bAY94E5AwT50Cxa5ewWkZ7ZwPAz28nAA99dR6fp0n8Vo2E3KdZ7W012WL3xals0uSh0eTKcunvcyk5kI8wZEGRt2QsUp2LjXOQviFTYHTisylHY6YxIbT3ln5a//xAAbEAEBAQEBAAMAAAAAAAAAAAABESEAMUFxsf/aAAgBAQABPyE58zL+sdtmhUQ4X4d+iqwV7flAAdqIGnCEcy4bv7fkHZFQg08/Q7MkChnxAPVIekxYx71gWqAHf//aAAwDAQACAAMAAAAQu9//xAAYEQEBAQEBAAAAAAAAAAAAAAABESExAP/aAAgBAwEBPxBFi6rLSBaisNIU75Y3qW0grQIMdc//xAAXEQEBAQEAAAAAAAAAAAAAAAABESEx/9oACAECAQE/EJAVLYwwA0CsCrihBMRHI0hBxiCJUr//xAAaEAEBAQEAAwAAAAAAAAAAAAABEQAhMUFR/9oACAEBAAE/EJMhAdpI2Ip8Z75uKdF4SgYkAOJFQz4oZPX83rSwFl0zIGWCGJQDGAxCAhhxY5eat52hqdYkWjADf//Z","sizes":"(max-width: 800px) 100vw, 800px","src":"/static/fa7f6a0c3d11e8c67baa396cbd962e43/2f1b1/mickey.jpg","srcSet":"/static/fa7f6a0c3d11e8c67baa396cbd962e43/fd013/mickey.jpg 200w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/25252/mickey.jpg 400w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/2f1b1/mickey.jpg 800w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/0ff54/mickey.jpg 1200w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/c4b07/mickey.jpg 1440w"}}]}}]},"fields":{"layout":"post","slug":"/post/2021-10-20-refresh-token/"}},"primaryTag":"database"}},"staticQueryHashes":["2130001345","4041952199"]}