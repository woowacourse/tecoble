{"componentChunkName":"component---src-templates-post-tsx","path":"/post/2020-07-30-use-logger/","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVQY003Qvw7BUBTH8YYgLCKExWw1IczEwAtIJCa1GJuyCalI/EmERUgHi5cxeI8uTTt1aHp9r9wmhk/OOfee/HJzNd/3Dc/zutS24zgZIUQpiqIt9YY+vUb9+eur6Kh5GN9LGkEn2DBd1y1zmGfxjjf9AFm1XEQCBe6aVBMVLJHiLBcHTiHwQS0MQ/mSOlYsjPDCAjOMccUFR3Z0NdvYISkDW9jAQi8IAhnYgAyZ4wELEzUfcFZfYmCPJ9ZIfwG9owW1fLgCkwAAAABJRU5ErkJggg==","width":400,"height":88,"src":"/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png","srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png 1x"}}},"markdownRemark":{"html":"<p>웹이나 앱 어플리케이션을 개발하다 보면 어플리케이션의 상태를 확인하기 위해 로그를 남긴다.</p>\n<p>그럼 로그는 왜 남길까?\n보통 로그는 개발의 원활함을 위해, 에러 등을 확인하고 해결하기 위해, 보안의 의미로, 또는 마케팅 전략을 위해 남기기도 한다.\n이런 장점들을 살려보기 위해 로그를 적용했던 이야기를 해 보려 한다.</p>\n<h2>로거 적용기</h2>\n<h3>로그 전략 세우기</h3>\n<p>이번 우아한 테크코스에서 진행하는 웹 프로젝트에 로거를 적용해 보았다.</p>\n<p>우선적으로 로거를 적용하기 전에 팀의 로그 전략을 세워야 한다.</p>\n<blockquote>\n<p>로그 전략은 뭐지?</p>\n</blockquote>\n<p>로그 전략은 쉽게 말하면 어떤 로그를 어떤 방식으로 남길지, 그리고 그 로그를 어떻게 얼마동안 관리할지 등의 전략이다.</p>\n<p>오, 그러면 어떤 부분을 로그로 남기는 게 좋을까?</p>\n<p>팀에서 서버단에서는 api 통신에 대한 로그, db 로그, 에러 로그를 남기기로 결정했다.\n어플리케이션의 모든 상황을 로그로 남기면 로그 파일은 빠른 속도로 커질 것이고 디스크 용량의 문제를 야기할 수 있다.\n데이터가 변하고 저장되는 시점에 로그를 남기는 것이 중요하다고 판단했다.\n요청받은 데이터를 처리하는 과정에서 에러가 나는 경우, api 통신에 대한 로그를 통해 에러의 원인을 쉽게 찾을 수 있기 때문이다. db 로그도 마찬가지이다. 에러 로그는 당연하다. 에러가 발생한 부분에 대한 기록이 있어야 그 에러를 해결할 수 있다.</p>\n<p>그리고 로그 파일의 보관 주기, 파일의 최고 용량 등을 결정할 롤링 정책도 정했다. 팀의 상황에 따라 적절히 정해주면 좋을 것이다.</p>\n<h3>Logback 사용하기</h3>\n<p>로그를 남기기 위해 가장 편리한 <code class=\"language-text\">System.out.println()</code>을 사용할 수도 있다. 그러나 이는 바람직하지 않다.\n몇 줄 코드 추가하는 정도라 크게 신경쓰지 않을 수도 있으나, 사용자가 많은 웹 어플리케이션인 경우에 문제가 발생한다. System.out.println()은 I/O operation이기 때문에 synchronized가 붙어 있고, 어플리케이션은 <strong>print가 완전히 끝날 때 까지 대기</strong>한다. 이는 상당한 성능 저하를 발생시킬 수 있다.\n또한, System.out.println()를 통한 로그는 개발시에만 사용되고 실 서비스 배포 후에는 사용되지 않는다. 실 서비스 이후에는 불필요한 코드가 되어버린다. 그런 이유로 로깅 프레임워크를 사용했다.</p>\n<p>그 중, 자바 스프링 부트로 서버를 구현했기 때문에 로거로 <strong>logback</strong> 라이브러리를 사용했다. (스프링 부트는 기본적으로 <strong>logback</strong> 모듈을 제공)</p>\n<p>로그백의 설정 파일은 src/main/resources/ 하단에 위치시킨다.\n스프링 부트의 경우 <strong>logback-spring.xml</strong>을 이용한다. logback.xml을 사용하게 되면 스프링 부트 설정 전에 로그백 설정이 먼저 되어 로그 제어가 어려워질 수 있다.</p>\n<blockquote>\n<p>또는 property의 logging.config = classpath:logback-${spring.profiles.active}.xml을 통해 각 프로파일별로 logback 설정파일을 관리한다.\n덧붙여, application.yml 의 설정만으로도 logger, 로그레벨 설정이 가능하다.</p>\n</blockquote>\n<p>로그백의 설정파일은 크게 <strong>appender</strong>와 <strong>logger</strong>, <strong>layout</strong> 으로 나눌 수 있다. appender를 통해 로그를 어떻게 남길지에 대한 설정을 할 수 있고 logger를 통해 해당 로거가 사용될 패키지와 로그 레벨을 설정할 수 있다.</p>\n<blockquote>\n<p>로그 레벨은 TRACE - DEBUG - INFO - WARN - ERROR 순이며, DEBUG로 로그 레벨을 설정할 경우 ERROR 부터 DEBUG 레벨의 로그가 모두 기록된다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Error<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n   ...  \n    <span class=\"token comment\">&lt;!-- 로그 파일이 저장될 경로 --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>file</span><span class=\"token punctuation\">></span></span>${LOG_PATH}/${ERR_LOG_FILE_NAME}.log<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>file</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>encoder</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token comment\">&lt;!-- 로그 출력의 형식 --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pattern</span><span class=\"token punctuation\">></span></span>${LOG_PATTERN}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pattern</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>encoder</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!-- 롤링 정책 설정 --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rollingPolicy</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fileNamePattern</span><span class=\"token punctuation\">></span></span>${LOG_PATH}/${ERR_LOG_FILE_NAME}.%d{yyyy-MM-dd}_%i.log<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>fileNamePattern</span><span class=\"token punctuation\">></span></span>\n        ...\n        <span class=\"token comment\">&lt;!-- 로그 최대 저장 주기(일), 지나면 폐기된다. --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maxHistory</span><span class=\"token punctuation\">></span></span>30<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maxHistory</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>rollingPolicy</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>appender</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>위 코드는 에러 로그만 따로 파일로 설정하도록 하는 코드이다.\n<strong>RollingFileAppender</strong> 설정을 함으로써 여러 파일을 돌며 로그를 남길 수 있도록 했다.</p>\n<p>RollingFileAppender는 여러가지 어펜더중 하나이며, LogBack은 로그를 남기기 위해 다양한 Appender를 지원한다. 아래의 문서에서 다른 어펜더들도 확인할 수 있다.\n(다른 사항은 주석과 <a href=\"http://logback.qos.ch/\">공식 문서</a>를 참고하면 좋을 것이다.)\ndb 로그를 남기는 부분도 위와 비슷하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token comment\">&lt;!-- root레벨 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>root</span> <span class=\"token attr-name\">level</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>WARN<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>CONSOLE<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>FILE<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Error<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>root</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>logger</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>org.hibernate.SQL<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">level</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>DEBUG<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">additivity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>DB<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>logger</span><span class=\"token punctuation\">></span></span>\n...</code></pre></div>\n<p><code class=\"language-text\">&lt;logger></code>를 통해 appender를 참조하고 name속성을 사용해 해당 패키지의 로그 레벨을 설정할 수 있다.\n위 코드를 보면 <code class=\"language-text\">&lt;appender></code> name 속성이 DB인 경우, 패키지는 “org.hibernate.SQL”로, 로그 레벨은 DEBUG 로 설정했다.\n<code class=\"language-text\">&lt;root></code>는 최상위 패키지에 기본적으로 적용되는 설정이다. <code class=\"language-text\">logger name=\"\"</code> 과 동일하다고 생각하면 된다.</p>\n<p>로그백은 <code class=\"language-text\">logback-core</code>, <code class=\"language-text\">logback-access</code>, <code class=\"language-text\">logback-class</code> 세 가지 모듈로 나뉜다.\nlogback-core가 나머지 두 모듈의 토대이며, 앞서 언급했던 기능들은 logback-class 모듈의 기본 기능이다.</p>\n<p>logback-access 모듈을 사용하면 HTTP 접근 로그를 남길 수 있기 때문에 <code class=\"language-text\">logback-access.xml</code> 파일을 만들어 api 통신에 관한 로그 설정을 했다. 파일 설정은 비슷하지만 다른 이슈가 생겼다.\n컨트롤러의 메소드가 호출될 때마다 로그를 남기려고 하니, 통신 응답이 완료되면 HttpServletRequest, HttpServletResponse 두 객체를 소멸시켜 값을 읽어오지 못한다는 문제였다.\n모든 컨트롤러를 대상으로 로그를 기록해야 하므로 Filter와 LogInterceptor를 구현하고 응답과 요청값을 캐싱했다. (<a href=\"https://supawer0728.github.io/2018/04/04/spring-filter-interceptor/\">spring filter와 interceptor에 관한 작은 글</a>)</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//LogServletWrappingFilter class</span>\n<span class=\"token annotation punctuation\">@Override</span>\n<span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doFilterInternal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">ContentCachingRequestWrapper</span> wrappingRequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ContentCachingRequestWrapper</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">ContentCachingResponseWrapper</span> wrappingResponse <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ContentCachingResponseWrapper</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//LogInterceptor class</span>\n<span class=\"token annotation punctuation\">@Override</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">afterCompletion</span><span class=\"token punctuation\">(</span>\n    <span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">ContentCachingRequestWrapper</span> cachingRequest <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ContentCachingRequestWrapper</span><span class=\"token punctuation\">)</span>request<span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">ContentCachingResponseWrapper</span> cachingResponse <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ContentCachingResponseWrapper</span><span class=\"token punctuation\">)</span>response<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Params : {}\"</span><span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"RequestBody : {} / ResponseBody : {}\"</span><span class=\"token punctuation\">,</span>\n            objectMapper<span class=\"token punctuation\">.</span><span class=\"token function\">readTree</span><span class=\"token punctuation\">(</span>cachingRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getContentAsByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            objectMapper<span class=\"token punctuation\">.</span><span class=\"token function\">readTree</span><span class=\"token punctuation\">(</span>cachingResponse<span class=\"token punctuation\">.</span><span class=\"token function\">getContentAsByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>간단히 설명하자면 filter를 통해 요청값과 응답값을 감싸주고 interceptor에서 로그를 남겼다.</p>\n<p>이렇게 api 통신, db, 에러 로그를 남길 수 있게 되었다.\n지금은 간단한 로그 전략과 logback 사용법에 대해서만 다루었지만 logback 말고도 log4j, log4j2 등 다양한 로거 라이브러리들이 있다.\n아직 부족한 부분이 많지만 로그를 사용해 보며 이점을 직접적으로 느껴보고, 앞으로도 더 보완해 나갈 예정이다.</p>\n<h4>참고 링크</h4>\n<hr>\n<p><a href=\"http://logback.qos.ch/\">logback 공식문서</a></p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"웹이나 앱 어플리케이션을 개발하다 보면 어플리케이션의 상태를 확인하기 위해 로그를 남긴다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그럼 로그는 왜 남길까?\n보통 로그는 개발의 원활함을 위해, 에러 등을 확인하고 해결하기 위해, 보안의 의미로, 또는 마케팅 전략을 위해 남기기도 한다.\n이런 장점들을 살려보기 위해 로그를 적용했던 이야기를 해 보려 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"로거 적용기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"로그 전략 세우기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번 우아한 테크코스에서 진행하는 웹 프로젝트에 로거를 적용해 보았다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우선적으로 로거를 적용하기 전에 팀의 로그 전략을 세워야 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"로그 전략은 뭐지?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"로그 전략은 쉽게 말하면 어떤 로그를 어떤 방식으로 남길지, 그리고 그 로그를 어떻게 얼마동안 관리할지 등의 전략이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"오, 그러면 어떤 부분을 로그로 남기는 게 좋을까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"팀에서 서버단에서는 api 통신에 대한 로그, db 로그, 에러 로그를 남기기로 결정했다.\n어플리케이션의 모든 상황을 로그로 남기면 로그 파일은 빠른 속도로 커질 것이고 디스크 용량의 문제를 야기할 수 있다.\n데이터가 변하고 저장되는 시점에 로그를 남기는 것이 중요하다고 판단했다.\n요청받은 데이터를 처리하는 과정에서 에러가 나는 경우, api 통신에 대한 로그를 통해 에러의 원인을 쉽게 찾을 수 있기 때문이다. db 로그도 마찬가지이다. 에러 로그는 당연하다. 에러가 발생한 부분에 대한 기록이 있어야 그 에러를 해결할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고 로그 파일의 보관 주기, 파일의 최고 용량 등을 결정할 롤링 정책도 정했다. 팀의 상황에 따라 적절히 정해주면 좋을 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Logback 사용하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"로그를 남기기 위해 가장 편리한 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"System.out.println()"}]},{"type":"text","value":"을 사용할 수도 있다. 그러나 이는 바람직하지 않다.\n몇 줄 코드 추가하는 정도라 크게 신경쓰지 않을 수도 있으나, 사용자가 많은 웹 어플리케이션인 경우에 문제가 발생한다. System.out.println()은 I/O operation이기 때문에 synchronized가 붙어 있고, 어플리케이션은 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"print가 완전히 끝날 때 까지 대기"}]},{"type":"text","value":"한다. 이는 상당한 성능 저하를 발생시킬 수 있다.\n또한, System.out.println()를 통한 로그는 개발시에만 사용되고 실 서비스 배포 후에는 사용되지 않는다. 실 서비스 이후에는 불필요한 코드가 되어버린다. 그런 이유로 로깅 프레임워크를 사용했다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그 중, 자바 스프링 부트로 서버를 구현했기 때문에 로거로 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"logback"}]},{"type":"text","value":" 라이브러리를 사용했다. (스프링 부트는 기본적으로 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"logback"}]},{"type":"text","value":" 모듈을 제공)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"로그백의 설정 파일은 src/main/resources/ 하단에 위치시킨다.\n스프링 부트의 경우 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"logback-spring.xml"}]},{"type":"text","value":"을 이용한다. logback.xml을 사용하게 되면 스프링 부트 설정 전에 로그백 설정이 먼저 되어 로그 제어가 어려워질 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"또는 property의 logging.config = classpath:logback-${spring.profiles.active}.xml을 통해 각 프로파일별로 logback 설정파일을 관리한다.\n덧붙여, application.yml 의 설정만으로도 logger, 로그레벨 설정이 가능하다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"로그백의 설정파일은 크게 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"appender"}]},{"type":"text","value":"와 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"logger"}]},{"type":"text","value":", "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"layout"}]},{"type":"text","value":" 으로 나눌 수 있다. appender를 통해 로그를 어떻게 남길지에 대한 설정을 할 수 있고 logger를 통해 해당 로거가 사용될 패키지와 로그 레벨을 설정할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"로그 레벨은 TRACE - DEBUG - INFO - WARN - ERROR 순이며, DEBUG로 로그 레벨을 설정할 경우 ERROR 부터 DEBUG 레벨의 로그가 모두 기록된다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"xml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-xml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-xml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"appender"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"name"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"Error"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"ch.qos.logback.core.rolling.RollingFileAppender"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n   ...  \n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"<!-- 로그 파일이 저장될 경로 -->"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"file"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"${LOG_PATH}/${ERR_LOG_FILE_NAME}.log"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"file"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"encoder"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"ch.qos.logback.classic.encoder.PatternLayoutEncoder"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"<!-- 로그 출력의 형식 -->"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"pattern"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"${LOG_PATTERN}"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"pattern"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"encoder"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"<!-- 롤링 정책 설정 -->"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"rollingPolicy"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"fileNamePattern"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"${LOG_PATH}/${ERR_LOG_FILE_NAME}.%d{yyyy-MM-dd}_%i.log"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"fileNamePattern"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n        ...\n        "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"<!-- 로그 최대 저장 주기(일), 지나면 폐기된다. -->"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"maxHistory"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"30"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"maxHistory"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"rollingPolicy"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"appender"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 코드는 에러 로그만 따로 파일로 설정하도록 하는 코드이다.\n"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"RollingFileAppender"}]},{"type":"text","value":" 설정을 함으로써 여러 파일을 돌며 로그를 남길 수 있도록 했다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"RollingFileAppender는 여러가지 어펜더중 하나이며, LogBack은 로그를 남기기 위해 다양한 Appender를 지원한다. 아래의 문서에서 다른 어펜더들도 확인할 수 있다.\n(다른 사항은 주석과 "},{"type":"element","tagName":"a","properties":{"href":"http://logback.qos.ch/"},"children":[{"type":"text","value":"공식 문서"}]},{"type":"text","value":"를 참고하면 좋을 것이다.)\ndb 로그를 남기는 부분도 위와 비슷하다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"xml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-xml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-xml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"<!-- root레벨 -->"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"root"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"level"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"WARN"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"appender-ref"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"ref"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"CONSOLE"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"/>"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"appender-ref"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"ref"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"FILE"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"/>"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"appender-ref"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"ref"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"Error"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"/>"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"root"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"logger"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"name"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"org.hibernate.SQL"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"level"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"DEBUG"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"additivity"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"false"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"appender-ref"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"ref"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"DB"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"/>"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"logger"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n..."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<logger>"}]},{"type":"text","value":"를 통해 appender를 참조하고 name속성을 사용해 해당 패키지의 로그 레벨을 설정할 수 있다.\n위 코드를 보면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<appender>"}]},{"type":"text","value":" name 속성이 DB인 경우, 패키지는 “org.hibernate.SQL”로, 로그 레벨은 DEBUG 로 설정했다.\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<root>"}]},{"type":"text","value":"는 최상위 패키지에 기본적으로 적용되는 설정이다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"logger name=\"\""}]},{"type":"text","value":" 과 동일하다고 생각하면 된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"로그백은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"logback-core"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"logback-access"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"logback-class"}]},{"type":"text","value":" 세 가지 모듈로 나뉜다.\nlogback-core가 나머지 두 모듈의 토대이며, 앞서 언급했던 기능들은 logback-class 모듈의 기본 기능이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"logback-access 모듈을 사용하면 HTTP 접근 로그를 남길 수 있기 때문에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"logback-access.xml"}]},{"type":"text","value":" 파일을 만들어 api 통신에 관한 로그 설정을 했다. 파일 설정은 비슷하지만 다른 이슈가 생겼다.\n컨트롤러의 메소드가 호출될 때마다 로그를 남기려고 하니, 통신 응답이 완료되면 HttpServletRequest, HttpServletResponse 두 객체를 소멸시켜 값을 읽어오지 못한다는 문제였다.\n모든 컨트롤러를 대상으로 로그를 기록해야 하므로 Filter와 LogInterceptor를 구현하고 응답과 요청값을 캐싱했다. ("},{"type":"element","tagName":"a","properties":{"href":"https://supawer0728.github.io/2018/04/04/spring-filter-interceptor/"},"children":[{"type":"text","value":"spring filter와 interceptor에 관한 작은 글"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//LogServletWrappingFilter class"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Override"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"void"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"doFilterInternal"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"throws"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ServletException"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"IOException"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ContentCachingRequestWrapper"}]},{"type":"text","value":" wrappingRequest "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ContentCachingRequestWrapper"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ContentCachingResponseWrapper"}]},{"type":"text","value":" wrappingResponse "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ContentCachingResponseWrapper"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"response"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//LogInterceptor class"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Override"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"void"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"afterCompletion"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"HttpServletRequest"}]},{"type":"text","value":" request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"HttpServletResponse"}]},{"type":"text","value":" response"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"throws"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Exception"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ContentCachingRequestWrapper"}]},{"type":"text","value":" cachingRequest "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ContentCachingRequestWrapper"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ContentCachingResponseWrapper"}]},{"type":"text","value":" cachingResponse "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ContentCachingResponseWrapper"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"response"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"\n    log"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"warn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Params : {}\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" params"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    log"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"warn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"RequestBody : {} / ResponseBody : {}\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n            objectMapper"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"readTree"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cachingRequest"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getContentAsByteArray"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n            objectMapper"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"readTree"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cachingResponse"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getContentAsByteArray"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"간단히 설명하자면 filter를 통해 요청값과 응답값을 감싸주고 interceptor에서 로그를 남겼다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 api 통신, db, 에러 로그를 남길 수 있게 되었다.\n지금은 간단한 로그 전략과 logback 사용법에 대해서만 다루었지만 logback 말고도 log4j, log4j2 등 다양한 로거 라이브러리들이 있다.\n아직 부족한 부분이 많지만 로그를 사용해 보며 이점을 직접적으로 느껴보고, 앞으로도 더 보완해 나갈 예정이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"참고 링크"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://logback.qos.ch/"},"children":[{"type":"text","value":"logback 공식문서"}]}]}],"data":{"quirksMode":false}},"excerpt":"…","timeToRead":4,"frontmatter":{"title":"로그 전략을 통해 메시지를 남기자","userDate":"30 July 2020","date":"2020-07-30T12:00:00.000Z","tags":["spring","spring-boot","logback","logger"],"excerpt":null,"image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABWUlEQVQoz41TTauCUBDt3/Yf/A2RizatWki0KgnaFAQSIW4jhFzYLkoSpe/S0vOY4Y1cewpvYLjO3JlzZ86MDfxKmqb4fD5i4v1+s4/0fD7j8XiwP89z1jppqABq4PV6xf1+Z1+SJKz/BqQAAaQqKflyueD1eiHLMjyfz+KelHyqygN0MiCBUJJ8V4lUWCcC2iAA4ud4PGK327HTcRzs93t4noftdov1eg3f9xEEAfO52Wzgui7blFOqUF4+nU4wTROr1Qr9fh+dTgftdhvdbheapqHX60HXdbRaLQyHQyyXSzSbTUyn06KzomUZyng85sDJZILFYsGnYRgYDAYYjUZsz2YzPi3Lwnw+h23b5QqJO3WCBExEq9yodtWk5Z4BiT+aJgERP7fbrQiSRLoTnwr+PeHSHhLQ4XDg4QiAcPO9g1VaVCgG/RFhGCKKotLqUAdxHP9Zjzr5ATcXRgm9d89HAAAAAElFTkSuQmCC","aspectRatio":1.8058252427184467,"src":"/static/5632df2d6fd5567baef3cc3a934d0176/e9b10/logback.png","srcSet":"/static/5632df2d6fd5567baef3cc3a934d0176/3a443/logback.png 930w,\n/static/5632df2d6fd5567baef3cc3a934d0176/e9b10/logback.png 1816w","sizes":"(max-width: 1816px) 100vw, 1816px"}}},"author":[{"id":"2기_오렌지","bio":"우아한테크코스 2기 오렌지(조예린)입니다 :)","avatar":{"children":[{"__typename":"ImageSharp","fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAgJ/8QAFQEBAQAAAAAAAAAAAAAAAAAABgX/2gAMAwEAAhADEAAAAdZIBuSAjDytGQQqx0YxTKhW5gfef//EABkQAAMBAQEAAAAAAAAAAAAAAAQFBgMCAf/aAAgBAQABBQJ0z4AAnrISbdYuhzOtnGKRPi8lcdn1UeO2qJ4N0AHzx48wC5pRf//EACQRAAMAAQMDBQEBAAAAAAAAAAECAwQREiEABQYTIiMxMhVB/9oACAEDAQE/AcGLJg5mG+NGptkNNM1MzGTHYz9MzpN6gM6T3KzCZ1dKN+OdsPCJejE08n8Zm5nNmR+5Vk6llQ6PKuEKTYa+5KAOp4Ya69dw4zryHEp5PxzHE57liTsT8rqQCdoGpGvXaqU/nYnyPxIAe5uApIA+/oAAAf4Bp1//xAAjEQACAQIGAgMAAAAAAAAAAAABAgMEBQAREhMhIgYxFEFR/9oACAECAQE/AaudZq2kuImqYWjpIytDJS1IqYS+7vJPEupA0unR3ChDEoBfNWxN5TU70u3Zrqybj6WEEDgjV7Dx1Whh+MvU+xi1szWa3TMS00tviMsrEmSQ9hm7ns5yJHYng4ro4/lzdE5bM9RySASTx7JOZP2ecf/EACUQAAICAQMEAwADAAAAAAAAAAIDAQQFERITABQhIgYVMSQyQ//aAAgBAQAGPwInzLY5VxwsEYkPcYLdJRrAaAUTqekeY/derdA79rJ0cxVuZ+Kp3gt3KDFnMmdMCdKxp2oauJW5qIGQ5V74merM2a2RxTkP4Dq5Fa1P8JS2GQKWODjMWxpO/dughmI29H97A+qqlIuaeZFiWfx6dIphf+5BAzIKLlYZFp+aWVUMZiDi4P1j8ZVlLshdVve2wulRjZZdNmXGCwYxhTxKBagnTq2vv8vllRKxq3+zyTpdTSldeoJcwE1bK6FBWas5koYky3M38rPkPzG3YyP3Hxu9jxxcBdYVFc2H4bkYdGxzoNkxZaMTpEbZ/rrGvRiIQEoO1ZWYSazh1a5oo/QhjWPBeIj3ESjSY6rZm+96r1oGjcOlKkBbdWtWKveuAktju7C0gVti+MXu3PlfKxhF/8QAGRABAQEBAQEAAAAAAAAAAAAAAREhADFB/9oACAEBAAE/IaiUYgNMGx+Yojk0Yn7iCkx9D0qtKWiATQ9bN8s6KS3GgmJyeW+XZfEXeONQLpK2pAUnsJ7QigKPvG08olBzZjDIJbkL8Q713n1I+xzdLXJ//9oADAMBAAIAAwAAABDUHwL/xAAYEQEBAQEBAAAAAAAAAAAAAAABEQAhQf/aAAgBAwEBPxDrcTeTQlOTCl4iSOM5YaAKaYjAPhb3BGUVzQBVBz6r1TRP8DNwAAA3/8QAFxEBAQEBAAAAAAAAAAAAAAAAAREhAP/aAAgBAgEBPxCkcK+Y0wRbCBUpFhi4EDoqYhg6CeMjpLJAFQhYpyFWRbdf2lZFUUqr3//EABgQAQEBAQEAAAAAAAAAAAAAAAEAESEx/9oACAEBAAE/EA/foxzMIcaOom04SkgfADkrKki66ONCgYCE5nYOA1kIgNTqmKb3hZI1h7thb3aixCiDaoYKljNZ5BeQm0iM+an1IU2CmankEpcvwDVN/9k=","aspectRatio":1,"src":"/static/b91216cf43c880e4273d275948ce1d6c/f86e8/orange.jpg","srcSet":"/static/b91216cf43c880e4273d275948ce1d6c/b3d27/orange.jpg 40w,\n/static/b91216cf43c880e4273d275948ce1d6c/5a735/orange.jpg 80w,\n/static/b91216cf43c880e4273d275948ce1d6c/6e81a/orange.jpg 120w,\n/static/b91216cf43c880e4273d275948ce1d6c/f86e8/orange.jpg 460w","sizes":"(max-width: 460px) 100vw, 460px"}}]}}],"source":null}},"relatedPosts":{"totalCount":32,"edges":[{"node":{"id":"8a459858-1bca-5b40-bb2f-c8450cc8b5d6","timeToRead":8,"excerpt":"…","frontmatter":{"title":"@Configuration은 어떻게 빈을 등록하고, 싱글톤으로 관리할까?","date":"2023-06-28T12:00:00.000Z"},"fields":{"slug":"/post/2023-05-22-configuration/"}}},{"node":{"id":"9e041370-5677-52ea-ac38-aa071cd5cdd6","timeToRead":5,"excerpt":"콘솔 애플리케이션을 구현할 때, 우리는 예외를 핸들링하기 위해 try / catch문을 사용했습니다. 그러나 웹 애플리케이션에서는 예외 처리 방법이 조금 다릅니다. 이번 글에서는 스프링을 사용한 웹 애플리케이션 적용할 수 있는 예외 처리 방법인 와 에 대해 알아보겠습니다.","frontmatter":{"title":"ExceptionHandler와 ControllerAdvice를 알아보자","date":"2023-05-21T12:00:00.000Z"},"fields":{"slug":"/post/2023-05-03-ExceptionHandler-ControllerAdvice/"}}},{"node":{"id":"68a8791f-9973-50b4-8c17-9a2edbe75c58","timeToRead":9,"excerpt":"상황 스모디 프로젝트를 하면서 랭킹 기능을 도입하기로 했습니다. 랭킹 기능은 유저가 활동을 했을 때, 활동에 따라 랭킹 점수를 부여해야 합니다. 저희 서비스는 챌린지에 도전하고 매일 챌린지에 해당하는 활동을 인증하여 총…","frontmatter":{"title":"스프링 이벤트 적용기","date":"2022-11-14T13:10:00.000Z"},"fields":{"slug":"/post/2022-11-14-spring-event/"}}},{"node":{"id":"895ac54c-c1c3-508d-b88a-7542dc458eb2","timeToRead":9,"excerpt":"…","frontmatter":{"title":"Spring에서 Server-Sent-Events 구현하기","date":"2022-10-11T12:00:00.000Z"},"fields":{"slug":"/post/2022-10-11-server-sent-events/"}}},{"node":{"id":"c209a85e-6260-50e5-b817-48f63e9796b4","timeToRead":5,"excerpt":"이 글은 웹 소켓으로 만든 채팅방을 어떻게 테스트할지 고민하는 독자를 위해 작성되었다.  웹 소켓은 어떻게 테스트하면 좋을까? Babble…","frontmatter":{"title":"웹 소켓에 대해 알아보자! - 테스트 편","date":"2021-11-10T12:00:00.000Z"},"fields":{"slug":"/post/2021-11-10-web-socket-test/"}}}]}},"pageContext":{"slug":"/post/2020-07-30-use-logger/","prev":{"excerpt":"equals와 hashCode는 같이 재정의하라는 말을 다들 한 번쯤 들어봤을 것이다. 대부분의 IDE Generate 기능에서도 equals와 hashCode를 같이 재정의해주며 lombok에서도 EqualsAndHashCode…","timeToRead":3,"frontmatter":{"title":"equals와 hashCode는 왜 같이 재정의해야 할까?","tags":["java"],"date":"2020-07-29T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.7816091954022988,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB0ElEQVQoz61TO0/bUBT2X4LECXZUwcKIxNAODFAEElNYcP0qJAGEUHmpDgQIiRqBABV1ACFY+g8AIcSzS0eoslTCNoE4Yfi4DxubneHTPQ+fc7577mdBNl28ByTTgWy4EGRqEEjESUVsCmqnfJ/HeT6Iy5EcbUabCrzYYVPiqgNRtcnHHEnNQUyx/WKbFNlo0zlaSFwyeE4ywx4+QxdJ3cHHWRddMw20qHWIRhOdk4/osTzEtCckDA8Js4GOnIf2bB29i0+QRz3EtRqCHvQU2AQyMZVpIlf4jeX1Q8zt/MV4+QybB2ewCmsYKd1itHSJqQrxt0+xsHmCja0d5LeP8fl7FaL2QNg7hJTLG7bp9/iQfcaYdYDC3FeYyhCUdB+msgqmJwzs7/7EVmUJldUZEhvBt0kNmjKM9EA3fh0e4dN8ja2jM2eHj5Ig3YeLVeT37jBWOmfIli9g7d5Br/zDl5U/MIuXMIrX0Is3GP9xhUz5HIP5KjoyDmvWb/3nj8LuTyiLZB+t6iOSZFcUdGfUj6k1f4ceO8XAJvk4ydGrBsSEUA6hTCj9AKlXifgx0w5tI1CA+yo1ISpKiUkgAoMzlyLapMPZaXK80SJn+D5/SoAX9+1M06K5SIkAAAAASUVORK5CYII=","sizes":"(max-width: 2536px) 100vw, 2536px","src":"/static/210e325d1dc3956acbab7d9a3710606d/587a3/hashcode.png","srcSet":"/static/210e325d1dc3956acbab7d9a3710606d/3a443/hashcode.png 930w,\n/static/210e325d1dc3956acbab7d9a3710606d/4d929/hashcode.png 1860w,\n/static/210e325d1dc3956acbab7d9a3710606d/587a3/hashcode.png 2536w"}}},"author":[{"id":"2기_둔덩","bio":"우아한테크코스 2기 둔덩(홍준성)입니다 :)","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAcICQUG/8QAGQEAAgMBAAAAAAAAAAAAAAAABQYAAQME/9oADAMBAAIQAxAAAAGL74Z2zyLlqnjl4Z/XXORq7wJqn//EABwQAAMAAgMBAAAAAAAAAAAAAAQFBgIHAAEDFP/aAAgBAQABBQJNbVk+cBs2+RtGG4W+BjpozUBavZeNOjOisBStj0TNJemWrnJf9ZXfP//EACYRAAEDAwMCBwAAAAAAAAAAAAECAxEEEiEAEzEiUQUUFSMyQWH/2gAIAQMBAT8BaomqWgccZuUtzaDcFzYpw3fvK9wlZv6UmUD43dAuSryterIRVEHIISmDxxEY7Y14MB6XdAkLYAMZALmYP7999KqH1KJU+8olRklxZJyOSTr/xAAoEQACAQMCAgsAAAAAAAAAAAABAgMEESEAEgUTIjEyQUJRYWJxk7H/2gAIAQIBAT8BoVqhSo8KwxLJzESOZ5TaxAikG9OjjwDtLtJLXwaqdTZp6bcDY2fv+5fwfA1xZmEkABIBR72Jzg9fnpI4wqgIgFlwFHt9Nf/EACkQAAICAQMBBwUBAAAAAAAAAAIDAQQFERITAAYUISMkMlEVIiUxQrH/2gAIAQEABj8CqTTHNzLQ5bdaqi3Y0YsPKU5Kaz6bpIxKN8pIpbGosJJqYSK/bLC0n4q+iJx1qgDV23NgZmQZsUS1WNBmXVbC1mvWI1XJCPT4qYWmFKT9FNxjptNr+0XOBDYFBsKDnu5RvVGkFr7pxVWos6P1BN1iJHvNZvEo0+KZssm3G1lgPM3CJTECmdA65e09u3mc/Uy+Vx4JtX2StfCyu87zFJkOPyn8FmwcE186Qn1LNwtD8lPJMPjkxlOxAi4YYAKZZCShILkQWsZIVRHGRE0Wz12JzFJgd7xY1H14euHILnyhqsLcovepyo4zjUS2+IEJwJRkr9YMZjrUsslz4/F0kt3w3j5JcSmPYzQp+9rTmZ/evjHWrLDnn/TXtNrTn5IynWf8+I6//8QAGxABAAMBAAMAAAAAAAAAAAAAAQARITFBUWH/2gAIAQEAAT8hVZ1ILSWAMvfNIA+MMLZOKgLocIy/ZhmCPMNQnooyTyQaS5BppCl2cxaP7Cy4IjW5rtbf+sfXQYDiAq3BBv4AKRf3yeo+2FNCY35ADtH5Q4Bk/9oADAMBAAIAAwAAABDX8P8A/8QAGREBAQEBAQEAAAAAAAAAAAAAAREhADFB/9oACAEDAQE/ELMFb0n60sgEinA0dcJFQ4KPgZIYV5TMELNKFBggQQW8kwhcIVFWZr3/xAAaEQEBAAMBAQAAAAAAAAAAAAABEQAhMVGR/9oACAECAQE/EAwCDREwNpSEEyMoD0DAAlA0ByLlijADMxAEQAIAdlscIyCAwJoAA6/X3P/EABkQAQEBAQEBAAAAAAAAAAAAAAEAESEQUf/aAAgBAQABPxBIZQ6xJUgPeSItYR0HWypxY702ZvvoqAbuJhA9Ku7siwCMuYr5ZMuBnaisZigasreGlglssgGqDWkVKt4dXQfT2SexBkc1ddkNEl3PjiH/2Q==","sizes":"(max-width: 460px) 100vw, 460px","src":"/static/bf066f4bbef9e9297e8f2a6e551f4748/f86e8/dundung.jpg","srcSet":"/static/bf066f4bbef9e9297e8f2a6e551f4748/fd013/dundung.jpg 200w,\n/static/bf066f4bbef9e9297e8f2a6e551f4748/25252/dundung.jpg 400w,\n/static/bf066f4bbef9e9297e8f2a6e551f4748/f86e8/dundung.jpg 460w"}}]}}]},"fields":{"layout":"post","slug":"/post/2020-07-29-equals-and-hashCode/"}},"next":{"excerpt":"다이나믹 테스트(Dynamic Test)란? 다이나믹 테스트에 대해 알아보기 전에 상대되는 개념인 정적 테스트와 함께 개념을 비교해서 특징을 한번 살펴보자. JUnit…","timeToRead":4,"frontmatter":{"title":"다이나믹 테스트(Dynamic Test)란?","tags":["test","dynamic-test"],"date":"2020-07-31T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.7816091954022988,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABVUlEQVQoz61Sy1LCQBAMwSBBUBEUSIC8JA8gIQRBUlZRHvT/P6np3SSUUuKJQ9fOZnZ6eqaj1AwH14SijlxcE4pKVtVwrwSh8I9EbcTE0IYysApUsTjPY76tnUCFp0QJlYnG2EPbCfEUxBgsMpjJFnaWw9nkmKx2sNZ7jJM39IIEd3x3O53hxnRlrdJ2Q3SIe2+Orr/Ec7Ri0ZZF73BJYLN4mu4Q5gekhy+kn9+Y8N4PE4nubIGW7UMzy5EH8xRGvJEETranEhIwFoq87QfC/UHGw2VGghU6bKxbAVoOYQdoUp3GierVDocc6WW+prJUnibV9Rk/+jG6HKlHEoPjiSYWm4nGRlyM23EjNC0fjckr6pVCnV10O+QuIu7Cl6b8MqSEWHqDaoS6h9mSjRK5IkGql6TamLWVQ0oJEV90vnKfEPe66UEjUUHmSWMu/jb/3X9+P8cRccYeWVTO8E0AAAAASUVORK5CYII=","sizes":"(max-width: 2382px) 100vw, 2382px","src":"/static/a6d7fe9a5862c301df44348309c9508b/01904/dynamic.png","srcSet":"/static/a6d7fe9a5862c301df44348309c9508b/3a443/dynamic.png 930w,\n/static/a6d7fe9a5862c301df44348309c9508b/4d929/dynamic.png 1860w,\n/static/a6d7fe9a5862c301df44348309c9508b/01904/dynamic.png 2382w"}}},"author":[{"id":"2기_보스독","bio":"우아한테크코스 2기 보스독(최연석)입니다 :)","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAkDBwgK/8QAFwEAAwEAAAAAAAAAAAAAAAAABQYIB//aAAwDAQACEAMQAAABpLzZn4scBlcWtR1Fl1O0nq7PQuBmO//EABsQAAIDAQEBAAAAAAAAAAAAAAMEAgUGBwEA/9oACAEBAAEFAoqS+y+/R02miIkfHugWFIop2G3o7setZKLtYxwmUs/GE6MY0//EACoRAAEDAQYDCQAAAAAAAAAAAAIBAwQRAAUGEyEiBxIxIyQyM0FCUmJy/9oACAEDAQE/AcL8NpWIbvlyROKDjyJHuUZc9mIcuYLoi6IR3SGQra+QEkmUiHIqznIQPEzki3sz3x5NvLlydOXSmjVNLYf7PDt2ZezvyeDb0mNl6U9yqX6VV6rZ274CuuKsGGqq4VVWMz8k+lv/xAAmEQABAwQBAQkAAAAAAAAAAAABAgMRBAUSIQATBiIjMTJCYWLT/9oACAECAQE/Abr2oeo6qjQ2fBDilXEpbLhbp+kS2rISJziUJPUCSF44+rrrV3sWTO5LjEmY+88t+6Vud6c89+9zgudyGhcK0D4q3/05/8QAKBAAAgIBBAAGAQUAAAAAAAAAAQMCBBEABRIhBhMUIjFBIzJRYXGB/9oACAEBAAY/AgB99D/etbn4aVsu80J0l3H079+oxVbckbfZjUtshyXEJw6cDXj5jC9MuZ8uXs1gdD+tVru5potTZs+lT6ZToh7gtjZwW03WxjwWlszPjP4xxJIGr+7t23anbduNjgaSi2NmMZsnOM1znOUq8uER5yuHAnDCOsaU2O1rEWrgyPK37uLIiYzhBGcHvB+deE0pWuuph3SU114QRGUlLrhZIWB+mJlEftGUgMZ0ufXsk7Ax17Ynoj7B+D/GqgjuG649LVIBuZEQa6/ZH8fUI/ER9DX/xAAaEAEBAQEBAQEAAAAAAAAAAAABESEAQTGR/9oACAEBAAE/IWOJR5fQK+G6+F5XGAdb6NONffC8zyP3qZJ5kkCxHiShXu9l7T52XNYRZq6IDTAmUEMUj1ABWzWDejMDI0hq+V4AoNuCZ1gnlQnXMmuEr3//2gAMAwEAAgADAAAAEA8Hg//EABkRAQEBAQEBAAAAAAAAAAAAAAERIQBBUf/aAAgBAwEBPxBVbuMw+4FQnxmxbEsGNCPoCZmCYMIsDlRcFL5H/BdFewCjVUVW1XVde//EABwRAQEBAAMAAwAAAAAAAAAAAAERIQAxUUFhcf/aAAgBAgEBPxBVjCdNA30s5Jzj6z6LQquj20tdKFTb1f5MdtuAfgHXAAEwAgeAQdHXnP/EABkQAQEBAQEBAAAAAAAAAAAAAAERIQAxQf/aAAgBAQABPxBbtLMEkhEQJ9DnAxKR0PFQ3xB2ywHBorVOVbVdeCX7jn8BWJj4ufamaK7uobpYyMXxGwgNDKansx0uTGo5DsOQVPYJcNGbabEg5I9MI1EcVBqKv//Z","sizes":"(max-width: 460px) 100vw, 460px","src":"/static/87a3c66b92045802d34b84f5d45152f9/f86e8/bossdog.jpg","srcSet":"/static/87a3c66b92045802d34b84f5d45152f9/fd013/bossdog.jpg 200w,\n/static/87a3c66b92045802d34b84f5d45152f9/25252/bossdog.jpg 400w,\n/static/87a3c66b92045802d34b84f5d45152f9/f86e8/bossdog.jpg 460w"}}]}}]},"fields":{"layout":"post","slug":"/post/2020-07-31-dynamic-test/"}},"primaryTag":"spring"}},"staticQueryHashes":["2130001345","4041952199"]}