{"componentChunkName":"component---src-templates-post-tsx","path":"/post/2021-04-25-dto-layer-scope/","result":{"data":{"logo":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png","srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png 400w","sizes":"400px"},"sources":[{"srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/65935/tecoble.webp 400w","type":"image/webp","sizes":"400px"}]},"width":500,"height":110}}},"markdownRemark":{"html":"<h2>1. DTO란?</h2>\n<p>DTO(Data Transfer Object)란 계층간 데이터 교환을 위해 사용하는 객체(Java Beans)입니다. 간략하게 DTO의 구체적인 용례 및 필요성을 <strong>MVC 패턴</strong>을 통해 알아볼까요? 🚀</p>\n<h3>1.1. MVC 패턴</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1279px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b15b1fb9e36e97390e8148e1cd75774b/9e36b/2021-04-25-mvc-pattern.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACR0lEQVR42q1TS2wSURQdwBZoaqLQ2ODCDxvZ6IYYXTVxoYkaE12w1DSu3JC4dTU7VzUpqRqxJthGWqTSAM6HgYnADDMoIExhEBj8tHyKbdKkMdFY0/h8g1PUJmhoPcnJvPvNfffMQ5DeoYe8DDmk2Cpkh1ArXzPkOuQZxdbstuElSBHyxm4nbGN4+PCRwcF9I0bjwWMAADXyn7D/t4l7B5ykfS0yWRrF+eK9uUh6nOCLd8MZ6eaOGisNVdH8EpEoLgMsIX5jxAbgK6sL0L9XSVJ1krdzezObzSYrOTAxNW90Y6zZG2EPTQfiR6d91AGTyTRgtVr7eh2yH7Jb0R5IXcciX1YuwmtEMU4M0tl3ZKLUmh9zuS1y7KGHOE2lqzTGFfBAXCDCqWp4jkqekmP33Zg5Vqj7AzGB8sdyJCM243iyfB4JpaTrXKn11UenW0FGWOPKH+vjTs9JuWiWSJyjXlU+PyX5lRmcXcUShXVPOHlBjjmf4MfZ4nLDR6fWZnG2GRUWNyPZ6jUERVE1irp0cFe6D5B2u0O79bPKsRoA+tsTU8Yxp3MI5uihc0tVld3h0EJfP2QfQUha9Ffsn9B11PwTKkmS5KY68LdmKPrzBTyLZiyxfM0VYIQHcE+TjFh/9DhAn1AE0pC8cIvLv28wOWnpRaYc7PoMvQC0H3wo+easuLIB/LHsJuT3fPMLmHnOXlGU1bxe/OQSWxsA7g/AWF3xd4fN69XcmfQaQnzNwIs1g3yGe+oUuUOcBSp/lc69HcXiCyOy8wdlSjfwbzm72AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"MVC-Pattern\"\n        title=\"\"\n        src=\"/static/b15b1fb9e36e97390e8148e1cd75774b/9e36b/2021-04-25-mvc-pattern.png\"\n        srcset=\"/static/b15b1fb9e36e97390e8148e1cd75774b/0eb09/2021-04-25-mvc-pattern.png 500w,\n/static/b15b1fb9e36e97390e8148e1cd75774b/1263b/2021-04-25-mvc-pattern.png 1000w,\n/static/b15b1fb9e36e97390e8148e1cd75774b/9e36b/2021-04-25-mvc-pattern.png 1279w\"\n        sizes=\"(max-width: 1279px) 100vw, 1279px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>MVC 패턴은 어플리케이션을 개발할 때 그 구성 요소를 Model과 View 및 Controller 등 세 가지 역할로 구분하는 디자인 패턴입니다. 비즈니스 처리 로직(Model)과 UI 영역(View)은 서로의 존재를 인지하지 못하고, Controller가 중간에서 Model과 View의 연결을 담당합니다.</p>\n<p>Controller는 View로부터 들어온 사용자 요청을 해석하여 Model을 업데이트하거나 Model로부터 데이터를 받아 View로 전달하는 작업 등을 수행합니다. MVC 패턴의 장점은 Model과 View를 분리함으로써 서로의 의존성을 낮추고 독립적인 개발을 가능하게 합니다.</p>\n<p>Controller는 View와 도메인 Model의 데이터를 주고 받을 때 별도의 <strong>DTO</strong> 를 주로 사용합니다. 도메인 객체를 View에 직접 전달할 수 있지만, 민감한 도메인 비즈니스 기능이 노출될 수 있으며 Model과 View 사이에 의존성이 생기기 때문입니다. 물론 소규모 프로젝트는 <a href=\"http://guntherpopp.blogspot.com/2010/09/to-dto-or-not-to-dto.html\">DTO 사용이 불필요한 경우</a>도 있습니다.</p>\n<h3>1.2. 용례</h3>\n<blockquote>\n<p>User.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> email<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> password<span class=\"token punctuation\">;</span> <span class=\"token comment\">//외부에 노출되서는 안 될 정보</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DetailInformation</span> detailInformation<span class=\"token punctuation\">;</span> <span class=\"token comment\">//외부에 노출되서는 안 될 정보</span>\n\n    <span class=\"token comment\">//비즈니스 로직, getter, setter 등 생략</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>UserController.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@GetMapping</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">showArticle</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span> <span class=\"token keyword\">long</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이처럼 Controller가 클라이언트의 요청에 대한 응답으로 도메인 Model인 User를 넘겨주면 어떤 문제점이 있을까요?</p>\n<ul>\n<li>도메인 Model의 모든 속성이 외부에 노출됩니다.\n<ul>\n<li>UI 화면마다 사용하는 Model의 정보는 상이하지만, Model 객체는 UI에서 사용하지 않을 불필요한 데이터까지 보유하고 있습니다.</li>\n<li>비즈니스 로직 등 User의 민감한 정보가 외부에 노출되는 보안 문제와도 직결됩니다.</li>\n</ul>\n</li>\n<li>UI 계층에서 Model의 메서드를 호출하거나 상태를 변경시킬 위험이 존재합니다.</li>\n<li>Model과 View가 강하게 결합되어, View의 요구사항 변화가 Model에 영향을 끼치기 쉽습니다.\n<ul>\n<li>또한 User Entity의 속성이 변경되면, View가 전달받을 JSON 및 프론트엔드 Js 코드에도 변경을 유발하기 때문에 상호간 강하게 결합됩니다.</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>UserDto.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserDto</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> email<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//생성자 생략</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">UserDto</span> <span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserDto</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">getEmail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>UserController.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@GetMapping</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UserDto</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">showArticle</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span> <span class=\"token keyword\">long</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserDto</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>반면 DTO를 사용하면 앞서 언급된 문제들을 쉽게 해결할 수 있습니다. 도메인 Model을 캡슐화하고, UI 화면에서 사용하는 데이터만 선택적으로 보낼 수 있습니다.</p>\n<p>정리해보자면 DTO는 클라이언트 요청에 포함된 데이터를 담아 서버 측에 전달하고, 서버 측의 응답 데이터를 담아 클라이언트에 전달하는 계층간 전달자 역할을 합니다.</p>\n<br>\n<h2>2. DTO를 어디까지 사용하지?</h2>\n<p>Spring Framework로 웹 어플리케이션을 제작하는 도중, DTO의 사용 범위에 대해 의문이 생겼습니다.</p>\n<ul>\n<li>Model 계층과 View 계층 사이에서의 DTO 사용은 알겠는데… 😔</li>\n<li>Layered Architecture 상의 계층들에서는 DTO를 어떻게 사용해야 하지? 😳</li>\n</ul>\n<h3>2.1. Layered Architecture</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 860px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/17acbb24a694b3d465881dd4d708247a/3e3fe/2021-04-25-layered-architecture.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.19999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADIElEQVR42l1TS08TURTu33OjC18Lo4lhh1E3btSNrjQxRFRMEbESXwQEjAYVENTyKmIsltYKlE5nmJl22nnPMO3M9PF57lQxOsnJuffMvd/5zvnOjTmOA8/zIrNp3W43yVrokOeqNibX9zCzWYZT99FshWh32ggDD37DA/t834dumHAcF5ZtI9ZoNPDnMywLpuejYtXh+QG2Kg6GPvMYX5fgBa3oTFZ0MPm1jJxoRHt2vyKWUJMFaDUFMZtQ94ldh7L/FKrofZJBz+MMvpUM1Ow6eRXfeRVpXqckPvpnizjUn0ZikY8ARdXFxGoRk2s85jMiYhaxclw3KrmmGchLFrGwoO83UCdWVcuDqLng1f0IILEk4shABk9W9mjXxhfOpP0mDg9kcell4d+SxaqOh8k9DCVFyGYDr9IK7i0I2BDsgzOqG2BTcihRPdrnJBcnHmTJcrg6RYCmacK2Hey7NoRKDc9WeDxd5qGYLj7nFYwsFZERNBIpRBgGJFhI/fQRNIMuoOzieDyLo/EcrkzuImYYBhioQ72Uqypef5PwkkQYWRIwuiZiekPCBCk9sigQewHDSR5354p4uyFHgGnBwamHWZxNEOAUAaqqClGSYOga9hQNt2c53HzL4dZ7Dn0zHPrnmN/FnQ/k35doXcKNaQ5jlIz1cJ16yAB7HjOGhb8MLbIqibK0VcPHfBWfyJa3FKR2qkjmy0gVFCR/duPzOQXpktYdI+rnQcmMoUsK10kYn0wzLKwXdazuakiRrRR0AtKQpCRszeJruzqWd7SDOWSAJ0mUk5EoBCjLMsrlMnS1hpKs4P4Cj75ZHrfneCqTp77xNNwc4h+7sX6K3XzHYfwLK7kVlXxiMItjgzlcZoC6rv8nikyHJYylREzQpamvIkZTQuRZ3xjQKP1bpPK7Y+PgzKMcTj/6gWuvCTAMQwRBiFYzhEnDnCA148Ry8BMf+WF6esPJEu2FiOUD8ndJqJlMpfv0whY9VXp+NrXM9RFjwU6nO7R2vYnrb4q48GIb58l6n23j0vgONbsQxc4938bFURbfwvNUd2zafy7//n4BL1bWszHirhcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Layered-Architecture\"\n        title=\"\"\n        src=\"/static/17acbb24a694b3d465881dd4d708247a/3e3fe/2021-04-25-layered-architecture.png\"\n        srcset=\"/static/17acbb24a694b3d465881dd4d708247a/0eb09/2021-04-25-layered-architecture.png 500w,\n/static/17acbb24a694b3d465881dd4d708247a/3e3fe/2021-04-25-layered-architecture.png 860w\"\n        sizes=\"(max-width: 860px) 100vw, 860px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>MVC 패턴에서 Controller가 도메인 Model 객체들의 조합을 통해 프로그램의 작동 순서나 방식을 제어하는데, 어플리케이션의 규모가 커진다면 Controller는 중복되는 코드가 많아지고 비대해질 것입니다.</p>\n<p>Layered Architecture는 유사한 관심사들을 레이어로 나눠서 추상화하여 수직적으로 배열하는 아키텍처입니다. 하나의 레이어는 자신에게 주어진 고유한 역할을 수행하고, 인접한 다른 레이어와 상호작용합니다. 이렇게 시스템을 레이어로 나누면 시스템 전체를 수정하지 않고도 특정 레이어를 수정 및 개선할 수 있어 재사용성과 유지보수에 유리합니다.</p>\n<p>이 글을 읽는 분들은 아마 Controller - Service - Repository 계층에 익숙하실겁니다. 😁</p>\n<h3>2.2. 의문점</h3>\n<blockquote>\n<p>ArticleController.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@PostMapping</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ArticleResponseDto</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">createArticle</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">ArticleRequestDto</span> articleRequestDto<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//로직 생략</span>\n    <span class=\"token class-name\">Article</span> article <span class=\"token operator\">=</span> articleRequestDto<span class=\"token punctuation\">.</span><span class=\"token function\">toEntity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Article</span> savedArticle <span class=\"token operator\">=</span> articleService<span class=\"token punctuation\">.</span><span class=\"token function\">createArticle</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">ArticleResponseDto</span> articleResponseDto <span class=\"token operator\">=</span> <span class=\"token class-name\">ArticleResponseDto</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>savedArticle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span>articleResponseDto<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>ArticleService.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Article</span> <span class=\"token function\">createArticle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Article</span> article<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//로직 생략</span>\n    <span class=\"token keyword\">return</span> articleRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 코드는 다음과 같은 로직을 가지고 있습니다.</p>\n<ul>\n<li>View로부터 받아온 DTO를 Controller에서 Domain(Entity)으로 변환하고 Service 레이어에게 이를 전달하여 작업을 수행합니다.</li>\n<li>Service 레이어는 Controller에게 Domain으 반환하고, Controller는 Domain을 DTO로 변환해 View에게 응답을 보냅니다.</li>\n</ul>\n<p>그런데 DTO를 학습하면서, <strong>“꼭 DTO와 Domain간의 변환 위치가 Controller(표현 계층)여야 하는가?”</strong> 라는 궁금증이 들었습니다.</p>\n<blockquote>\n<p>ArticleService.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">ArticleDto</span> <span class=\"token function\">createArticle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ArticleDto</span> articleRequestDto<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Article</span> article <span class=\"token operator\">=</span> articleRequestDto<span class=\"token punctuation\">.</span><span class=\"token function\">toEntity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//로직 생략</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ArticleDto</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>articleRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이처럼 Service 레이어가 요청으로 DTO를 받고 응답으로 DTO를 보내줘도 동작에 문제가 없기 때문입니다. 또한 DTO가 일반적으로 계층간 데이터 전달을 위해 사용되기 때문에, 표현 계층과 응용 계층 사이에서 Entity가 아닌 DTO를 사용하는 것이 더 자연스럽지 않을까 하는 생각이 들었습니다.</p>\n<p>DTO를 어느 레이어까지 전달해서 사용해야 하며, DTO와 Domain(Entity) 간의 변환 작업은 어디에서 수행되어야 할까요? 즉, Domain을 어느 계층까지 노출해도 될까요?</p>\n<br>\n<h2>3. Repository</h2>\n<blockquote>\n<p>”…a cohesive set of responsibilities for providing access to the roots of AGGREGATES from early life cycle through the end” - <a href=\"https://www.oreilly.com/library/view/domain-driven-design-tackling/0321125215/ch06.html\">Evans</a></p>\n</blockquote>\n<p>Repository 레이어는 Entity의 영속성을 관장하는 역할이라고 명시되어 있습니다. 이로 인해, 표현 계층에서 사용할 도메인 계층의 Aggregates를 DTO로 변환하는 작업을 Repository 단에서 책임지게 하는 것을 지양하자는 의견이 다수 존재했습니다.</p>\n<p>실제로 이 글을 작성하면서 DTO와 Entity간의 변환과 관련된 여러 문서들을 참조했는데, 모두가 변환 로직을 Controller 혹은 Service 레이어에 위치시켰습니다. 그렇다면 DTO의 사용 범위 및 Entity간의 변환 위치는 Controller와 Service 중 어느 곳이 적합할까요? 🧐</p>\n<br>\n<h2>4. Service</h2>\n<blockquote>\n<p>A Service Layer defines an application’s boundary [Cockburn PloP] and its set of available operations from the perspective of interfacing client layers. It encapsulates the application’s business logic, controlling transactions and coor-dinating responses in the implementation of its operations.</p>\n</blockquote>\n<p>마틴 파울러는 Service 레이어란 어플리케이션의 경계를 정의하고 비즈니스 로직 등 도메인을 캡슐화하는 역할이라고 정의합니다. 즉, 도메인을 보호합니다. 도메인 Model을 표현 계층에서 사용하는 경우 결합도가 증가하여, 도메인의 변경이 Controller의 변경을 촉발하는 유지보수의 문제로 이어질 수 있습니다.</p>\n<p>이러한 관점에서 바라볼 때, 레이어간 데이터 전달 목적으로 DTO를 엄격하게 고수한다면 변환 로직이 Service 레이어에서 정의되어야 한다는 의견이 존재했습니다. 요청에 대한 응답 역시 Service 레이어의 일부분이기 때문입니다.</p>\n<h3>4.1. Service가 DTO를 반환하는 경우</h3>\n<blockquote>\n<p>ArticleController.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Article</span> savedArticle <span class=\"token operator\">=</span> articleService<span class=\"token punctuation\">.</span><span class=\"token function\">createArticle</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">ArticleResponseDto</span> articleResponseDto <span class=\"token operator\">=</span> <span class=\"token class-name\">ArticleResponseDto</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>savedArticle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Service 레이어가 도메인 Model을 Controller로 반환하고, Controller가 Entity를 DTO로 변환하는 경우를 생각해봅시다. 이 때 예상되는 문제점은 무엇이 있을까요?</p>\n<ul>\n<li>View에 반환할 필요가 없는 데이터까지 Domain 객체에 포함되어 Controller(표현 계층)까지 넘어옵니다.</li>\n<li>Controller가 여러 Domain 객체들의 정보를 조합해서 DTO를 생성해야 하는 경우, 결국 Service(응용 계층) 로직이 Controller에 포함되게 됩니다.</li>\n<li>여러 Domain 객체들을 조회해야 하기 때문에 하나의 Controller가 의존하는 Service의 개수가 비대해집니다.</li>\n</ul>\n<p>하지만 Service 레이어가 DTO를 반환한다면 이러한 단점을 쉽게 상쇄할 수 있습니다.</p>\n<h3>4.2. Service가 DTO를 사용하는 경우</h3>\n<blockquote>\n<p>ArticleController.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Article</span> article <span class=\"token operator\">=</span> articleRequestDto<span class=\"token punctuation\">.</span><span class=\"token function\">toEntity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\narticleService<span class=\"token punctuation\">.</span><span class=\"token function\">deleteArticle</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Controller가 View로부터 받은 DTO를 Entity로 변환한 뒤, Service 레이어가 Entity를 전달받아 일련의 비즈니스 로직을 수행한다고 가정해봅시다.</p>\n<p>위 예제는 Controller에서 DTO를 Entity로 간단하게 변환했지만, 복잡한 어플리케이션의 경우 Controller가 View에서 전달받은 DTO만으로 Entity를 구성하기란 어렵습니다. Repository를 통해 여러 부수적인 정보들을 조회하여 Domain 객체를 구성할 수 있는 경우도 존재하기 때문입니다.</p>\n<blockquote>\n<p>ArticleService.java</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Article</span> <span class=\"token function\">createArticle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LoginUser</span> loginUser<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ArticleDto</span> articleDto<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//복잡한 로직이 존재한다고 가정...</span>\n    <span class=\"token class-name\">Tags</span> tags <span class=\"token operator\">=</span> tagService<span class=\"token punctuation\">.</span><span class=\"token function\">findTagsByTagColor</span><span class=\"token punctuation\">(</span>articleDto<span class=\"token punctuation\">.</span><span class=\"token function\">getTagColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">History</span><span class=\"token punctuation\">></span></span> history <span class=\"token operator\">=</span> loginUser<span class=\"token punctuation\">.</span><span class=\"token function\">findFormerHistories</span><span class=\"token punctuation\">(</span>tags<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Article</span> article <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Article</span><span class=\"token punctuation\">(</span>articleDto<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> articleDto<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> articleDto<span class=\"token punctuation\">.</span><span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> tags<span class=\"token punctuation\">,</span> history<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> articleRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Controller에서 DTO를 완벽하게 Domain 객체로 구성한 뒤 Service에 넘겨주려면, 복잡한 경우 Controller가 여러 Service(혹은 Repository)에 의존하게 됩니다. 이러한 경우 DTO를 Service에게 넘겨주어 Service가 Entity로 변환시키도록 하는 것이 더 나은 방안이라 사료됩니다.</p>\n<br>\n<h2>5. 마치며</h2>\n<p>관련 자료들을 찾아볼수록 DTO-Entity 간의 변환 위치는 Service 레이어가 타당해보이는데요. 이러한 궁금증에 대해 리뷰어님께서 짧은 피드백을 남겨주셨습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1876px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5aa84ed71d9fd2f612400e99ffac29e8/bd320/2021-04-25-dto-reviewer-feedback.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCklEQVR42m2QjW6DMAyE+/6vt3YjQFtg7cp/QhJogMDNsaZOmhbpk8+2crZ86PMjtGxR1h3kYKC0Qa807OTgtx3z6v/FLcS8vlDaYqH6Yd9WrCsVBo1eSnS9REtINbAep4k+zHBu/okOT8J7h23fX3jvsVM8gF5IjLHo2UhByoDkXGvadrTct3ZkjDHYFoW/72UYpsZxiiRNcbleWafnC+vHo0TbdWjbDlVd41GWqOuGYoWqqplQa5rm1zBMFSJhwzghs/SMSMQQcULErCMRcY+HUf/0/sF5JATejifW4XRsOE1PXLMcRfGJ2/2OLC9wyTJkVMtJh97XLeVTKLqt4xt6ZiGTQDALG34DfRXHXduyOc4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"reviewer-feedback\"\n        title=\"\"\n        src=\"/static/5aa84ed71d9fd2f612400e99ffac29e8/bd320/2021-04-25-dto-reviewer-feedback.png\"\n        srcset=\"/static/5aa84ed71d9fd2f612400e99ffac29e8/0eb09/2021-04-25-dto-reviewer-feedback.png 500w,\n/static/5aa84ed71d9fd2f612400e99ffac29e8/1263b/2021-04-25-dto-reviewer-feedback.png 1000w,\n/static/5aa84ed71d9fd2f612400e99ffac29e8/bd320/2021-04-25-dto-reviewer-feedback.png 1876w\"\n        sizes=\"(max-width: 1876px) 100vw, 1876px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Entity를 어느 계층까지 노출해야 하는가는 프로젝트의 규모와 아키텍쳐의 방향 등을 종합적으로 고려해서 고민할 문제라고 생각합니다. 여러분들의 생각은 어떠신가요? Javable 독자분들의 의견을 남겨주세요!</p>\n<br>\n<hr>\n<h2>Reference</h2>\n<ul>\n<li><a href=\"https://buildplease.com/pages/repositories-dto/\">A Better Way to Project Domain Entities into DTOs</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34084203/spring-entities-should-convert-to-dto-in-service\">Spring Entities should convert to Dto in service?</a></li>\n<li><a href=\"https://github.com/HomoEfficio/dev-tips/blob/master/DTO-DomainObject-Converter.md\">DTO, Domain Object, Converter</a></li>\n<li><a href=\"https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application\">Entity To DTO Conversion for a Spring REST API</a></li>\n<li><a href=\"https://www.slipp.net/questions/93\">DTO는 어느 레이어까지 사용하는 것이 맞을까?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21554977/should-services-always-return-dtos-or-can-they-also-return-domain-models\">Should services always return DTOs, or can they also return domain models?</a></li>\n<li><a href=\"https://martinfowler.com/eaaCatalog/serviceLayer.html\">Service Layer</a></li>\n<li><a href=\"https://techdora.com/3-layer-architecture-every-developer-must-know/\">Popular 3 Layer Architecture every developer must know</a></li>\n<li><a href=\"https://ko.wikipedia.org/wiki/%EB%AA%A8%EB%8D%B8-%EB%B7%B0-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\">모델-뷰-컨트롤러</a></li>\n<li><a href=\"https://yoonho-devlog.tistory.com/25\">Spring Layered Architecture</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"1. DTO란?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DTO(Data Transfer Object)란 계층간 데이터 교환을 위해 사용하는 객체(Java Beans)입니다. 간략하게 DTO의 구체적인 용례 및 필요성을 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"MVC 패턴"}]},{"type":"text","value":"을 통해 알아볼까요? 🚀"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1.1. MVC 패턴"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1279px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/b15b1fb9e36e97390e8148e1cd75774b/9e36b/2021-04-25-mvc-pattern.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 80%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACR0lEQVR42q1TS2wSURQdwBZoaqLQ2ODCDxvZ6IYYXTVxoYkaE12w1DSu3JC4dTU7VzUpqRqxJthGWqTSAM6HgYnADDMoIExhEBj8tHyKbdKkMdFY0/h8g1PUJmhoPcnJvPvNfffMQ5DeoYe8DDmk2Cpkh1ArXzPkOuQZxdbstuElSBHyxm4nbGN4+PCRwcF9I0bjwWMAADXyn7D/t4l7B5ykfS0yWRrF+eK9uUh6nOCLd8MZ6eaOGisNVdH8EpEoLgMsIX5jxAbgK6sL0L9XSVJ1krdzezObzSYrOTAxNW90Y6zZG2EPTQfiR6d91AGTyTRgtVr7eh2yH7Jb0R5IXcciX1YuwmtEMU4M0tl3ZKLUmh9zuS1y7KGHOE2lqzTGFfBAXCDCqWp4jkqekmP33Zg5Vqj7AzGB8sdyJCM243iyfB4JpaTrXKn11UenW0FGWOPKH+vjTs9JuWiWSJyjXlU+PyX5lRmcXcUShXVPOHlBjjmf4MfZ4nLDR6fWZnG2GRUWNyPZ6jUERVE1irp0cFe6D5B2u0O79bPKsRoA+tsTU8Yxp3MI5uihc0tVld3h0EJfP2QfQUha9Ffsn9B11PwTKkmS5KY68LdmKPrzBTyLZiyxfM0VYIQHcE+TjFh/9DhAn1AE0pC8cIvLv28wOWnpRaYc7PoMvQC0H3wo+easuLIB/LHsJuT3fPMLmHnOXlGU1bxe/OQSWxsA7g/AWF3xd4fN69XcmfQaQnzNwIs1g3yGe+oUuUOcBSp/lc69HcXiCyOy8wdlSjfwbzm72AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"MVC-Pattern","title":"","src":"/static/b15b1fb9e36e97390e8148e1cd75774b/9e36b/2021-04-25-mvc-pattern.png","srcSet":["/static/b15b1fb9e36e97390e8148e1cd75774b/0eb09/2021-04-25-mvc-pattern.png 500w","/static/b15b1fb9e36e97390e8148e1cd75774b/1263b/2021-04-25-mvc-pattern.png 1000w","/static/b15b1fb9e36e97390e8148e1cd75774b/9e36b/2021-04-25-mvc-pattern.png 1279w"],"sizes":"(max-width: 1279px) 100vw, 1279px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"MVC 패턴은 어플리케이션을 개발할 때 그 구성 요소를 Model과 View 및 Controller 등 세 가지 역할로 구분하는 디자인 패턴입니다. 비즈니스 처리 로직(Model)과 UI 영역(View)은 서로의 존재를 인지하지 못하고, Controller가 중간에서 Model과 View의 연결을 담당합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Controller는 View로부터 들어온 사용자 요청을 해석하여 Model을 업데이트하거나 Model로부터 데이터를 받아 View로 전달하는 작업 등을 수행합니다. MVC 패턴의 장점은 Model과 View를 분리함으로써 서로의 의존성을 낮추고 독립적인 개발을 가능하게 합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Controller는 View와 도메인 Model의 데이터를 주고 받을 때 별도의 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"DTO"}]},{"type":"text","value":" 를 주로 사용합니다. 도메인 객체를 View에 직접 전달할 수 있지만, 민감한 도메인 비즈니스 기능이 노출될 수 있으며 Model과 View 사이에 의존성이 생기기 때문입니다. 물론 소규모 프로젝트는 "},{"type":"element","tagName":"a","properties":{"href":"http://guntherpopp.blogspot.com/2010/09/to-dto-or-not-to-dto.html"},"children":[{"type":"text","value":"DTO 사용이 불필요한 경우"}]},{"type":"text","value":"도 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1.2. 용례"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"User.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Long"}]},{"type":"text","value":" id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" email"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" password"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//외부에 노출되서는 안 될 정보"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"DetailInformation"}]},{"type":"text","value":" detailInformation"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//외부에 노출되서는 안 될 정보"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//비즈니스 로직, getter, setter 등 생략"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"UserController.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@GetMapping"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ResponseEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"showArticle"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@PathVariable"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"long"}]},{"type":"text","value":" id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"text","value":" user "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" userService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"findById"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ResponseEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ok"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"body"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"user"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이처럼 Controller가 클라이언트의 요청에 대한 응답으로 도메인 Model인 User를 넘겨주면 어떤 문제점이 있을까요?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"도메인 Model의 모든 속성이 외부에 노출됩니다.\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"UI 화면마다 사용하는 Model의 정보는 상이하지만, Model 객체는 UI에서 사용하지 않을 불필요한 데이터까지 보유하고 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"비즈니스 로직 등 User의 민감한 정보가 외부에 노출되는 보안 문제와도 직결됩니다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"UI 계층에서 Model의 메서드를 호출하거나 상태를 변경시킬 위험이 존재합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Model과 View가 강하게 결합되어, View의 요구사항 변화가 Model에 영향을 끼치기 쉽습니다.\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"또한 User Entity의 속성이 변경되면, View가 전달받을 JSON 및 프론트엔드 Js 코드에도 변경을 유발하기 때문에 상호간 강하게 결합됩니다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"UserDto.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserDto"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"long"}]},{"type":"text","value":" id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"final"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" email"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//생성자 생략"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"static"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserDto"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"text","value":" user"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserDto"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"user"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" user"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" user"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getEmail"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"UserController.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@GetMapping"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ResponseEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserDto"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"showArticle"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@PathVariable"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"long"}]},{"type":"text","value":" id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"User"}]},{"type":"text","value":" user "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" userService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"findById"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ResponseEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ok"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"body"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"UserDto"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"user"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"반면 DTO를 사용하면 앞서 언급된 문제들을 쉽게 해결할 수 있습니다. 도메인 Model을 캡슐화하고, UI 화면에서 사용하는 데이터만 선택적으로 보낼 수 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"정리해보자면 DTO는 클라이언트 요청에 포함된 데이터를 담아 서버 측에 전달하고, 서버 측의 응답 데이터를 담아 클라이언트에 전달하는 계층간 전달자 역할을 합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"2. DTO를 어디까지 사용하지?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Spring Framework로 웹 어플리케이션을 제작하는 도중, DTO의 사용 범위에 대해 의문이 생겼습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Model 계층과 View 계층 사이에서의 DTO 사용은 알겠는데… 😔"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Layered Architecture 상의 계층들에서는 DTO를 어떻게 사용해야 하지? 😳"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"2.1. Layered Architecture"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 860px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/17acbb24a694b3d465881dd4d708247a/3e3fe/2021-04-25-layered-architecture.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 69.19999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADIElEQVR42l1TS08TURTu33OjC18Lo4lhh1E3btSNrjQxRFRMEbESXwQEjAYVENTyKmIsltYKlE5nmJl22nnPMO3M9PF57lQxOsnJuffMvd/5zvnOjTmOA8/zIrNp3W43yVrokOeqNibX9zCzWYZT99FshWh32ggDD37DA/t834dumHAcF5ZtI9ZoNPDnMywLpuejYtXh+QG2Kg6GPvMYX5fgBa3oTFZ0MPm1jJxoRHt2vyKWUJMFaDUFMZtQ94ldh7L/FKrofZJBz+MMvpUM1Ow6eRXfeRVpXqckPvpnizjUn0ZikY8ARdXFxGoRk2s85jMiYhaxclw3KrmmGchLFrGwoO83UCdWVcuDqLng1f0IILEk4shABk9W9mjXxhfOpP0mDg9kcell4d+SxaqOh8k9DCVFyGYDr9IK7i0I2BDsgzOqG2BTcihRPdrnJBcnHmTJcrg6RYCmacK2Hey7NoRKDc9WeDxd5qGYLj7nFYwsFZERNBIpRBgGJFhI/fQRNIMuoOzieDyLo/EcrkzuImYYBhioQ72Uqypef5PwkkQYWRIwuiZiekPCBCk9sigQewHDSR5354p4uyFHgGnBwamHWZxNEOAUAaqqClGSYOga9hQNt2c53HzL4dZ7Dn0zHPrnmN/FnQ/k35doXcKNaQ5jlIz1cJ16yAB7HjOGhb8MLbIqibK0VcPHfBWfyJa3FKR2qkjmy0gVFCR/duPzOQXpktYdI+rnQcmMoUsK10kYn0wzLKwXdazuakiRrRR0AtKQpCRszeJruzqWd7SDOWSAJ0mUk5EoBCjLMsrlMnS1hpKs4P4Cj75ZHrfneCqTp77xNNwc4h+7sX6K3XzHYfwLK7kVlXxiMItjgzlcZoC6rv8nikyHJYylREzQpamvIkZTQuRZ3xjQKP1bpPK7Y+PgzKMcTj/6gWuvCTAMQwRBiFYzhEnDnCA148Ry8BMf+WF6esPJEu2FiOUD8ndJqJlMpfv0whY9VXp+NrXM9RFjwU6nO7R2vYnrb4q48GIb58l6n23j0vgONbsQxc4938bFURbfwvNUd2zafy7//n4BL1bWszHirhcAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"Layered-Architecture","title":"","src":"/static/17acbb24a694b3d465881dd4d708247a/3e3fe/2021-04-25-layered-architecture.png","srcSet":["/static/17acbb24a694b3d465881dd4d708247a/0eb09/2021-04-25-layered-architecture.png 500w","/static/17acbb24a694b3d465881dd4d708247a/3e3fe/2021-04-25-layered-architecture.png 860w"],"sizes":"(max-width: 860px) 100vw, 860px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"MVC 패턴에서 Controller가 도메인 Model 객체들의 조합을 통해 프로그램의 작동 순서나 방식을 제어하는데, 어플리케이션의 규모가 커진다면 Controller는 중복되는 코드가 많아지고 비대해질 것입니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Layered Architecture는 유사한 관심사들을 레이어로 나눠서 추상화하여 수직적으로 배열하는 아키텍처입니다. 하나의 레이어는 자신에게 주어진 고유한 역할을 수행하고, 인접한 다른 레이어와 상호작용합니다. 이렇게 시스템을 레이어로 나누면 시스템 전체를 수정하지 않고도 특정 레이어를 수정 및 개선할 수 있어 재사용성과 유지보수에 유리합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이 글을 읽는 분들은 아마 Controller - Service - Repository 계층에 익숙하실겁니다. 😁"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"2.2. 의문점"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ArticleController.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@PostMapping"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ResponseEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ArticleResponseDto"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"createArticle"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@RequestBody"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ArticleRequestDto"}]},{"type":"text","value":" articleRequestDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//로직 생략"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Article"}]},{"type":"text","value":" article "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" articleRequestDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"toEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Article"}]},{"type":"text","value":" savedArticle "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" articleService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"createArticle"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"article"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ArticleResponseDto"}]},{"type":"text","value":" articleResponseDto "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ArticleResponseDto"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"savedArticle"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ResponseEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ok"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"body"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"articleResponseDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ArticleService.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Article"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"createArticle"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Article"}]},{"type":"text","value":" article"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//로직 생략"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" articleRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"article"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 코드는 다음과 같은 로직을 가지고 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"View로부터 받아온 DTO를 Controller에서 Domain(Entity)으로 변환하고 Service 레이어에게 이를 전달하여 작업을 수행합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Service 레이어는 Controller에게 Domain으 반환하고, Controller는 Domain을 DTO로 변환해 View에게 응답을 보냅니다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그런데 DTO를 학습하면서, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"“꼭 DTO와 Domain간의 변환 위치가 Controller(표현 계층)여야 하는가?”"}]},{"type":"text","value":" 라는 궁금증이 들었습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ArticleService.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ArticleDto"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"createArticle"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ArticleDto"}]},{"type":"text","value":" articleRequestDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Article"}]},{"type":"text","value":" article "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" articleRequestDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"toEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//로직 생략"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ArticleDto"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"articleRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"article"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이처럼 Service 레이어가 요청으로 DTO를 받고 응답으로 DTO를 보내줘도 동작에 문제가 없기 때문입니다. 또한 DTO가 일반적으로 계층간 데이터 전달을 위해 사용되기 때문에, 표현 계층과 응용 계층 사이에서 Entity가 아닌 DTO를 사용하는 것이 더 자연스럽지 않을까 하는 생각이 들었습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DTO를 어느 레이어까지 전달해서 사용해야 하며, DTO와 Domain(Entity) 간의 변환 작업은 어디에서 수행되어야 할까요? 즉, Domain을 어느 계층까지 노출해도 될까요?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"3. Repository"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"”…a cohesive set of responsibilities for providing access to the roots of AGGREGATES from early life cycle through the end” - "},{"type":"element","tagName":"a","properties":{"href":"https://www.oreilly.com/library/view/domain-driven-design-tackling/0321125215/ch06.html"},"children":[{"type":"text","value":"Evans"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Repository 레이어는 Entity의 영속성을 관장하는 역할이라고 명시되어 있습니다. 이로 인해, 표현 계층에서 사용할 도메인 계층의 Aggregates를 DTO로 변환하는 작업을 Repository 단에서 책임지게 하는 것을 지양하자는 의견이 다수 존재했습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"실제로 이 글을 작성하면서 DTO와 Entity간의 변환과 관련된 여러 문서들을 참조했는데, 모두가 변환 로직을 Controller 혹은 Service 레이어에 위치시켰습니다. 그렇다면 DTO의 사용 범위 및 Entity간의 변환 위치는 Controller와 Service 중 어느 곳이 적합할까요? 🧐"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"4. Service"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A Service Layer defines an application’s boundary [Cockburn PloP] and its set of available operations from the perspective of interfacing client layers. It encapsulates the application’s business logic, controlling transactions and coor-dinating responses in the implementation of its operations."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"마틴 파울러는 Service 레이어란 어플리케이션의 경계를 정의하고 비즈니스 로직 등 도메인을 캡슐화하는 역할이라고 정의합니다. 즉, 도메인을 보호합니다. 도메인 Model을 표현 계층에서 사용하는 경우 결합도가 증가하여, 도메인의 변경이 Controller의 변경을 촉발하는 유지보수의 문제로 이어질 수 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이러한 관점에서 바라볼 때, 레이어간 데이터 전달 목적으로 DTO를 엄격하게 고수한다면 변환 로직이 Service 레이어에서 정의되어야 한다는 의견이 존재했습니다. 요청에 대한 응답 역시 Service 레이어의 일부분이기 때문입니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"4.1. Service가 DTO를 반환하는 경우"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ArticleController.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Article"}]},{"type":"text","value":" savedArticle "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" articleService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"createArticle"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"article"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ArticleResponseDto"}]},{"type":"text","value":" articleResponseDto "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ArticleResponseDto"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"savedArticle"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Service 레이어가 도메인 Model을 Controller로 반환하고, Controller가 Entity를 DTO로 변환하는 경우를 생각해봅시다. 이 때 예상되는 문제점은 무엇이 있을까요?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"View에 반환할 필요가 없는 데이터까지 Domain 객체에 포함되어 Controller(표현 계층)까지 넘어옵니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Controller가 여러 Domain 객체들의 정보를 조합해서 DTO를 생성해야 하는 경우, 결국 Service(응용 계층) 로직이 Controller에 포함되게 됩니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"여러 Domain 객체들을 조회해야 하기 때문에 하나의 Controller가 의존하는 Service의 개수가 비대해집니다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"하지만 Service 레이어가 DTO를 반환한다면 이러한 단점을 쉽게 상쇄할 수 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"4.2. Service가 DTO를 사용하는 경우"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ArticleController.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Article"}]},{"type":"text","value":" article "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" articleRequestDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"toEntity"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\narticleService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"deleteArticle"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"article"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Controller가 View로부터 받은 DTO를 Entity로 변환한 뒤, Service 레이어가 Entity를 전달받아 일련의 비즈니스 로직을 수행한다고 가정해봅시다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 예제는 Controller에서 DTO를 Entity로 간단하게 변환했지만, 복잡한 어플리케이션의 경우 Controller가 View에서 전달받은 DTO만으로 Entity를 구성하기란 어렵습니다. Repository를 통해 여러 부수적인 정보들을 조회하여 Domain 객체를 구성할 수 있는 경우도 존재하기 때문입니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ArticleService.java"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Article"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"createArticle"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"LoginUser"}]},{"type":"text","value":" loginUser"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ArticleDto"}]},{"type":"text","value":" articleDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//복잡한 로직이 존재한다고 가정..."}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Tags"}]},{"type":"text","value":" tags "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" tagService"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"findTagsByTagColor"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"articleDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getTagColor"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"List"}]},{"type":"element","tagName":"span","properties":{"className":["token","generics"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"History"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" history "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" loginUser"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"findFormerHistories"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"tags"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Article"}]},{"type":"text","value":" article "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Article"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"articleDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getId"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" articleDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" articleDto"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getContent"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" tags"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" history"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" articleRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"article"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Controller에서 DTO를 완벽하게 Domain 객체로 구성한 뒤 Service에 넘겨주려면, 복잡한 경우 Controller가 여러 Service(혹은 Repository)에 의존하게 됩니다. 이러한 경우 DTO를 Service에게 넘겨주어 Service가 Entity로 변환시키도록 하는 것이 더 나은 방안이라 사료됩니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"5. 마치며"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"관련 자료들을 찾아볼수록 DTO-Entity 간의 변환 위치는 Service 레이어가 타당해보이는데요. 이러한 궁금증에 대해 리뷰어님께서 짧은 피드백을 남겨주셨습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1876px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/5aa84ed71d9fd2f612400e99ffac29e8/bd320/2021-04-25-dto-reviewer-feedback.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 31.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCklEQVR42m2QjW6DMAyE+/6vt3YjQFtg7cp/QhJogMDNsaZOmhbpk8+2crZ86PMjtGxR1h3kYKC0Qa807OTgtx3z6v/FLcS8vlDaYqH6Yd9WrCsVBo1eSnS9REtINbAep4k+zHBu/okOT8J7h23fX3jvsVM8gF5IjLHo2UhByoDkXGvadrTct3ZkjDHYFoW/72UYpsZxiiRNcbleWafnC+vHo0TbdWjbDlVd41GWqOuGYoWqqplQa5rm1zBMFSJhwzghs/SMSMQQcULErCMRcY+HUf/0/sF5JATejifW4XRsOE1PXLMcRfGJ2/2OLC9wyTJkVMtJh97XLeVTKLqt4xt6ZiGTQDALG34DfRXHXduyOc4AAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"reviewer-feedback","title":"","src":"/static/5aa84ed71d9fd2f612400e99ffac29e8/bd320/2021-04-25-dto-reviewer-feedback.png","srcSet":["/static/5aa84ed71d9fd2f612400e99ffac29e8/0eb09/2021-04-25-dto-reviewer-feedback.png 500w","/static/5aa84ed71d9fd2f612400e99ffac29e8/1263b/2021-04-25-dto-reviewer-feedback.png 1000w","/static/5aa84ed71d9fd2f612400e99ffac29e8/bd320/2021-04-25-dto-reviewer-feedback.png 1876w"],"sizes":"(max-width: 1876px) 100vw, 1876px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Entity를 어느 계층까지 노출해야 하는가는 프로젝트의 규모와 아키텍쳐의 방향 등을 종합적으로 고려해서 고민할 문제라고 생각합니다. 여러분들의 생각은 어떠신가요? Javable 독자분들의 의견을 남겨주세요!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Reference"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://buildplease.com/pages/repositories-dto/"},"children":[{"type":"text","value":"A Better Way to Project Domain Entities into DTOs"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://stackoverflow.com/questions/34084203/spring-entities-should-convert-to-dto-in-service"},"children":[{"type":"text","value":"Spring Entities should convert to Dto in service?"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/HomoEfficio/dev-tips/blob/master/DTO-DomainObject-Converter.md"},"children":[{"type":"text","value":"DTO, Domain Object, Converter"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application"},"children":[{"type":"text","value":"Entity To DTO Conversion for a Spring REST API"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.slipp.net/questions/93"},"children":[{"type":"text","value":"DTO는 어느 레이어까지 사용하는 것이 맞을까?"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://stackoverflow.com/questions/21554977/should-services-always-return-dtos-or-can-they-also-return-domain-models"},"children":[{"type":"text","value":"Should services always return DTOs, or can they also return domain models?"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://martinfowler.com/eaaCatalog/serviceLayer.html"},"children":[{"type":"text","value":"Service Layer"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://techdora.com/3-layer-architecture-every-developer-must-know/"},"children":[{"type":"text","value":"Popular 3 Layer Architecture every developer must know"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://ko.wikipedia.org/wiki/%EB%AA%A8%EB%8D%B8-%EB%B7%B0-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC"},"children":[{"type":"text","value":"모델-뷰-컨트롤러"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://yoonho-devlog.tistory.com/25"},"children":[{"type":"text","value":"Spring Layered Architecture"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"1. DTO란? DTO(Data Transfer Object)란 계층간 데이터 교환을 위해 사용하는 객체(Java Beans)입니다. 간략하게 DTO의 구체적인 용례 및 필요성을 MVC 패턴을 통해 알아볼까요? 🚀 1.1. MVC 패턴  MVC…","timeToRead":5,"frontmatter":{"title":"DTO의 사용 범위에 대하여","userDate":"25 April 2021","date":"2021-04-25T12:00:00.000Z","tags":["java","dto","spring","mvc","layered-architecture"],"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC30lEQVR42kWSfUzMcRzH7x8b/9hszTws5aFSSVglVolYT4jEZhbGaPjLdJHHYmb8UcyYh3kIbSy6q7ufu6PIQ6SHu3R6ToXr0pzTPXQcdS/fhP5477vvvttrr8/3/ZEVXjtAgP8kFszzZX6oD3OCphEaMovoqDCiYiKIiY0cSXS4ePMlKHAmwcH+BATMJCJiLk2113H2qfn6ScE3kxKZ+v4ZViYls37tGlJTUkjfuJLdO1LI3LOOzG0JIolkbU9ALu4Z21eTsWUJu7ZGsjN9IXszYuk0FuDoVWH9B3yiK2f1hlbWpzcTv6YNqfQVUMGv+jw4FQxnI+D0HDzVuTBUDR/ToNkLWr3xtM7C9uEqVpM0CnxYoiV8STVRK6oIXVxDwXkJR4sWq+oYQ/unMnjYj6Fsb+xF+/hsqMBVtZShlzIGK8fx67UXto9X6O+VGPhcRH+PAplWrSMx9S1pm+qJW9VA4WUtrk4tNk0O5ATiyYuF3CAGFPuwNJXjNiRD3RSR6Xj0M7A1nKNbr+WBphtTh1YYlupIWPuWzTuNxMTXU3j7Me6fEvYXJ+DobLggAMcCcZVnYXVU4DYmQq03GELwGHxwVJ7inUZCnv+d9sYyZBoBXLSsjqVJNcyPruPOVR3fu9QjhtnT8AhLDvkwoJZjaS7DXRMHVWNExot/nYi96xK97aU0GpSYO4pHgIuX1xGXXEN4rJ47FzW4Op5ik4ThQQEU43LYl4FiOV+Mr3FXL4c3AvhmGDhJlHIFq1mi33T/TzEySakjLFovSqklJNLArRtiZKca+7PjIJ+M56gfiHJcj+R8tTzhZ4MwfCUThmMFcAK27stYeyTR8N+W379TMQzVqnSoFDqa9SrsfSr6WwpwPs/FWXlSnMexNV37Y2J/n4+z7SDO9iMiOXz7dE+ASkaBdrOCH5bROHqVIztlVtHXpcRkvIu5pQiT4TY9+ptYukoEWCesxGr1aP7ClP/zG9rog4vxviVHAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/69c46deb555a8735e5489289914bd80f/9ae6a/dto-layered.png","srcSet":"/static/69c46deb555a8735e5489289914bd80f/9ae6a/dto-layered.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/69c46deb555a8735e5489289914bd80f/b2515/dto-layered.avif 750w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/69c46deb555a8735e5489289914bd80f/8d8ff/dto-layered.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5599999999999999}}},"author":[{"name":"3기_케빈","bio":"우아한테크코스 3기 케빈(박진홍)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#c8c8c8","images":{"fallback":{"src":"/static/ca96a9821f9436be6d625379dfb61c32/73bb6/kevin.jpg","srcSet":"/static/ca96a9821f9436be6d625379dfb61c32/2f28c/kevin.jpg 40w,\n/static/ca96a9821f9436be6d625379dfb61c32/499f6/kevin.jpg 80w,\n/static/ca96a9821f9436be6d625379dfb61c32/73bb6/kevin.jpg 120w","sizes":"100vw"},"sources":[{"srcSet":"/static/ca96a9821f9436be6d625379dfb61c32/e73fe/kevin.webp 40w,\n/static/ca96a9821f9436be6d625379dfb61c32/61ca6/kevin.webp 80w,\n/static/ca96a9821f9436be6d625379dfb61c32/507b0/kevin.webp 120w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}],"source":null}},"relatedPosts":{"totalCount":18,"edges":[{"node":{"id":"86f4fd49-1704-5142-b0fd-71e15d85e906","timeToRead":8,"excerpt":"…","frontmatter":{"title":"🔒 Java 로 동기화를 해보자!","date":"2021-10-23T12:00:00.000Z"},"fields":{"slug":"/post/2021-10-23-java-synchronize/"}}},{"node":{"id":"48ff17ea-5d69-5400-80ae-09ad5950994b","timeToRead":3,"excerpt":"우선 당신에게 질문을 던져본다. 객체지향 프로그래밍과 함수형 프로그래밍은 상호 배제 관계에 있다고 생각하는가? 객체지향과 함수형 프로그래밍 Java…","frontmatter":{"title":"Java 8 에서 왜 함수형 프로그래밍이 도입되었을까?","date":"2021-09-30T12:00:00.000Z"},"fields":{"slug":"/post/2021-09-30-java8-functional-programming/"}}},{"node":{"id":"69ba625b-1182-581e-9165-f0f538687b48","timeToRead":4,"excerpt":"프로세스 내에서 스레드의 생성 및 수거가 빈번하게 발생한다면 메모리 할당에 소모되는 비용이 많이 들지 않을까? 이에 대한 해답으로 스레드 풀에 대해 알아보고 Java 에서 어떻게 사용하면 되는지 알아보자. 스레드 풀(Thread Pool…","frontmatter":{"title":"🧶 Java 에서 스레드 풀(Thread Pool) 을 사용해 보자","date":"2021-09-17T12:00:00.000Z"},"fields":{"slug":"/post/2021-09-18-java-thread-pool/"}}},{"node":{"id":"a2f91f62-ffca-5a3a-a7c4-184002a6de72","timeToRead":3,"excerpt":"이 글은 java 초심자들에게 추천합니다. 우리가 사용하는 java…","frontmatter":{"title":"java에서 객체를 생성하는 다양한 방법","date":"2021-05-17T12:00:00.000Z"},"fields":{"slug":"/post/2021-05-17-constructor/"}}},{"node":{"id":"7d38323c-1845-57dd-8ea8-f6614e07668f","timeToRead":2,"excerpt":"@ExceptionHandler @ExceptionHandler 는 @Controller , @RestController 가 적용된 Bean 에서 발생하는 예외를 잡아서 하나의 메서드에서 처리해주는 기능이다. @ExceptionHandler…","frontmatter":{"title":"ExceptionHandler 와 ControllerAdvice","date":"2021-05-10T12:00:00.000Z"},"fields":{"slug":"/post/2021-05-10-controller_advice_exception_handler/"}}}]}},"pageContext":{"slug":"/post/2021-04-25-dto-layer-scope/","prev":{"excerpt":"…","timeToRead":3,"frontmatter":{"title":"자바 제네릭(Generics) 기초","tags":["java","generics"],"date":"2020-11-09T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAALABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUCBAYJ/8QAFwEAAwEAAAAAAAAAAAAAAAAAAwUGCP/aAAwDAQACEAMQAAAB6Os6rjJshnSIvF//xAAbEAACAgMBAAAAAAAAAAAAAAACAwABBBIyEf/aAAgBAQABBQJbtLa89epj3CK/D6//xAAfEQABAwMFAAAAAAAAAAAAAAABITFRAAISAxEjQWH/2gAIAQMBAT8Bz004gwXK9T2X2WKLx5Ff/8QAHBEBAQADAQEBAQAAAAAAAAAAAgEDERIEACEV/9oACAECAQE/AT6/CTjn8rC0QC2vV7N5MhJ7yUnMcc7Ut4h5MXP7rr52VKk8GpUiWqA27hlW1YZ+bVtut27+/8QAIxAAAQIFAwUAAAAAAAAAAAAAARESAAIhIjETMnEDBFFhof/aAAgBAQAGPwIiXpajWqhK3eQJTRLlrbxAb25G0umeiHcg06zBKAtyD6KmVuaHkj7mBGYMf//EABsQAQEAAwADAAAAAAAAAAAAAAERACExQVFh/9oACAEBAAE/IW4YBMVNjDDFbIKjIy8N1Bk6oCb+XJeon2khGw0AGjSYho55tiemf//aAAwDAQACAAMAAAAQ+B//xAAZEQEBAAMBAAAAAAAAAAAAAAABEQAhMUH/2gAIAQMBAT8QABdAVcAoBFCwQGHLiFIQqgVAuitWGqtfc//EABYRAQEBAAAAAAAAAAAAAAAAAAERMf/aAAgBAgEBPxBayefBErvH1hB/aVgLSQEiCkr/AP/EAB0QAQEAAgIDAQAAAAAAAAAAAAERACFBsTFRYXH/2gAIAQEAAT8QpQEhlQq1mEZ63MxaPSOzQgpNw3jXpINwFXay6FwJILKml2dVnq6xq/PzwjrGMrjn5e8//9k="},"images":{"fallback":{"src":"/static/6314bdf62893ab3be8f5499dda9e0a95/6f491/generic.jpg","srcSet":"/static/6314bdf62893ab3be8f5499dda9e0a95/1dda7/generic.jpg 750w,\n/static/6314bdf62893ab3be8f5499dda9e0a95/c120d/generic.jpg 1080w,\n/static/6314bdf62893ab3be8f5499dda9e0a95/6f491/generic.jpg 1178w","sizes":"100vw"},"sources":[{"srcSet":"/static/6314bdf62893ab3be8f5499dda9e0a95/d8ba7/generic.webp 750w,\n/static/6314bdf62893ab3be8f5499dda9e0a95/64cec/generic.webp 1080w,\n/static/6314bdf62893ab3be8f5499dda9e0a95/51642/generic.webp 1178w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5398981324278438}}},"author":[{"name":"2기_둔덩","bio":"우아한테크코스 2기 둔덩(홍준성)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAgHAQn/xAAYAQADAQEAAAAAAAAAAAAAAAAEBQYAAv/aAAwDAQACEAMQAAAByu8fPPcVerlnDoaFbvArDgZSP//EABoQAQACAwEAAAAAAAAAAAAAAAUEBgIDBwH/2gAIAQEAAQUCHvlmrkw/ql6HSS7CpjMWYQHP5ir5axkaTp1SulPIE3mwWWWbhihP2Y//xAAnEQACAQIEBAcAAAAAAAAAAAABAgMEEQASE1EhIjEyBQYjJEFDcv/aAAgBAwEBPwGGiipKCSSIszyaaxBWk0IMmfVf1buc3Kp5B23sgLBtCuPELUEHiCFFiDbpa3DbHl9Ebw0llViCgBZQTYyG/Xf53xLWVmrJ7qp7j98u/wCsf//EACcRAAICAQIDCQEAAAAAAAAAAAECAxEEABITI1EFITEyQ2FxcqGx/9oACAECAQE/AcAZQxkeFYkSTeiRzSSkCiBFKA0Y2fUXuUAkm+45GSCQ02KGBo80D84i/wAB6jXbDsskG1mW0e6JF/NeOooYeHHyovIvpr0Htr//xAAnEAACAgEDAwQCAwAAAAAAAAACAwEEBRITIhEUIQAGMUEjJDIzUf/aAAgBAQAGPwKmVecvG6O5crIVYbMEkeC7FdVa1SYRGsokyDVuxwMkytpVE+8MFSZiMjXEsfcpQ1Nx7ZCDFZjoIFWJ69GVbKUmv5/HHy6MdgETQ6/qtum3ubC48S41JeEV9TIOBQcboiMEc8o9YxNITpxkAvElonbWe0nbkpS223ueJPX+QdK44rSXHpDne7Mhey+Zo5vI49FZuQkFS0YqWe+Ma+3zWlprtW3bnzrEZtMDUes8gW9psLicRNsFqdGtakNYJFFcBmNoJMyEf7TJ0sn17ByVYlG/HtrNSuyoX1j7jLgl63IPixTVDCyGenjyMiYgQ5u5jqGCo2w7l/dVcJjlWDaMeGNfCN1p+f5sMin7mfPoTfdtWGkIETXPYRlMjE/UwMR/giIjH1Hr/8QAGhABAQEBAAMAAAAAAAAAAAAAAREhADFBUf/aAAgBAQABPyFC7Rj65F30fNBIYyZgz5RErE5LllwFtqxdQJFxdiYFOrSuUTsnHkREwmm0Hr+HgBZcYATz2MfbE0SjMzUJ7BCEUlNsq9X6DqRLs5n1GlYRwe//2gAMAwEAAgADAAAAEIAXfv/EABsRAQEAAwADAAAAAAAAAAAAAAERACFBMVFh/9oACAEDAQE/ELimIO23kaRdZ4kpsyCsIaDRdA0FrVBmABLkQoIEDEFuesRnAEB8gAHAmf/EABoRAQEBAAMBAAAAAAAAAAAAAAERIQBBUTH/2gAIAQIBAT8QiXzCEC+V2FlbwuSAghEEEwawSEAfpQJLNhyEEVlsrz1Ur2qyvtdXt3n/xAAXEAEBAQEAAAAAAAAAAAAAAAABABEh/9oACAEBAAE/EG8lQadNQkGXVok/qibwBMyqMfkVELeTUeVarTwcBygopgCmlII4/wB2uLURNVpH94bpOMS7jIZIVVfNEOZM3YvObAWV6FrcST9JgshRd3//2Q=="},"images":{"fallback":{"src":"/static/bf066f4bbef9e9297e8f2a6e551f4748/37851/dundung.jpg","srcSet":"/static/bf066f4bbef9e9297e8f2a6e551f4748/37851/dundung.jpg 460w","sizes":"100vw"},"sources":[{"srcSet":"/static/bf066f4bbef9e9297e8f2a6e551f4748/b5c5b/dundung.webp 460w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}]},"fields":{"layout":"post","slug":"/post/2020-11-09-generics-basic/"}},"next":{"excerpt":"…","timeToRead":3,"frontmatter":{"title":"호이스팅에 대한 오해와 진실","tags":["hoisting"],"date":"2021-04-25T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAUIB//EABUBAQEAAAAAAAAAAAAAAAAAAAME/9oADAMBAAIQAxAAAAG265T75HWkHwof/8QAHBAAAQQDAQAAAAAAAAAAAAAABAMFBgcCEBIW/9oACAEBAAEFAqqGsMOUehX5b1syRYeEGK96/8QAHhEAAgICAgMAAAAAAAAAAAAAAQIDERIhBGEAIkH/2gAIAQMBAT8B4/JSBSrceOW2yt0hYjQBFyQyGtaF4g367Nu+bs2KrkSQoVAAPgpVVddKB15//8QAIREAAgICAgEFAAAAAAAAAAAAAQMCBAUSESETABQiI2L/2gAIAQIBAT8BsY+pbn5LByGwgFj2mXyNBeoMj2qm9Syz5n7THfgRBJEIALrqTCK1l+kOo+a1YsN4563c5k2sl+5yMj6//8QAJhAAAgICAQIFBQAAAAAAAAAAAgMBBAUREgYiAAcTFCMQITFhZf/aAAgBAQAGPwLzbt9T55GVxNPNlUw6anr3pSxUzfMcZVLiNOsrG2adBuOQbInLJtQRe6TZZYIoRmdR/Bbzjc6j4/U5H+J3ERuP1x8LsETvl7oh9b2zQ12yJpnuCeQlOi++pjx1+dWpWrHY6mWywaEKST2Hi6bzNxLEZaZPsWHER7mWvcyZ5sOZ+n//xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAxIVHw/9oACAEBAAE/IfND3+RkIo2WJRBjZ0QF1BblETzOcsplL4AKe4uf7ZMyopVvgyxb++uOb//aAAwDAQACAAMAAAAQxA//xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAh/9oACAEDAQE/EHJcRARNO7AoVOUzEoangOiDaags3//EABgRAQEAAwAAAAAAAAAAAAAAAAERACEx/9oACAECAQE/EBgZIGs1aRUPDWXCyV6SB5EGOVdAf//EABsQAQACAgMAAAAAAAAAAAAAAAEAESExUYGx/9oACAEBAAE/EBFfwKU0ZmHZ9DlGcZWGA01jU03buuQuvEwIUsv2j+u/KJ7xqMl3yw0d+s//2Q=="},"images":{"fallback":{"src":"/static/75493740c32771fe03b68df3fa42da92/83603/hoisting.jpg","srcSet":"/static/75493740c32771fe03b68df3fa42da92/59b12/hoisting.jpg 750w,\n/static/75493740c32771fe03b68df3fa42da92/b22b8/hoisting.jpg 1080w,\n/static/75493740c32771fe03b68df3fa42da92/83603/hoisting.jpg 1128w","sizes":"100vw"},"sources":[{"srcSet":"/static/75493740c32771fe03b68df3fa42da92/c8a45/hoisting.webp 750w,\n/static/75493740c32771fe03b68df3fa42da92/0779e/hoisting.webp 1080w,\n/static/75493740c32771fe03b68df3fa42da92/1b66b/hoisting.webp 1128w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.49645390070921985}}},"author":[{"name":"3기_카일","bio":"우아한테크코스 3기 카일(임광열)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAbABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAgFBgkK/8QAFwEAAwEAAAAAAAAAAAAAAAAAAwQGBf/aAAwDAQACEAMQAAAB2CyO1JWpPVbopwVDnjmJ1gjTDtFZA1H/xAAcEAACAgMBAQAAAAAAAAAAAAAFBgMEAQIHEgD/2gAIAQEAAQUCK3cDh8T51mmQzZ0+Yj4QBUi1osLNNJr7aWQ05nh6O3RyIJQodWud58t5wndrFeVzSZCf/8QAIxEAAgICAQMFAQAAAAAAAAAAAQIEEQMSIQAFEwYUJDFB8P/aAAgBAwEBPwHtSQcyzvdPTR4/kAFErsGo0LYMxoJYCk8Wb6CrQ+/6uuyeno0+C8yTnk35ziZceSmYnnytkcOz5HykFi3AAJrISAIjfGwhtmKroWY2zaHTZjxbHWyaFnmh+f/EACERAAEDAwUBAQAAAAAAAAAAAAECAxEEEiEABSIxQSNS/9oACAECAQE/Aa5x5tVMGQPq5bmcxbIHWP0ZkdiM6vWPRrc9zepapFO021ybCwpYJA5RbCSm1IR1HZxxAypJUbhACoXA8uAVA7iJxk+Z1//EACgQAAICAQMDAwQDAAAAAAAAAAECAwQRBRITACEiBhQxMlFhgRVBcf/aAAgBAQAGPwK7fZGlWjSt3DEn1yCrXknMa9j5Px7R2OM5weo/Ud6ZWq2tSoM/o4CtJAmk6hAbQhjJT3ENyGriRAtg2d4zOjZ4h8/kZ+x79Gzrup0tNrESeVuYI0y4AdYIRmeww3AFII3YZGR1Qs6fqUEmlti7GkUkTwXHgijCCoVfMsvDGHIALRpyM48Oj36msXTYtWp+XhgRWk2CNdypWijXwWOLx2xrjYm45wzdZrV3rWayxXuNdQirWaosc3DPt519vO3A3wyzAPGHwX29VJ9VLfy9KW1pWqlwA7XdPneB3kC+PI8YieXb2MjMf760+QfXFofqKZD9pBRnTd37HxOMNlfx0eGVV91Voc5MFeQuOUtjMkTFQGkdlCkBWYlcHrWCXOT6q1pj/rmu7H9uzH99f//EABwQAQADAQEBAQEAAAAAAAAAAAEAESExYUFRkf/aAAgBAQABPyH4TR8clQbQy4FIpYQWA1RQzNKV/MIUC+C/ad9uFZWA4TgpkrR2cWkKfG7Bu9jMF7/qwc8hK4XTWg2LgqZZVWIgRKpswxoYnLuAty/QajYWgY1ui2tWofrZnZGrM2TdNnJcTQQGt5u619VZP//aAAwDAQACAAMAAAAQCze8/8QAHREBAQACAQUAAAAAAAAAAAAAAREAIVExQWGRwf/aAAgBAwEBPxBfiCAAGlDbuJAD07o9PlnPvzugUP1BuEhVTwiFAeERqE5UwdgMf//EABsRAQEBAQADAQAAAAAAAAAAAAERIQAxcZHh/9oACAECAQE/EF504NKyABCuIGAfKEBjgeDT8++oowuxAMopAKoFc9YsaQICUWFAYAKl7//EABkQAQEBAQEBAAAAAAAAAAAAAAERADEhcf/aAAgBAQABPxB38Jo6igIJerZZ/cXpZgLcCwIvD4EYlCEAgARDmqVZ1DqBcWhIV3E7RZlI+uKiLxBq+rfvq68vUKKZ156E8yoH+GI4OHMGUuSDb2i5BOIAZYRxIHIJbMiuMNnKJSM8l6g3DnLRancxGQJhAf/Z"},"images":{"fallback":{"src":"/static/360bed096e3511555856e1aec316ffb5/c1100/kyle_2.jpg","srcSet":"/static/360bed096e3511555856e1aec316ffb5/b0c6e/kyle_2.jpg 750w,\n/static/360bed096e3511555856e1aec316ffb5/c1100/kyle_2.jpg 960w","sizes":"100vw"},"sources":[{"srcSet":"/static/360bed096e3511555856e1aec316ffb5/4c1cf/kyle_2.webp 750w,\n/static/360bed096e3511555856e1aec316ffb5/ff0ed/kyle_2.webp 960w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.3333333333333333}}}}]},"fields":{"layout":"post","slug":"/post/2021-04-25-hoisting/"}},"primaryTag":"java"}},"staticQueryHashes":["2337738035"],"slicesMap":{}}