{"componentChunkName":"component---src-templates-post-tsx","path":"/post/2022-09-20-docker-basic/","result":{"data":{"logo":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png","srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png 400w","sizes":"400px"},"sources":[{"srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/65935/tecoble.webp 400w","type":"image/webp","sizes":"400px"}]},"width":500,"height":110}}},"markdownRemark":{"html":"<blockquote>\n<p>본 포스팅은 도커에 대한 <strong>자세한 개념</strong>, 도커 <strong>기본 명령어</strong>, <strong>컨테이너 실행</strong> 실습, <strong>도커 컴포즈</strong>, 도커 <strong>이미지 빌드</strong>, <strong>도커 허브</strong>에 이미지 배포 등 전반적인 도커 기초에 대한 내용을 다룬다.</p>\n</blockquote>\n<h2>도커 (Docker)</h2>\n<p>도커는 <strong>컨테이너 기반</strong>의 오픈소스 가상화 플랫폼이다. 솔로몬 하익스가 개발했으며, 2013년에 처음 발표되었다. <strong>고 (Go) 언어</strong>로 개발되고 있다.</p>\n<h3>해상 운송업의 컨테이너</h3>\n<p><img src=\"/680704b080f71ae75cb91c1ec2f91f9a/docker-basic-real-container.webp\" alt=\"\">\n선박을 이용하여 수출입하는 해상 운송업의 모습을 상상해보자. 모든 선적물은 거대한 상자모양의 <strong>컨테이너를 통해 패키징</strong> 된 후 화물선에 선적된다. 컨테이너는 <strong>국제적으로 표준화, 규격화</strong>된 크기를 갖고있다. 컨테이너와 관련된 보관, 운송과 관련한 장비, 제도, 프로세스 등은 모두 국제 표준에 맞게 설계된다.</p>\n<p>이런 표준화의 특징으로 인해 <strong>해상 운송업자는 컨테이너 안에 어떤 물건이 담겨져 있는지 전혀 알 필요가 없다.</strong> 그저 컨테이너 단위로 선적하여 운송하고 하역하고 보관하면 그만이다. 따라서 한국에서 수출한 물건을 저 멀리 미국에서도 <strong>‘장소에 구애 받지 않고’</strong> 손쉽게 하역하고, 운송할 수 있는 것 이다.</p>\n<p>만약 해상 운송업에서 컨테이너를 사용하지 않는다면 어떻게 될까? 제각기 다른 물건의 크기, 모양, 심지어 액체/고체 여부에 대응하기 위해 서로 다른 운송 장비, 보관 방법, 프로세스가 필요할 것이다.</p>\n<h3>도커의 컨테이너</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c3c94f0a97998f5c18c6237f1c88006e/fe486/docker-basic-docker-logo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.8%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0klEQVR42n2RS2uTQRhG50tArYqLSigYQRDTlSBuxLUb/4O/oOAPEFy5kmJTYi4SvNRo0i60Nr1F04tpKG0qaaBQ6UKCGIqtBK222Cbm+h2fry1uRAcO78wwc+aZGWNSDcy4SNYxL8TgL0ysinlUwURVIzWO+TdxBXYw96uH7P0bM9vCTDUxb8SkxGPilcQvW7hjO3h757h4J87R/s+cDJU5EviqjZX/COfbmKx4K/GMSDvyFq7kHueCGS73xrnSl8AXyOB7kMPTv6LUukVw9y+ZtS98Z2NyYkFSRz4naaaNe/Qbl0Iprj+Z5kJ4mu6+JKfDy1jPf2Ke1TCPdfWoBOEKVvBQ5neEy+ASVl7SJbFoYznybIOz6TLXUkU6H+bpSHxSeq0dV7qRGpbe2xpUjWkcreCKVOiO65Az78HkJZTUkTvVWmrT9TRHV2iK4wMFPNF5PJEsXv9rTiWKErcOPnKkgTVc5/xEnRsLDYY+ar5Uh3tluPoBvI68oBQFJU1t4BorcWJCqHYMF3El1nCn9XazbXyLLXrW2gRLNutV9lv+u/Y17YPBqiYHtuD2Joxuw131e76Ae1WHrECn6s0NuLVuM7llM7Ntk5LgR5M/bbcJvwGhkbuN9WydPQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker basic docker logo\"\n        title=\"\"\n        src=\"/static/c3c94f0a97998f5c18c6237f1c88006e/fe486/docker-basic-docker-logo.png\"\n        srcset=\"/static/c3c94f0a97998f5c18c6237f1c88006e/0eb09/docker-basic-docker-logo.png 500w,\n/static/c3c94f0a97998f5c18c6237f1c88006e/fe486/docker-basic-docker-logo.png 768w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>도커의 컨테이너도 마찬가지이다. 도커는 서비스를 운용하는데 필요한 실행환경, 라이브러리, 소프트웨어, 시스템 도구, 코드 등을 <strong>컨테이너라는 표준화된 단위로 추상화</strong>한다. 이렇게 만들어진 컨테이너는 컴퓨팅 환경에 구애받지 않고 서비스가 실행될 수 있도록 한다.</p>\n<p>실제 컨테이너의 특성처럼, 서비스 관리자는 <strong>도커라이징(Dockerizing)</strong> 된 컨테이너가 어떤 런타임을 필요로 하는지, 어떤 라이브러리와 코드를 필요로 하는지 전혀 알 필요가 없다. 그저 컨테이너를 어딘가에서 가져와서 서비스를 운영할 컴퓨팅 환경에서 실행하기만 하면 된다. 실행된 서비스는 컴퓨팅 환경과 <strong>독립된 가상의 환경</strong>에서 실행되며, <strong>일관된 결과</strong>를 보장한다.</p>\n<h3>전통적인 서버관리</h3>\n<p>우리가 새로운 서비스를 개발하고 있는 개발자라고 생각해보자. 우리가 런칭하려는 서비스는 규모가 상당하여, 시스템 환경 설정부터, 방화벽, 네트워크 등의 <strong>많은 설정</strong>이 필요하다. 또한 Java, Python, Node.js 등 <strong>많은 프로그래밍 언어</strong>를 사용하고, 각각의 언어는 또 <strong>많은 라이브러리 의존성</strong>을 갖는다. 여기서 끝이 아니다. PostgreSQL, MariaDB, Redis 등 <strong>여러개의 DBMS</strong> 도 사용한다. 하지만, 우리는 유능한 개발자다. 이 많은 것들을 우리의 로컬 개발환경에 완벽하게 셋업했다.</p>\n<p>우리는 서비스를 완성했고, 이제 서비스를 배포해야할 상황이 찾아왔다. 어라, 급하게 개발하다보니 개발서버 환경을 어떻게 설정했는지, 어떤 언어와 라이브러리를 설치했는지, DBMS 는 무엇을 사용하는지, 각각의 버전은 무엇인지 전혀 기록해두지 않았다. 하지만, 우리는 불굴의 개발자이다. 서버의 모든 환경설정과 Git 로그를 뒤져내어 서버를 세팅하는 매뉴얼을 작성하는데 성공했다.</p>\n<p>자, 이제 <strong>토씨하나 틀리지 않고 메뉴얼대로</strong> 프로덕션 서버에도 개발환경과 동일한 환경을 구축하면 된다. 결국 서버를 모두 세팅하였고, 서비스를 실행해보았다. 어라, 오류가 발생한다. 수 시간의 삽질 끝에 오류의 원인을 알아내었다. 어떤 <strong>라이브러리의 버전이 개발환경과 달라 발생한 오류</strong>였다. 아까 서버를 세팅할 때 실수를 한 모양이다. 어찌됐든 성공적으로 서비스를 배포하는데 성공하였다.</p>\n<p>서비스는 성공적이었고, DAU는 치솟았다. 슬슬 서버를 확장해야할 것 같다. 경제적 이유로 확장의 형태는 수평 확장으로 결정되었다. <strong>또 다른 서버에 이전과 똑같은 프로세스대로 환경을 셋업해야한다.</strong> 정신이 아득해진다.</p>\n<p>위와 같이 컨테이너를 사용하지 않은 전통적인 서버 관리방식에서는 밑 바닥부터 <strong>수작업으로 모든것을 세팅</strong>해야한다. 이런 환경에서 만약 개발언어를 Python 에서 Go 로 교체하는 등 <strong>서버 환경과 개발 환경이 바뀐다면?</strong> 운용중인 모든 서버에도 변경 사항을 적용해야한다. 생각만해도 끔찍하다.</p>\n<h3>도커를 사용한 서버관리</h3>\n<p>도커를 사용하면, 위와 같이 귀찮고 고통스러운 작업을 반복할 필요 없다. 도커를 사용하면 OS 환경설정, 언어, 라이브러리, 시스템 도구 등이 설치된 환경을 그대로 <strong>이미지</strong>로 빌드할 수 있다. 이미지는 후술할 Dockerfile 이란 것을 이용하여 만들 수 있다. 개발 환경에서 만들어진 이미지를 그대로 프로덕션 서버에 전달하고, 이미지를 기반으로 컨테이너를 생성하고 실행하면 끝이다.</p>\n<p>이런 컨테이너의 특징은 곧, 도커의 중요한 특징인 <strong>표준성</strong>과 상통한다. Java, node.js, Python 등 다양한 언어와 프레임워크를 사용한 서비스들은 제각기 다른 배포 방법을 가지고 있다. 하지만 이를 도커를 통해 패키징하여 컨테이너를 만든다면, 어떤 언어, 프레임워크, 런타임을 사용하던 관계없이 모두 동일한 배포 프로세스를 갖게 된다.</p>\n<p>이런 표준성 덕분에 도커는 높은 <strong>확장성</strong>과 <strong>이식성</strong>을 갖는다. 도커가 설치된 환경이라면 어디서든 컨테이너를 실행할 수 있으며, 이를 통해 프로덕션 서버는 물론, 개발 및 테스트 서버 구축과 운영도 아주 쉬워진다. 컨테이너의 설정은 보통 환경변수로 제어하므로, 환경(개발, 테스트, 프로덕션 등)에 따라 환경 변수를 다르게 설정하여 관리할 수 있다.</p>\n<p>단, 도커의 <strong>컨테이너는 삭제되면 모든 데이터가 초기화</strong>된다. 이를 막기 위해 외부 저장장치에 링크를 하거나, AWS S3 등 별도의 클라우드 스토리지를 사용해야할 필요가 있다.</p>\n<p>이 모든 설정은 코드와 설정파일 기반으로 관리되어 Git 등을 사용하면 히스토리가 남게 되며, <strong>재현과 추적</strong>이 가능하다.</p>\n<h3>컨테이너 vs VM (Virtual Machine)</h3>\n<p>그렇다면, 도커 같은 컨테이너 기반의 가상화 플랫폼과 VM의 차이점은 무엇일까?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 991px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d3eace5d768716e419e7656520ae2529/f79d8/docker-basic-vm-vs-docker.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVR42iWQy09TQRTG778nLBAjFA1iJC5c6kIXxq0Jxoo1oVgsIkJUEii6gNiHjfJsSytt76MPKH3dR++D9pa0hqYkfJ47neTkfOc7M785Mxxo9ft9tO02LtoXaLVs2KSvrq7A1vU1S4Z5DkM3oTcMyLIGy7RgGCZkRYOuG9QzYFlNcEq7h3rrEhWzi7ITVhcVCsW+JL8Hq9NnwFPFQk5uQqpZSBdlFDUbeaXJdK426Dl7uJvvsxj3C5j4KGDE0YsCbjs15eG5NGZCVQZ8viFhaJ7H2EIW9xfiGP0gYsQn4J4vDpefxw0vjxebuQHQOTzhHwBdlEd9Wdwhb2guA3ekxoARycByTMFaqoH1RA1fkw18OdKwflTHtyMVn+MqonkTnIsOTn4SMbUs0aQ8JpcE3KVpp5ZF3Frg8TZaZ8Azs4ODvIJ0lZ6n2kiVTSRLBtPHFROxoobKeZcm9GUYaHyRx/RqDg9WJIxR7aJ62HsM747MgGuJOl5uFeAOnsD9swBPuITZ0CnTbyg7vY2UDC5c/IdwoYPvfw0EkhoCNL6jf510ESx0Iek9BpwJVtlXTC6J9AIRD+nyabrc0Y436uPZ93Bu8QCz4iHcmT28yx7Ak9nH6/QuPFIMr4R9hNUzBpyX4ni09wOPD7fwJLaFZ4kgnsaDpLfJ22Y9fz4JLqKeIKqdYkc/w6FZZfGnUWJeSC0iZxsM+Ju8lVIKa+U0RQabNQGBKs+0461Sb1cv4z/wzU/epE0L6wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker basic vm vs docker\"\n        title=\"\"\n        src=\"/static/d3eace5d768716e419e7656520ae2529/f79d8/docker-basic-vm-vs-docker.png\"\n        srcset=\"/static/d3eace5d768716e419e7656520ae2529/0eb09/docker-basic-vm-vs-docker.png 500w,\n/static/d3eace5d768716e419e7656520ae2529/f79d8/docker-basic-vm-vs-docker.png 991w\"\n        sizes=\"(max-width: 991px) 100vw, 991px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>위 그림의 왼쪽은 도커의 구조를, 오른쪽은 VM 의 구조를 나타낸다. 가장 먼저 눈에 들어오는 차이점은 <strong>하이퍼바이저 (Hypervisor) 의 유무</strong>이다. 하이퍼바이저란 Virtual Box 나 VM Ware 와 같은 가상 머신을 생성하고 실행하는 프로세스이다. 하이퍼바이저는 <strong>하드웨어를 에뮬레이션하여</strong> 하나의 컴퓨터에서 다수의 운영체제를 운영할 수 있게 해주는 소프트웨어이다.</p>\n<p>하이퍼바이저 자체를 실행하는 측을 <strong>호스트 운영체제 (Host OS)</strong> 라고 하며, 하이퍼바이저가 구동하는 가상화된 OS 를 <strong>게스트 운영체제 (Guest OS)</strong> 라고 한다. 게스트는 호스트로부터 일정량의 리소스를 할당을 받아 구동된다. 운영체제 자체를 가상화하여 실행하는 특징으로 도커에 비해 상대적으로 무겁다. 호스트 운영체제와 게스트 운영체제의 <strong>기능 중복</strong>으로 인해 약 10 ~ 20% 의 오버헤드 (Overhead) 를 갖는다고 한다.</p>\n<p>하지만, 도커와 같은 컨테이너 기반 가상화 플랫폼은 <strong>게스트 운영체제 없이</strong>, <strong>프로세스를 격리</strong>하는 방식으로 호스트 운영체제의 모든 기능과 리소스를 컨테이너간 공유한다. 운영체제 위에 <strong>또 다른 운영체제를 구동하지 않아</strong>도 되며, <strong>리소스도 공유</strong>해서 사용하므로 오버헤드는 3 ~ 5% 이내라고 한다. 또한 운영체제를 별도로 가상화 하지 않으므로 이미지 파일의 용량도 하이퍼바이저에 비해 낮다.</p>\n<h2>도커 시작하기</h2>\n<blockquote>\n<p>(참고) 본 포스트는 Mac 환경을 기준으로 작성되었다.</p>\n</blockquote>\n<h3>설치</h3>\n<p>도커를 사용하기 위해서는 도커를 먼저 설치해야한다. Mac 이나 Windows 를 사용하는 유저는 <strong><a href=\"https://www.docker.com/get-started\">Docker 웹사이트</a></strong> 에 접속하여 <strong>Docker Desktop</strong> 을 OS 에 맞게 다운로드하여 설치하면 된다.</p>\n<p>리눅스 환경에서는 <code class=\"language-text\">sudo</code> 권한으로 아래의 명령을 입력하면 도커를 설치할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> https://get.docker.com/ <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">sh</span></code></pre></div>\n<p>설치되었는지 확인하기 위해서 <code class=\"language-text\">docker version</code> 명령을 입력해본다. 아래와 같이 버전정보가 표시된다면 성공적으로 설치된 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> version\nClient:\n Cloud integration: v1.0.22\n Version:           <span class=\"token number\">20.10</span>.11\n <span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span>\n\nServer: Docker Engine - Community\n Engine:\n  Version:          <span class=\"token number\">20.10</span>.11\n <span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>컨테이너를 실행하기 전에…</h3>\n<p>본격적으로 도커를 맛보기 위해 여러가지 도커 이미지를 다운받고, 컨테이너를 실행해보며 대략적인 사용방법을 익혀본다. 일단 첫번째로는 순수하게 아무것도 설치되지 않는 Ubuntu 와 CentOS 이미지를 받아와 컨테이너를 실행해볼 것이다.</p>\n<p>잠깐 다음으로 넘어가기 전에 짚고 넘어가야할 것이 있다. 위에서 도커는 분명 Guest OS 를 구동하지 않는다고 했는데, 어떻게 Ubuntu, CentOS 를 구분지어 구동할 수 있는 것일까? <strong>도커 컨테이너는 Kernel 데이터를 갖고 있지 않다.</strong> 다만 컨테이너가 필요로 하는 <strong>Kernel 은 Host OS 의 것을 그대로 사용</strong>하고, <strong>Kernel 외의 데이터만을 패키징하여 컨테이너가 가지고</strong> 있는다. 이를테면, Ubuntu 와 CentOS 의 차이점만을 컨테이너에 패키징되어 담고 있는 것 이다. Ubuntu와 CentOS 는 서로 다른 리눅스 배포판이지만, 같은 Linux Kernel 을 사용하기에 이것이 가능하다.</p>\n<p>이렇게 말한다면 또 Mac 과 Windows 사용자는 궁금해 할 것이다. ‘내가 사용하는 OS 는 Linux Kernel 기반이 아닌데, 어떻게 도커가 동작하나요?’ 사실 정확히 이야기하자면, <strong>Docker 는 Linux 환경에서만 네이티브로 동작</strong>한다. Linux 이외의 환경에서 도커를 사용할때에는 <strong>도커 자체가 OS 에서 지원하는 가상화 환경에서 구동</strong>된다.</p>\n<p>이때 가상화 기술로 <strong>Mac 은 xhyve, Windows 는 Hyper-V</strong> 를 사용하여 별도의 Linux 환경을 만들 수 있다. Docker 의 핵심인 <strong>Docker Engine 은 이 가상화 환경의 Linux 위</strong>에서 돌아가게 된다.</p>\n<p>자, 어려운 이야기는 여기서 끝내고 직접 도커를 다뤄보자.</p>\n<h3>Ubuntu 컨테이너 올리기</h3>\n<p>제일 처음으로 할 것은 우분투 이미지를 사용하여 컨테이너를 올려보는 것 이다. 자세한 명령은 더 아래에서 정리해볼테니 명령어를 외우기보단 따라하며 <strong>도커가 무엇인지 직관적으로 이해하는 것에 집중</strong>하자.</p>\n<p>Docker Desktop 을 실행한 다음 터미널에서 아래 명령을 입력한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> run ubuntu:latest</code></pre></div>\n<p>위 명령을 입력하여, 우분투의 최신 버전 이미지를 다운받고, 컨테이너를 실행할 수 있다. 처음 명령을 입력하는 경우 이미지를 다운로드 해야하므로 조금 기다려야한다. 아래와 같이 출력되면, 이미지 다운로드가 끝나고 컨테이너가 올라간 상태일 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Unable to <span class=\"token function\">find</span> image <span class=\"token string\">'ubuntu:latest'</span> locally\nlatest: Pulling from library/ubuntu\nbbf2fb66fa6e: Pull complete\nDigest: sha256:669e010b58baf5beb2836b253c1fd5768333f0d1dbcb834f7c07a4dc93f474be\nStatus: Downloaded newer image <span class=\"token keyword\">for</span> ubuntu:latest</code></pre></div>\n<p>컨테이너가 올라갔는지 확인하기 위해 Docker Desktop 창을 열어 확인해보자.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 903px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0878b92aae0e27098e0c57af278eb607/8728b/docker-basic-docker-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 14.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAXElEQVR42mNQMTD/D8Ly2kZgrKgDwQo6xkRhkB5lPdP/qobmYD6Dir7Zfx1z2//6Vo5gWtHA5r+cvu1/BV0Tog1FxgyKQI0qBmZAGyz+KwMNV9Q1AxpmRpZhIAMBsdFabifCD1YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker basic docker 1\"\n        title=\"\"\n        src=\"/static/0878b92aae0e27098e0c57af278eb607/8728b/docker-basic-docker-1.png\"\n        srcset=\"/static/0878b92aae0e27098e0c57af278eb607/0eb09/docker-basic-docker-1.png 500w,\n/static/0878b92aae0e27098e0c57af278eb607/8728b/docker-basic-docker-1.png 903w\"\n        sizes=\"(max-width: 903px) 100vw, 903px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>리스트에 무언가 생긴것을 볼 수 있다. 컨테이너 이름은 별도로 지정해주지 않는 이상 임의의 이름으로 설정되므로 사진과 다른 이름일 것 이다. 우측에 <code class=\"language-text\">ubuntu:latest</code> 라고 써있는 것을 보니 우리가 생성한 컨테이너가 맞는 것 같다.</p>\n<p>하지만 이렇게 실행되는 <strong>컨테이너도 프로세스의 일종</strong>이기 때문에, 우분투에 실행되고 있는 프로세스가 없다면 컨테이너도 종료되어 아무것도 할 수 없다. Docker Desktop 에서 우리가 생성한 컨테이너에 마우스를 올리고 휴지통 버튼을 클릭하여 컨테이너를 일단 삭제해보자. 혹은 아래 명령을 입력하여 컨테이너를 삭제할수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token punctuation\">{</span>컨테이너_이름<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그리고, 아래 명령을 입력하여 도커 컨테이너가 올라가자마자 <strong>쉘을 실행</strong>하도록 하자. 쉘은 프로세스이므로 우분투 컨테이너가 바로 종료되지 않을 것 이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-it</span> ubuntu:latest /bin/sh</code></pre></div>\n<p><code class=\"language-text\">-it</code> 옵션은 컨테이너를 종료하지 않은 상태로 <strong>터미널의 입력을 컨테이너 내부로 전달</strong>하기 위해 사용된다. 또한 <code class=\"language-text\">docker run</code> 명령에서 이미지 이름 다음으로 적는것은 <strong>컨테이너가 실행된 직후 이어서 실행되는 명령</strong>이다. <code class=\"language-text\">/bin/sh</code> 을 입력하였으므로 쉘이 실행된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># echo \"hello, docker\"</span>\nhello, <span class=\"token function\">docker</span></code></pre></div>\n<p>터미널에 위와 같이 입력하여 컨테이너 내부로 명령을 전달해보자. <strong>우분투 쉘</strong>에서 <code class=\"language-text\">hello, docker</code> 라는 문자열이 그대로 출력되면 성공이다.</p>\n<h3>CentOS 컨테이너 올리기</h3>\n<p>이번에는 다른 Linux 배포판인 CentOS 이미지를 사용해보자. 아래 명령으로 CentOS 이미지를 다운받고 컨테이너를 실행하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> pull centos:centos8.4.2105</code></pre></div>\n<p>이미지 명을 작성할때 <code class=\"language-text\">:</code> 뒤에 오는 <code class=\"language-text\">centos8.4.2105</code> 는 <strong>태그</strong>라고 한다. 이번에는 <code class=\"language-text\">centos8.4.2105</code> 태그를 사용하여 <strong>명시적으로 사용할 이미지의 버전</strong>을 입력해주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-it</span> <span class=\"token parameter variable\">--rm</span> centos:centos8.4.2105 /bin/sh</code></pre></div>\n<p>위에서 한 것 처럼 <code class=\"language-text\">run</code> 명령을 이용해 컨테이너를 실행할 수 있다. <code class=\"language-text\">--rm</code> 옵션이 추가되었는데, 이는 <strong>컨테이너가 종료되면 컨테이너를 삭제</strong>하라는 의미이다.</p>\n<h3>Nginx 웹서버 구축하기</h3>\n<p>이번에는 Nginx 라는 웹 서버를 이용하여, 웹 서버를 올려보고 직접 html 파일을 서빙해보자. 이번엔 컨테이너 내부의 저장공간과 Host OS 저장공간을 이어주어 서빙할 html 파일을 손쉽게 전달해 볼 것이다. 이를 <strong>볼륨 마운트 (Volume Mount)</strong> 라고 한다. 볼륨 마운트는 <code class=\"language-text\">-v</code> 옵션을 통해 할 수 있다.</p>\n<p>또한, Nginx 의 기본 HTTP 포트는 80을 외부에서 3000으로 접근할 수 있도록 <strong>외부포트와 내부포트를 바인딩</strong> 해줄 것 이다. 이는 <code class=\"language-text\">-p</code> 옵션을 통해 가능하다. 적당한 디렉토리를 만들고, 그 디렉토리에서 아래의 명령을 입력하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">--rm</span> <span class=\"token parameter variable\">-p</span> <span class=\"token number\">3000</span>:80 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-v</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span>/:/usr/share/nginx/html/ <span class=\"token punctuation\">\\</span>\n  nginx</code></pre></div>\n<p>한번 <code class=\"language-text\">localhost:3000</code> 에 접속해보자. 아래와 같이 403 Forbidden 화면이 출력되면 성공이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 374px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/471c4c0194cdf838c6ccb293f4506c92/b0af8/docker-basic-nginx-403.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.29411764705882%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtUlEQVR42o1QuwqEMBDM/3+AVmlsNEX8jaABm9j4KOxtIoiPQufIQo4QjtOBYXfZmWEThghN00ApBa012raFMQbTNKGqKprdzmmGYcCyLOS57/vrZ2HYdV3I8xxFUUAIQSFlWUJKiSzLwDlHkiRI05TmcRz/B4bBXuRq3IcBMdh5ngi57zvV4zio37YN67rCWkvV7xxjr+PPC/0F8zyjrmt0XYe+7+kvn8CeBOHz34C9Fb4N/QCz/BftNX4rygAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker basic nginx 403\"\n        title=\"\"\n        src=\"/static/471c4c0194cdf838c6ccb293f4506c92/b0af8/docker-basic-nginx-403.png\"\n        srcset=\"/static/471c4c0194cdf838c6ccb293f4506c92/b0af8/docker-basic-nginx-403.png 374w\"\n        sizes=\"(max-width: 374px) 100vw, 374px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>현재 이 컨테이너의 <code class=\"language-text\">/usr/share/nginx/html/</code> 디렉토리는 Nginx 가 서빙할 정적 파일이 위치하는 디렉토리이다. 그 디렉토리는 <strong>명령을 실행한 현재 Host OS의 디렉토리와 연결</strong>되어 있는 상황이다. 현재 디렉토리에 아래와 같이 <code class=\"language-text\">index.html</code> 파일을 생성해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Docker<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello, Docker!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>그리고 다시 접속해보면, 아래와 같이 우리가 만든 HTML 파일이 서빙될 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 356px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ce857f20eb95c64e986157c84a0c27e8/323b2/docker-basic-nginx-hello.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.71910112359551%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlklEQVR42u2PsQrDIBiEfXVHQXDNos8iCJnyCBmyRFBUME4SkisKWUpLhha69IPj4Pg57ichBHjvYa3FPM9oOOewLAtqrVjXFdu2oZTSbxrneeIdRGsNznkXpRTGGEzTBMYYhmGAUgpCCEgpMY7jfeG+78g5I8bYva1ra1JKXS2/vC2+g+DLkOuFZx3H8TL/zcJ/4UeFDyKZCv8ebS8wAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker basic nginx hello\"\n        title=\"\"\n        src=\"/static/ce857f20eb95c64e986157c84a0c27e8/323b2/docker-basic-nginx-hello.png\"\n        srcset=\"/static/ce857f20eb95c64e986157c84a0c27e8/323b2/docker-basic-nginx-hello.png 356w\"\n        sizes=\"(max-width: 356px) 100vw, 356px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>PostgreSQL DB서버 구축하기</h3>\n<p>이번엔 RDBMS 중 하나인 PostgreSQL 컨테이너를 올려보자. 이야기 했지만 컨테이너는 삭제되면, 데이터도 함께 삭제된다. <strong>PostgreSQL 은 DBMS 이므로 꼭 볼륨 마운트</strong>를 해줘야한다. 적당한 디렉토리를 만들고, 아래 명령을 실행하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">--name</span> postgres <span class=\"token parameter variable\">-d</span> <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">5432</span>:5432 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">POSTGRES_PASSWORD</span><span class=\"token operator\">=</span>password <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-v</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span>/data/:/var/lib/postgresql/data/ postgres:14.1</code></pre></div>\n<p>이번엔 <code class=\"language-text\">--name</code> 옵션을 통해 컨테이너의 이름을 우리가 직접 <code class=\"language-text\">postgres</code> 로 설정해주었다.</p>\n<p><code class=\"language-text\">-d</code> 옵션은 <strong>Detached Mode</strong> 로 컨테이너를 실행하는 옵션으로, <strong>컨테이너가 백그라운드 모드</strong>로 돌아가도록 설정해준다.</p>\n<p><code class=\"language-text\">-e</code> 옵션을 통해 컨테이너가 사용하는 <strong>환경변수</strong>를 설정할 수 있다. 우리는 <code class=\"language-text\">POSTGRES_PASSWORD</code> 를 <code class=\"language-text\">password</code> 로 설정하여, PostgreSQL 접속에 사용하는 비밀번호를 설정하였다.</p>\n<p>우리는 <code class=\"language-text\">-d</code> 옵션을 사용하여 컨테이너를 백그라운드에서 실행했다. 외부에서 컨테이너에 명령을 내리는 방법은 <code class=\"language-text\">exec</code> 을 사용하는 방법이 있다. 일단 아래 명령을 통해 현재 실행중인 컨테이너 리스트를 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> <span class=\"token function\">ps</span>\n\nCONTAINER ID   IMAGE           COMMAND                  CREATED         STATUS         PORTS                    NAMES\n9ccd0f78bcf3   postgres:14.1   <span class=\"token string\">\"docker-entrypoint.s…\"</span>   <span class=\"token number\">3</span> minutes ago   Up <span class=\"token number\">3</span> minutes   <span class=\"token number\">0.0</span>.0.0:5432-<span class=\"token operator\">></span><span class=\"token number\">5432</span>/tcp   postgres</code></pre></div>\n<p>가장 오른쪽 NAMES 에 우리가 올린 <code class=\"language-text\">postgres</code> 를 확인할 수 있다. 이 컨테이너에 접속하여 명령을 실행해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> postgres /bin/sh</code></pre></div>\n<p><code class=\"language-text\">docker run</code> 과 비슷하지만, 이미지 이름 대신 <code class=\"language-text\">postgres</code> 라는 컨테이너 이름을 넣어줬다. 그리고 마찬가지로 쉘을 실행해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># psql -U postgres</span>\npsql <span class=\"token punctuation\">(</span><span class=\"token number\">14.1</span> <span class=\"token punctuation\">(</span>Debian <span class=\"token number\">14.1</span>-1.pgdg110+1<span class=\"token punctuation\">))</span>\nType <span class=\"token string\">\"help\"</span> <span class=\"token keyword\">for</span> help.\n\n<span class=\"token assign-left variable\">postgres</span><span class=\"token operator\">=</span><span class=\"token comment\"># CREATE DATABASE hello_docker;</span>\nCREATE DATABASE\n<span class=\"token assign-left variable\">postgres</span><span class=\"token operator\">=</span><span class=\"token comment\"># \\l</span>\n                                  List of databases\n     Name     <span class=\"token operator\">|</span>  Owner   <span class=\"token operator\">|</span> Encoding <span class=\"token operator\">|</span>  Collate   <span class=\"token operator\">|</span>   Ctype    <span class=\"token operator\">|</span>   Access privileges\n--------------+----------+----------+------------+------------+-----------------------\n hello_docker <span class=\"token operator\">|</span> postgres <span class=\"token operator\">|</span> UTF8     <span class=\"token operator\">|</span> en_US.utf8 <span class=\"token operator\">|</span> en_US.utf8 <span class=\"token operator\">|</span>\n postgres     <span class=\"token operator\">|</span> postgres <span class=\"token operator\">|</span> UTF8     <span class=\"token operator\">|</span> en_US.utf8 <span class=\"token operator\">|</span> en_US.utf8 <span class=\"token operator\">|</span>\n template0    <span class=\"token operator\">|</span> postgres <span class=\"token operator\">|</span> UTF8     <span class=\"token operator\">|</span> en_US.utf8 <span class=\"token operator\">|</span> en_US.utf8 <span class=\"token operator\">|</span> <span class=\"token operator\">=</span>c/postgres          +\n              <span class=\"token operator\">|</span>          <span class=\"token operator\">|</span>          <span class=\"token operator\">|</span>            <span class=\"token operator\">|</span>            <span class=\"token operator\">|</span> <span class=\"token assign-left variable\">postgres</span><span class=\"token operator\">=</span>CTc/postgres\n template1    <span class=\"token operator\">|</span> postgres <span class=\"token operator\">|</span> UTF8     <span class=\"token operator\">|</span> en_US.utf8 <span class=\"token operator\">|</span> en_US.utf8 <span class=\"token operator\">|</span> <span class=\"token operator\">=</span>c/postgres          +\n              <span class=\"token operator\">|</span>          <span class=\"token operator\">|</span>          <span class=\"token operator\">|</span>            <span class=\"token operator\">|</span>            <span class=\"token operator\">|</span> <span class=\"token assign-left variable\">postgres</span><span class=\"token operator\">=</span>CTc/postgres</code></pre></div>\n<p>PostgreSQL 이 정상적으로 설치되고 실행되는 모습을 확인할 수 있다.</p>\n<h3>Ghost 블로그 구축하기</h3>\n<p>이번엔 Ghost 라는 오픈소스 블로깅 플랫폼을 사용하여 블로그를 구축해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--name</span> ghost-blog <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">url</span><span class=\"token operator\">=</span>http://localhost:3001 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">3001</span>:2368 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-v</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span>/content/:/var/lib/ghost/content/ <span class=\"token punctuation\">\\</span>\n  ghost:4.34.3</code></pre></div>\n<p>위 명령을 입력한 후 아래와 같이 Ghost 블로그가 <code class=\"language-text\">localhost:3001</code> 에서 접속이 되면 성공적으로 설치가 완료된 상황이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1062px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dea9c8e2b34151cd2812285544a20cc3/3e86e/docker-basic-ghost-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 125.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGGElEQVR42lWUC4xcVRnHJwoRJBUNUVtr0qQEQtDabXwQATEgTUUwCq2IQFWwMSaahkYDxKrRtJAopWC2LZSW7nYfUPfRdttp3ffutLvTfXRnOruznX3OPmbnee/Mnffjzsz9+d3ZNsRz87/35Jx7/uf7n+//HYv+lWr09YfR7zyKftcJ9LvrKG6qI/nwSeafrGVwxwcM7DrKyB+PMrrvGCPVxxmsP0HP2Vra+hpocDbTPNPNucWr7FpqwqJ/8cgq2a01FNfUk1//EZH7TuH+zsd0b23Aur2Orpdq6d9zkkv7GrAdaqSr4RRnrU3U2Vp5e6SN3U4r2yatPOg9J4R3HaPw2Royt3yEuqaZuXWnuXJvG2e+fZq6R5to3dFMx+6zdO89Q+cbrVysbuVMYxv1Vivv9razx97FVkcfX/fYqJq3YQl9oYal2z7m+qdOY19zHuu6dk7c28E737LywQ/O0fJSO5feGWLw/Su0H+yktfoiDfUdHDrTw6ud/fzIbudrzlE2eRxUeZ1YBj/fSM9nWmm7xUrdHZ28tbaPvff0sX9LJ0d+2EXd8900vtxO0586aHmzh1OHe3m/po+/tl7m2c4hNtsd3HfNzabpaTYvzmL58HPNVN9+nv1runjlThsvf9nOH+4e5C9V/bz5UA/vPtHN0ee6OPE7wes9vPfPPv7+4QC/ahnigU4H99gnud81x6ZZH99YDmL5zadbePbWizx+Wy+P3D7IU3eMsvNLw/x+4wCvC+m+R/p468e9/PvFXg7s7ue1f1zihUODPNAwwlrrNdbZPGxwLrJxNsL9viQWZ7/CSL+KvV9j1JbAaUsycTnJ1JU4syNxvGMaiy6BW2N+WsPjjeP2p3CoWYa0PKPpIsMZnaGsztV8GUuZMnl5dEFBHvOdk3fGyAnyZCneQIlcuSg9yKdSJBZ9ZAIh0lEFPZvhZrPkckVWwnFWInH8SgJ/JIGWzGEYUCyWiSayhGJpIvEMIS1NMl/EHwjQ22/DPjxCr+0SVx1OtERSthTCgl4koMQJqEIm31gyS6Gg4/F4CIVClMpllIRJmCaspUibhH4/7e0d2ITM5RpncvI6bvckqVTaJNQlwqhEFmM5FCWT12UixYG3D9LU3FyREUtmCEaTBGNJ4uk86XQa78IigWBQVBTRJahiqbQqOS/R+EKqIMpyUCWeypDL5RgaHsbpdFakRyQyU0FAXVWQyxdQtThRLYESjRFWohXJq2cohEuBCMsVKEKqkEpnK5OGPFoyVVEQUGJyJBqqyNeLJSIxDUUQEUKTPJPLf0K4GFb+HyEFX9iMWuwS1KQfr2ApGCMhFnFPeuTMPBhyvsVCgXKx9EmWDb1EQU2TVVMUohnyktGCkhJriHnyGoWcIoisIh/FKElyYjFWEhppsVyspKOJnRLlkljKEEK3ZHJbDcbjtZS+e5jy996jVHUQ48IUqLtgYgN4HwXfT8h5H5YM7WXAKLA9MccOZYad6gLPhxd4zD/HeD6HhTE/qS0H6H3lCOXjw6ivtRDd8gY0ujACT2C4H8KI1mHE/0NkfBuEfs2FbJpv+ifZHJjhfDLG6WScr85MMZY1CUeWSG/4G86f/Qt9TwvpXxwns+HPGDVXKfu+T3n8QQy1HsP7DJGxKvBvpzWdYf28h432AZ658F8em11krWuaYUmmhakwxnMn4elajKeOYjx9jPLWasrd06C8Cm6R6/05LDxJceGnMrafgWyBF30Bfjvt5YX5ZX65FGHnXABPNi/GlnSHFnz4F5YJS12a0JKJSsZUv0JwZgklGCYoPo1Gtcp4RkuyMjmL6gsSVRQiYvBC/oZtUuJ6l9uNc9yF85oLt+c6SakUs10bn5BavczAgF2MPiKlGKmMK6rKmMOBa2JC7OPGMeYgHA6vEpbFS6aRTafHBKZJ09lsxdThiCIXQZClZZ+QRMmJ54riOXNNUs5RiydFjayLJ4QjI+Nim6Ds6nC5yYp0kyiTXS0tQ2rO3ESVakhI0Zv9sJCahPNSx5NTM+RlA3ONuda8E8w1FjMK8wezlUqru9/sd/T0E5OITRJdLoHSjbnFpWVWJPKb/5lENyvlf5awmSnx9nu5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker basic ghost 1\"\n        title=\"\"\n        src=\"/static/dea9c8e2b34151cd2812285544a20cc3/3e86e/docker-basic-ghost-1.png\"\n        srcset=\"/static/dea9c8e2b34151cd2812285544a20cc3/0eb09/docker-basic-ghost-1.png 500w,\n/static/dea9c8e2b34151cd2812285544a20cc3/1263b/docker-basic-ghost-1.png 1000w,\n/static/dea9c8e2b34151cd2812285544a20cc3/3e86e/docker-basic-ghost-1.png 1062w\"\n        sizes=\"(max-width: 1062px) 100vw, 1062px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Ghost 이미지에는 Ghost 뿐 아니라 <strong>DB 도 포함되어 빌드</strong>되었기 때문에, 어드민 페이지인 <code class=\"language-text\">http://localhost:3001/ghost/</code> 에 접속하여 계정을 생성하고, 글을 작성할수도 있다.</p>\n<p>본 포스팅은 Ghost 에 대한 포스팅이 아니므로 이 과정은 생략하도록 하겠다. 궁금하다면 어드민 페이지에 접속해보고 여러가지 시도해보면 좋겠다.</p>\n<p>리눅스 배포판, 웹서버, DB 서버, 블로깅 플랫폼 등 여러가지를 도커 명령 한줄로 세팅해보며 도커가 무엇인지, 도커가 왜 인기가 있는 것인지 <strong>직관적으로 이해</strong>할 수 있는 시간이 되었으면 좋겠다.</p>\n<h2>자주 쓰는 명령어</h2>\n<p>자주 사용되는 도커의 명령어를 알아보자.</p>\n<h4>docker run</h4>\n<p>위에서 알아보았듯 <code class=\"language-text\">run</code> 명령은 도커 이미지를 다운받고, 컨테이너를 실행하는 명령이다. 아래의 포맷을 갖는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> run <span class=\"token operator\">&lt;</span>옵션<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>이미지 이름:태그<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>명령어<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>인자<span class=\"token operator\">></span></code></pre></div>\n<p>자주 사용되는 옵션은 아래와 같다.</p>\n<table>\n<thead>\n<tr>\n<th>옵션</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">-d</code></td>\n<td>컨테이너를 백그라운드에서 실행 (Detached Mode)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">-p</code></td>\n<td>호스트 포트와 컨테이너 내부의 포트를 바인드한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">-v</code></td>\n<td>컨테이너 내부의 디렉토리를 호스트로 마운트 (연결) 한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">-e</code></td>\n<td>컨테이너에서 사용되는 환경변수를 설정한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">--name</code></td>\n<td>컨테이너의 이름을 설정한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">--rm</code></td>\n<td>컨테이너가 종료될 경우 컨테이너 자체를 삭제한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">-it</code></td>\n<td>터미널 입력을 위한 옵션. <code class=\"language-text\">-i</code> 옵션과 <code class=\"language-text\">-t</code> 옵션은 주로 함께 사용된다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">-w</code></td>\n<td>WORKDIR 를 설정한다.</td>\n</tr>\n</tbody>\n</table>\n<h4>docker ps</h4>\n<p>현재 실행되고 있는 컨테이너를 확인한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token operator\">&lt;</span>옵션<span class=\"token operator\">></span></code></pre></div>\n<p><code class=\"language-text\">-a</code> 옵션을 붙이면 Stop 상태의 컨테이너도 볼 수 있다.</p>\n<h4>docker stop</h4>\n<p>실행중인 컨테이너를 중지한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> stop <span class=\"token operator\">&lt;</span>옵션<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>컨테이너 이름<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>컨테이너 이름<span class=\"token punctuation\">..</span>.<span class=\"token operator\">></span></code></pre></div>\n<h4>docker rm</h4>\n<p>컨테이너를 제거한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token operator\">&lt;</span>옵션<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>컨테이너 이름<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>컨테이너 이름<span class=\"token punctuation\">..</span>.<span class=\"token operator\">></span></code></pre></div>\n<h4>docker logs</h4>\n<p>컨테이너에 기록된 로그를 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> logs <span class=\"token operator\">&lt;</span>옵션<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>컨테이너 이름<span class=\"token operator\">></span></code></pre></div>\n<p><code class=\"language-text\">-f</code> 옵션을 사용하면, 로그를 일회성으로 보여주고 끝내지 않고 기다리며 새롭게 발생한 로그도 출력해준다.</p>\n<h4>docker images</h4>\n<p>현재 설치된 이미지 리스트를 출력한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> images <span class=\"token operator\">&lt;</span>옵션<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>레포지토리 이름<span class=\"token operator\">></span></code></pre></div>\n<p>레포지토리를 넘겨주면 특정 레포지토리의 이미지만 필터링하여 볼 수 있다.</p>\n<h4>docker rmi</h4>\n<p>현재 설치된 이미지를 제거한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> rmi <span class=\"token operator\">&lt;</span>옵션<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>이미지 이름<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>이미지 이름<span class=\"token punctuation\">..</span>.<span class=\"token operator\">></span></code></pre></div>\n<h4>docker pull</h4>\n<p>이미지를 도커 레지스트리로부터 다운로드한다. <code class=\"language-text\">run</code> 명령을 사용할 때, 대상 이미지가 설치되지 않은 이미지일 경우 자동으로 <code class=\"language-text\">pull</code> 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> pull <span class=\"token operator\">&lt;</span>옵션<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>이미지 이름:태그<span class=\"token operator\">></span></code></pre></div>\n<h2>도커 컴포즈 (Docker Compose)</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1851px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d86e4a390573a9521bc71c5e28409990/2fa64/docker-basic-docker-compose.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAKABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQFBgcJ/8QAFAEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAB642TXWUjQJAMv//EABsQAAICAwEAAAAAAAAAAAAAAAEDBAYCEBIV/9oACAEBAAEFAn2OQ21etZeYxkZIKVFmv//EACARAAIBAwQDAAAAAAAAAAAAAAEDAhESIQAiIzFBUVL/2gAIAQMBAT8BEHXMsbEcu4zUZGVVJ+WLAoMdHxj3r//EAB4RAAICAAcAAAAAAAAAAAAAAAIDAREQEiEyM0Nx/9oACAECAQE/ATJVLtRcWmVldjL3AczfsYf/xAAkEAACAgIBAwQDAAAAAAAAAAACAwESBBEiBRMjABAUMTI1Qf/aAAgBAQAGPwLA6ZFoBOZmqnHwmvO8CjISvI6lpI+CGwsiUK2Jxbi5mQwgEZ/W9LJl+I/NyBuJXgQ3KSoceOJLZgRdyOAiLDWWWta8iR21aTliwLf4iZQMnqNcqxuf56B0qXLQgxBsgPcAWV7kCerDB1G8RPKo7+o9/wD/xAAZEAEBAQEBAQAAAAAAAAAAAAABIREAEDH/2gAIAQEAAT8hGBP/AL5RDjR7IBIRWNQwA82U9pb2PAgoUYFVEJnNQsToG+DyJLLz/9oADAMBAAIAAwAAABDbH//EABoRAQACAwEAAAAAAAAAAAAAAAERIQAxUWH/2gAIAQMBAT8QIe2UCGF7QU0KIcFATMG++5//xAAZEQEBAAMBAAAAAAAAAAAAAAABEQAh8DH/2gAIAQIBAT8QVOEAIiImcTZoVqkDu9z/xAAbEAADAAIDAAAAAAAAAAAAAAAAAREQIUFxsf/aAAgBAQABPxA2NI4tGONPgz166A0qNUHndWQhpipxMjorDNYwGbdJl1Ry+l68f//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker basic docker compose\"\n        title=\"\"\n        src=\"/static/d86e4a390573a9521bc71c5e28409990/2fa64/docker-basic-docker-compose.jpg\"\n        srcset=\"/static/d86e4a390573a9521bc71c5e28409990/953fe/docker-basic-docker-compose.jpg 500w,\n/static/d86e4a390573a9521bc71c5e28409990/0a251/docker-basic-docker-compose.jpg 1000w,\n/static/d86e4a390573a9521bc71c5e28409990/2fa64/docker-basic-docker-compose.jpg 1851w\"\n        sizes=\"(max-width: 1851px) 100vw, 1851px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>지금까지 우리는 도커를 모두 <strong>CLI 으로 조작</strong>했다. 물론 간단한 작업은 명령어만 사용해서 조작해도 상관없다. 하지만 컨테이너를 실행할때마다 <strong>모든 옵션</strong>을 넣어주고, <strong>환경변수를 입력</strong>해주는 것은 귀찮다. 이를 해결하기 위해 도커에서는 <strong>도커 컴포즈 (Docker Compose)</strong> 라는 것을 제공한다. 도커 컴포즈는 <strong>여러 컨테이너를 모아 하나의 어플리케이션을 구성</strong>할 때 사용된다.</p>\n<p>도커 컴포즈는 도커 데스크톱을 설치하면 기본으로 제공된다. 리눅스 환경인 경우 <strong><a href=\"https://docs.docker.com/compose/install/\">도커 공식 웹사이트</a></strong> 를 참고하여 설치하자.</p>\n<h3>버전확인</h3>\n<p>아래의 명령을 입력하여 도커 컴포즈 버전이 출력되면 제대로 설치가 되었다는 의미이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker-compose</span> version\n\n<span class=\"token function\">docker-compose</span> version <span class=\"token number\">1.29</span>.2, build 5becea4c\ndocker-py version: <span class=\"token number\">5.0</span>.0\nCPython version: <span class=\"token number\">3.9</span>.0\nOpenSSL version: OpenSSL <span class=\"token number\">1.1</span>.1h  <span class=\"token number\">22</span> Sep <span class=\"token number\">2020</span></code></pre></div>\n<h3>MySQL 컨테이너 실행하기</h3>\n<p>이번엔 도커 컴포즈를 이용하여 Wordpress 서버를 실행해볼 것이다. 일단, MySQL 컨테이너를 실행해보자. 도커 컴포즈 설정 파일은 <strong>YAML 포맷</strong>을 사용하여 작성한다. 적당한 디렉토리에서 <code class=\"language-text\">docker-compose.yml</code> 파일을 생성하고 아래의 내용을 입력해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'3'</span> <span class=\"token comment\"># docker-compose 파일 규격 버전</span>\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">mysql-db</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 컨테이너 이름</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> mysql<span class=\"token punctuation\">:</span><span class=\"token number\">5.7</span> <span class=\"token comment\"># 이미지</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># -v 옵션</span>\n      <span class=\"token punctuation\">-</span> ./mysql<span class=\"token punctuation\">:</span>/var/lib/mysql\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># -e 옵션</span>\n      <span class=\"token key atrule\">MYSQL_ROOT_PASSWORD</span><span class=\"token punctuation\">:</span> wordpress\n      <span class=\"token key atrule\">MYSQL_DATABASE</span><span class=\"token punctuation\">:</span> wordpress\n      <span class=\"token key atrule\">MYSQL_USER</span><span class=\"token punctuation\">:</span> wordpress\n      <span class=\"token key atrule\">MYSQL_PASSWORD</span><span class=\"token punctuation\">:</span> wordpress</code></pre></div>\n<p>첫번째로 <code class=\"language-text\">version</code> 는 <strong>도커 컴포즈 파일의 규격버전</strong>을 명시한다. “3” 을 입력하였으므로, 3.X 버전대의 가장 최신 버전을 사용하게 된다. 관련된 자세한 내용은 <strong><a href=\"https://docs.docker.com/compose/compose-file/compose-versioning/\">도커 공식 웹사이트의 가이드</a></strong> 문서를 참고하자.</p>\n<p>그 아래로는 <code class=\"language-text\">services</code> 를 명시하게 된다. <strong>서비스란 도커 컴포즈에서 컨테이너</strong>를 의미한다. 우리는 MySQL 의 서비스 이름을 <code class=\"language-text\">mysql-db</code> 로 정했다. 컨테이너 이름 다음으로 올 것은 우리가 <code class=\"language-text\">docker run</code> 을 실행하며 넣어준 여러 옵션을 YAML 포맷으로 넣어주면 된다.</p>\n<p>이제 <code class=\"language-text\">docker-compose.yml</code> 이 있는 디렉토리에서 터미널로 아래 명령을 입력하여 컨테이너를 실행하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker-compose up</code></pre></div>\n<p>이미지를 Pull 하고 컨테이너가 실행되면 성공이다.</p>\n<blockquote>\n<p>M1 맥북 사용자는 위 명령이 제대로 작동하지 않을 것 이다. 맥북 사용자는 도커 컴포즈 파일의 <code class=\"language-text\">environment</code> 옵션 아래에 <code class=\"language-text\">platform: linux/x86_64</code> 를 추가하자.</p>\n</blockquote>\n<h3>Wordpress 컨테이너 실행하기</h3>\n<p>Wordpress 를 실행할 새로운 서비스를 추가하자. <code class=\"language-text\">docker-compose.yml</code> 에 아래 내용을 이어서 작성하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># ...</span>\n  <span class=\"token key atrule\">wordpress</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> wordpress<span class=\"token punctuation\">:</span>latest\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> ./wordpress<span class=\"token punctuation\">-</span>html<span class=\"token punctuation\">:</span>/var/www/html\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> 3000<span class=\"token punctuation\">:</span><span class=\"token number\">80</span>\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">WORDPRESS_DB_HOST</span><span class=\"token punctuation\">:</span> mysql<span class=\"token punctuation\">-</span>db<span class=\"token punctuation\">:</span><span class=\"token number\">3306</span>\n      <span class=\"token key atrule\">WORDPRESS_DB_USER</span><span class=\"token punctuation\">:</span> wordpress\n      <span class=\"token key atrule\">WORDPRESS_DB_PASSWORD</span><span class=\"token punctuation\">:</span> wordpress</code></pre></div>\n<p>다시 <code class=\"language-text\">docker-compose up</code> 명령으로 실행해보자. 그리고 <code class=\"language-text\">localhost:3000</code> 에 접속하여 워드프레스가 제대로 동작하는지 확인해보자. 워드프레스 설치와 사용방법은 <strong><a href=\"https://wordpress.org/support/article/how-to-install-wordpress/\">워드프레스 공식 문서</a></strong> 를 확인하자.</p>\n<p>그런데, 환경변수를 살펴보면 <code class=\"language-text\">WORDPRESS_DB_HOST</code> 에 IP 주소나 도메인 대신 <code class=\"language-text\">mysql-db</code> 를 넣은 것을 알 수 있다. <strong>IP 주소를 넣어주지 않았는데, 어떻게 Wordpress 와 MySQL 은 정상적으로 통신</strong>할 수 있는 것 일까? 이를 이해하기 위해서는 <strong>도커 네트워크</strong>에 대해 이해해야한다.</p>\n<h3>도커 네트워크</h3>\n<p>도커는 컨테이너에 내부 IP 를 순차적으로 할당한다. 이 IP 는 컨테이너가 실행될 때 마다 달라진다. 하지만 우리가 워드프레스와 MySQL 컨테이너를 함께 실행한 것을 생각해보자. 워드프레스의 환경변수를 MySQL 컨테이너를 실행할때마다 바꿔주는 것은 매우 번거로운 일이다.</p>\n<p>도커 네트워크는 <strong>실행 중인 각각의 컨테이너를 연결하는 논리적인 네트워크</strong>이다. 같은 네트워크로 연결된 컨테이너는 별도의 IP 를 지정해줄 필요 없이 컨테이너의 이름만으로 손쉽게 통신할 수 있다.</p>\n<p>그런데, 우리는 별도의 네트워크를 생성하고 설정한 적이 없다. 그렇다면 어떻게 MySQL 과 Wordpress 컨테이너끼리 통신을 하는것일까?</p>\n<p>기본적으로 도커 컴포즈를 사용해 여러 컨테이너를 올리면, 사용자가 별도의 네트워크를 생성하고 설정하지 않아도 <code class=\"language-text\">&lt;디렉토리 이름>_default</code> 라는 네트워크를 생성하고 컨테이너를 연결한다. 따라서 최초로 <code class=\"language-text\">docker-compose up</code> 하였을 때, 아래 메세지가 출력되는 것을 확인해볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Creating network <span class=\"token string\">\"&lt;디렉토리 이름>_default\"</span> with the default driver</code></pre></div>\n<p>도커 네트워크에 대한 깊은 내용은 별도의 포스팅으로 다뤄보겠다. 지금은 도커 컴포즈를 사용하며, 컴포넌트 간 통신이 네트워크를 통해 이뤄지고 있다는 것만 이해하고 넘어가자.</p>\n<h2>도커 이미지 빌드하기 (Dockerfile)</h2>\n<p>지금까지는 다른사람이 빌드해 놓은 이미지를 다운로드 받아서 사용하기만 했다. 이제는 우리가 직접 간단한 node.js 앱을 작성하고, 도커 이미지로 빌드해보자. node.js 를 배운적이 없다면, node.js 부분은 이해하지 않고 그냥 따라서 작성만해도 괜찮다.</p>\n<h3>node.js 프로젝트 생성</h3>\n<p>일단 도커라이징할 node.js 서버를 아주 간단하게 작성해보자. 적절한 디렉토리를 생성하고 아래 과정을 따라오자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> init <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">npm</span> <span class=\"token function\">install</span> express</code></pre></div>\n<p>먼저 node.js 앱을 초기화해주고, 웹서버 작성을 위한 <code class=\"language-text\">express</code> 프레임워크를 설치한다. 그 다음 <code class=\"language-text\">server.js</code> 파일을 생성한 다음 아래 코드를 그대로 작성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PORT</span> <span class=\"token operator\">=</span> <span class=\"token number\">8080</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">HOST</span> <span class=\"token operator\">=</span> <span class=\"token string\">'0.0.0.0'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello Docker'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">HOST</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Running on http://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">HOST</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">PORT</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>우리가 빌드할 간단한 서버가 완성되었다.</p>\n<h3>Dockerfile 작성</h3>\n<p>이미지를 빌드하기 위해서는 <code class=\"language-text\">Dockerfile</code> 이라는 파일을 작성해야한다. <code class=\"language-text\">Dockerfile</code> 은 도커 이미지를 빌드하기 위한 스크립트 파일이다. 도커는 <code class=\"language-text\">Dockerfile</code> 을 읽고 순차적으로 명령을 실행하여 이미지를 빌드한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token comment\"># 사용할 이미지 입력</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> node:16.13.2</span>\n\n<span class=\"token comment\"># 작업디렉토리 설정</span>\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /usr/src/app</span>\n\n<span class=\"token comment\"># 앱 의존성 설치</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> package*.json ./</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> npm install</span>\n\n<span class=\"token comment\"># 앱 소스 추가</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> ./server.js ./server.js</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> 8080</span>\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [ <span class=\"token string\">\"node\"</span>, <span class=\"token string\">\"server.js\"</span> ]</span></code></pre></div>\n<p><code class=\"language-text\">FROM</code> 에 명시된 <strong>이미지를 베이스</strong>로 작성된 스크립트가 순차적으로 실행되며, 새로운 이미지가 빌드된다. <code class=\"language-text\">WORKDIR</code> 을 통해 컨테이너의 <strong>작업 디렉토리</strong>를 설정했다. 모든 명령이 <code class=\"language-text\">WORKDIR</code> 경로를 기준으로 실행된다.</p>\n<p><code class=\"language-text\">COPY</code> 를 통해 npm 패키지 관련 파일을 복사하였고, <code class=\"language-text\">RUN</code> 명령을 통해 <code class=\"language-text\">npm install</code> 명령을 직접 실행해 node.js 의 의존성 모듈을 설치하였다. 또한 <code class=\"language-text\">COPY</code> 명령을 다시한번 사용해 현재 디렉토리의 <code class=\"language-text\">server.js</code> 를 이미지로 복사한다.</p>\n<p><code class=\"language-text\">EXPOSE</code> 를 통해 외부로 8080 포트를 노출한다. 마지막으로 <code class=\"language-text\">CMD</code> 를 통해 컨테이너가 실행된 직후 실행될 명령도 정의해주면 끝이다. <code class=\"language-text\">RUN</code> 은 이미지 빌드 단계에서 실행되는 명령이고, <code class=\"language-text\">CMD</code> 는 컨테이너가 실행된 이후 실행될 명령을 정의한다.</p>\n<p>Dockerfile 은 파일이므로 Git 을 통해 관리 가능하여 이미지 변화 히스토리를 추적할 수 있다.</p>\n<p>자세한 Dockerfile 사용 방법을 알고싶다면, <strong><a href=\"https://docs.docker.com/engine/reference/builder/\">도커 공식 웹사이트 문서</a></strong> 를 참조하자.</p>\n<h3>이미지 빌드하기</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> build <span class=\"token parameter variable\">-t</span> node-app ./</code></pre></div>\n<p>위 명령을 입력하여 <code class=\"language-text\">Dockerfile</code> 을 기반으로 이미지를 빌드할 수 있다.</p>\n<p><code class=\"language-text\">-t node-app</code> 은 이미지의 이름을 설정하는 옵션이며, <code class=\"language-text\">./</code> 은 <code class=\"language-text\">Dockerfile</code> 의 경로를 나타낸다. 빌드 과정은 다소 오랜 시간이 소요되니 조금 기다리자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> images\n\nREPOSITORY              TAG              IMAGE ID       CREATED          SIZE\nnode-app                latest           401a74e859b2   <span class=\"token number\">39</span> seconds ago   855MB\n<span class=\"token punctuation\">..</span>.</code></pre></div>\n<p>위 명령으로 성공적으로 이미지가 빌드되어 <code class=\"language-text\">node-app</code> 이미지가 조회되는지 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-p</span> <span class=\"token number\">3000</span>:8080 node-app</code></pre></div>\n<p>이미지가 조회된다면, 위 명령으로 도커 컨테이너를 실행할 수 있을 것이다.</p>\n<h3>도커 이미지의 레이어 구조</h3>\n<p>마지막으로 도커 이미지의 구조에 대해서 가볍게 이해하고 넘어가자.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 675px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/97c622c247ef510b06fee1aff4ec890f/a7480/docker-basic-docker-image-layer.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.4%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAcEBQj/xAAVAQEBAAAAAAAAAAAAAAAAAAAFBv/aAAwDAQACEAMQAAAB1e65jSTlHaWwZV//xAAbEAABBQEBAAAAAAAAAAAAAAAFAgMEBgcAAf/aAAgBAQABBQKdoVpS5n9vMnSiH4rfhPMxCF1OlDwMjv/EAB4RAAICAgIDAAAAAAAAAAAAAAECAwQREgUQISLR/9oACAEDAQE/AaVHmo70UlieVqyuS6m2zAjUgemxB84OMfev/8QAHREAAgMAAgMAAAAAAAAAAAAAARECAyEABBMxYf/aAAgBAgEBPwG+/qSolGuMRYQEfF9D0JYwC89ojDz/xAAnEAACAQIFAwQDAAAAAAAAAAABAgMEEQUSEyExABQiECMkQSUysv/aAAgBAQAGPwKRO+w9kSeZAHwrD2sEkcD96yMXsLbFrjnqalxerpaiAUTSRRxUFNB5rPEhzNT1FRcabPtsvG4YBTZCqrzZUYD+em/KYxqNJqtbscnvu5IHxc3ieL/X3ffpsQoq7EKgyQtSslZ21rCWOUsNCGM5s0YAuxGUnxvv6f/EABoQAQEAAwEBAAAAAAAAAAAAAAERACExQVH/2gAIAQEAAT8hcIDdgvmCSoIA4x8qUICmdrwORdl66EQ3D5DEuG9RCAV0orw2RWdQv3TQieB0DP/aAAwDAQACAAMAAAAQy8//xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAh/9oACAEDAQE/EEjYlbVZo0aOQjBv/8QAGBEBAQADAAAAAAAAAAAAAAAAAREQITH/2gAIAQIBAT8Qou5SNHOyk9URCwf/xAAbEAEBAQEAAwEAAAAAAAAAAAABEQAhQWGR0f/aAAgBAQABPxCweJwvnld0oEwo1tnrAJPQd65l2h2JJBUCywDxud+wp3jwg7IzKKwOcFiG0AtD2h7+v7v/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker basic docker image layer\"\n        title=\"\"\n        src=\"/static/97c622c247ef510b06fee1aff4ec890f/a7480/docker-basic-docker-image-layer.jpg\"\n        srcset=\"/static/97c622c247ef510b06fee1aff4ec890f/953fe/docker-basic-docker-image-layer.jpg 500w,\n/static/97c622c247ef510b06fee1aff4ec890f/a7480/docker-basic-docker-image-layer.jpg 675w\"\n        sizes=\"(max-width: 675px) 100vw, 675px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>도커 이미지는 위 그림과 같이 여러개의 <strong>Layer 가 겹겹히 쌓여있는 구조</strong>로 되어있다. 과연 정말인지 직전에 설치해둔 Wordpress 이미지로 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> inspect wordpress</code></pre></div>\n<p><code class=\"language-text\">inspect</code> 명령은 Low Level 에서 컨테이너 혹은 이미지의 정보를 가져오는 명령이다. 굉장히 긴 무언가가 출력될 텐데, <code class=\"language-text\">Layers</code> 라는 부분만 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"Layers\": [\n\t\"sha256:f9b44a5812beb5294f1cf3b76cf9c29f1e53bf8eec7cece1b002fc5b5fbae8f2\",\n\t\"sha256:243aed6552599c7fb8a7939cef784eb2f84ce49708cefe11cf1057f2a27ba42f\",\n\t\"sha256:4d66bbee2601b1b779aedfe699c91920d637a5f51f91e87c1c04c3bbe9be34a4\",\n\t\"sha256:45dad0035575a38c893da7e0e9f394f2b4a2407b9694e21b53cbdf462c7a8a5b\",\n\t\"sha256:a8ccc2628dd85db2b3648ebddef84047a402104dbeeb14958514fd136aa19813\",\n\t\"sha256:8857c07576848e6d0b2416c84c561b0591536ccd6900cc7b653bdc2186025145\",\n\t\"sha256:6a7f6ea65ec22a59eb3361c2944edfee08d042ec49fbcbbadd8ac1516ac53b04\",\n...</code></pre></div>\n<p>위와 같이 이미지가 굉장히 많은 레이어로 구성되어 있는 모습을 살펴볼 수 있다. 도커를 통해 내려받은 이미지를 구성하는 레이어는 모두 <strong>읽기 전용</strong>이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1813px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5f06d8e9cb2fa58439ca928ef7594dd0/aae08/docker-basic-docker-image-build-process.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABJklEQVR42nVQa28jIQzc//8Xt21OUdvbZAPGT8zySMldFfVLjT0aLA2MZrn/Xr32w+qR/6HV/0tvxR7tE5cxRu/9G+cIdUoDYTAVNPhUOGM8I+82lanIWS7vuv/h7ZphEbWEFAETMRP3BEdKJYROWIBaGxlSzXn+3Frbcjzx33fbpz4WXiCRWL7sgTUDpOEu5kA8Wi2orY+YMHuZYlFNzqRK2a453RyXmAhJzh9bRIYI3R3FrhF7qw4yxZcQ2ax6t5xRCd5YQt7LtCcLqwVIn9seAGnaVnFMHkNTOdhcK91Ecfo5Wu98mLhRMSwyY1pmDEet2zVMa98pqwyIDzLuvQ3cVMEft3F/nB+1PNl8aaKIvLy+zt627bl8Endf1/V0Oq0vKzN/ASlNzOCacgWYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker basic docker image build process\"\n        title=\"\"\n        src=\"/static/5f06d8e9cb2fa58439ca928ef7594dd0/aae08/docker-basic-docker-image-build-process.png\"\n        srcset=\"/static/5f06d8e9cb2fa58439ca928ef7594dd0/0eb09/docker-basic-docker-image-build-process.png 500w,\n/static/5f06d8e9cb2fa58439ca928ef7594dd0/1263b/docker-basic-docker-image-build-process.png 1000w,\n/static/5f06d8e9cb2fa58439ca928ef7594dd0/aae08/docker-basic-docker-image-build-process.png 1813w\"\n        sizes=\"(max-width: 1813px) 100vw, 1813px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>위 이미지처럼 도커 이미지는 Dockerfile의 <code class=\"language-text\">FROM</code> 에 명시한 베이스 이미지 위에 또 다른 레이어가 얹혀져 빌드된다.</p>\n<h2>도커 허브에 배포하기</h2>\n<p>그런데, 우리가 다운로드한 이미지는 어디서 오는 것 일까? 우리가 다운로드한 이미지는 모두 <strong>도커 레지스트리 (Docker Registry)</strong> 로부터 온다. 도커 레지스트리란 <strong>도커 이미지를 관리하는 저장소</strong>를 의미한다.</p>\n<p>도커 레지스트리 중 가장 유명한 것은 도커에서 공식으로 운영하는 <strong><a href=\"https://hub.docker.com/\">도커 허브 (Docker Hub)</a></strong> 이다. 이제, 우리가 빌드한 이미지를 도커 허브에 배포하여 누구나 이미지를 Pull 받을 수 있도록 해보자. 일단 가장 먼저 도커 허브에 가입해야한다. 도커 허브 가입 과정은 생략한다.</p>\n<p>도커 허브에 가입했다면, 이제 본격적으로 도커 허브에 우리의 이미지를 배포해보자. 그 전에 이미지의 이름을 조금 수정할 필요가 있다. 도커 허브에 이미지를 배포할 때에는 만들어둔 이미지의 이름을 <code class=\"language-text\">사용자명(소문자)/이미지명:태그</code> 형태로 바꿔야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> tag node-app <span class=\"token operator\">&lt;</span>사용자명<span class=\"token operator\">></span>/node-app</code></pre></div>\n<p>위 명령으로 이미지 이름을 변경하자. 반드시 사용자명은 모두 소문자로 입력하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> login</code></pre></div>\n<p>위와 같이 입력하여 도커 허브에 먼저 로그인하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> push <span class=\"token operator\">&lt;</span>사용자명<span class=\"token operator\">></span>/node-app</code></pre></div>\n<p>위 명령으로 도커 허브의 자신의 레포지토리에 이미지를 업로드할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> rmi <span class=\"token operator\">&lt;</span>사용자명<span class=\"token operator\">></span>/node-app\n$ <span class=\"token function\">docker</span> run <span class=\"token operator\">&lt;</span>사용자명<span class=\"token operator\">></span>/node-app</code></pre></div>\n<p>이제 제대로 우리의 이미지가 업로드 됐는지 확인하기 위해 로컬에 설치된 이미지를 제거하고, 도커 허브에 등록된 이미지를 <code class=\"language-text\">run</code> 해보자. 제대로 node.js 앱이 실행된다면 성공이다.</p>\n<h2>참고</h2>\n<ul>\n<li><a href=\"https://docs.docker.com\">https://docs.docker.com</a></li>\n<li><a href=\"https://aws.amazon.com/ko/docker\">https://aws.amazon.com/ko/docker</a></li>\n<li><a href=\"https://azure.microsoft.com/ko-kr/overview/what-is-a-container/#overview\">https://azure.microsoft.com/ko-kr/overview/what-is-a-container/#overview</a></li>\n<li><a href=\"https://developer.nvidia.com/ko-kr/blog/%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%B0%8F-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%97%90%EC%84%9C-nvidia-nsight-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/\">https://developer.nvidia.com/ko-kr/blog/%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%B0%8F-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%97%90%EC%84%9C-nvidia-nsight-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/</a></li>\n</ul>\n<h2>이미지 출처</h2>\n<ul>\n<li><a href=\"https://pixabay.com/ko/photos/%ed%8f%ac%ed%8a%b8-%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88-%ec%84%a0%eb%b0%95-%eb%b0%a4-7418239/\">https://pixabay.com/ko/photos/%ed%8f%ac%ed%8a%b8-%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88-%ec%84%a0%eb%b0%95-%eb%b0%a4-7418239/</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"본 포스팅은 도커에 대한 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"자세한 개념"}]},{"type":"text","value":", 도커 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"기본 명령어"}]},{"type":"text","value":", "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"컨테이너 실행"}]},{"type":"text","value":" 실습, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커 컴포즈"}]},{"type":"text","value":", 도커 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"이미지 빌드"}]},{"type":"text","value":", "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커 허브"}]},{"type":"text","value":"에 이미지 배포 등 전반적인 도커 기초에 대한 내용을 다룬다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"도커 (Docker)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"컨테이너 기반"}]},{"type":"text","value":"의 오픈소스 가상화 플랫폼이다. 솔로몬 하익스가 개발했으며, 2013년에 처음 발표되었다. "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"고 (Go) 언어"}]},{"type":"text","value":"로 개발되고 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"해상 운송업의 컨테이너"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/680704b080f71ae75cb91c1ec2f91f9a/docker-basic-real-container.webp","alt":""},"children":[]},{"type":"text","value":"\n선박을 이용하여 수출입하는 해상 운송업의 모습을 상상해보자. 모든 선적물은 거대한 상자모양의 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"컨테이너를 통해 패키징"}]},{"type":"text","value":" 된 후 화물선에 선적된다. 컨테이너는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"국제적으로 표준화, 규격화"}]},{"type":"text","value":"된 크기를 갖고있다. 컨테이너와 관련된 보관, 운송과 관련한 장비, 제도, 프로세스 등은 모두 국제 표준에 맞게 설계된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 표준화의 특징으로 인해 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"해상 운송업자는 컨테이너 안에 어떤 물건이 담겨져 있는지 전혀 알 필요가 없다."}]},{"type":"text","value":" 그저 컨테이너 단위로 선적하여 운송하고 하역하고 보관하면 그만이다. 따라서 한국에서 수출한 물건을 저 멀리 미국에서도 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"‘장소에 구애 받지 않고’"}]},{"type":"text","value":" 손쉽게 하역하고, 운송할 수 있는 것 이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"만약 해상 운송업에서 컨테이너를 사용하지 않는다면 어떻게 될까? 제각기 다른 물건의 크기, 모양, 심지어 액체/고체 여부에 대응하기 위해 서로 다른 운송 장비, 보관 방법, 프로세스가 필요할 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"도커의 컨테이너"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/c3c94f0a97998f5c18c6237f1c88006e/fe486/docker-basic-docker-logo.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 37.8%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0klEQVR42n2RS2uTQRhG50tArYqLSigYQRDTlSBuxLUb/4O/oOAPEFy5kmJTYi4SvNRo0i60Nr1F04tpKG0qaaBQ6UKCGIqtBK222Cbm+h2fry1uRAcO78wwc+aZGWNSDcy4SNYxL8TgL0ysinlUwURVIzWO+TdxBXYw96uH7P0bM9vCTDUxb8SkxGPilcQvW7hjO3h757h4J87R/s+cDJU5EviqjZX/COfbmKx4K/GMSDvyFq7kHueCGS73xrnSl8AXyOB7kMPTv6LUukVw9y+ZtS98Z2NyYkFSRz4naaaNe/Qbl0Iprj+Z5kJ4mu6+JKfDy1jPf2Ke1TCPdfWoBOEKVvBQ5neEy+ASVl7SJbFoYznybIOz6TLXUkU6H+bpSHxSeq0dV7qRGpbe2xpUjWkcreCKVOiO65Az78HkJZTUkTvVWmrT9TRHV2iK4wMFPNF5PJEsXv9rTiWKErcOPnKkgTVc5/xEnRsLDYY+ar5Uh3tluPoBvI68oBQFJU1t4BorcWJCqHYMF3El1nCn9XazbXyLLXrW2gRLNutV9lv+u/Y17YPBqiYHtuD2Joxuw131e76Ae1WHrECn6s0NuLVuM7llM7Ntk5LgR5M/bbcJvwGhkbuN9WydPQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"docker basic docker logo","title":"","src":"/static/c3c94f0a97998f5c18c6237f1c88006e/fe486/docker-basic-docker-logo.png","srcSet":["/static/c3c94f0a97998f5c18c6237f1c88006e/0eb09/docker-basic-docker-logo.png 500w","/static/c3c94f0a97998f5c18c6237f1c88006e/fe486/docker-basic-docker-logo.png 768w"],"sizes":"(max-width: 768px) 100vw, 768px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커의 컨테이너도 마찬가지이다. 도커는 서비스를 운용하는데 필요한 실행환경, 라이브러리, 소프트웨어, 시스템 도구, 코드 등을 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"컨테이너라는 표준화된 단위로 추상화"}]},{"type":"text","value":"한다. 이렇게 만들어진 컨테이너는 컴퓨팅 환경에 구애받지 않고 서비스가 실행될 수 있도록 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"실제 컨테이너의 특성처럼, 서비스 관리자는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커라이징(Dockerizing)"}]},{"type":"text","value":" 된 컨테이너가 어떤 런타임을 필요로 하는지, 어떤 라이브러리와 코드를 필요로 하는지 전혀 알 필요가 없다. 그저 컨테이너를 어딘가에서 가져와서 서비스를 운영할 컴퓨팅 환경에서 실행하기만 하면 된다. 실행된 서비스는 컴퓨팅 환경과 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"독립된 가상의 환경"}]},{"type":"text","value":"에서 실행되며, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"일관된 결과"}]},{"type":"text","value":"를 보장한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"전통적인 서버관리"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우리가 새로운 서비스를 개발하고 있는 개발자라고 생각해보자. 우리가 런칭하려는 서비스는 규모가 상당하여, 시스템 환경 설정부터, 방화벽, 네트워크 등의 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"많은 설정"}]},{"type":"text","value":"이 필요하다. 또한 Java, Python, Node.js 등 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"많은 프로그래밍 언어"}]},{"type":"text","value":"를 사용하고, 각각의 언어는 또 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"많은 라이브러리 의존성"}]},{"type":"text","value":"을 갖는다. 여기서 끝이 아니다. PostgreSQL, MariaDB, Redis 등 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"여러개의 DBMS"}]},{"type":"text","value":" 도 사용한다. 하지만, 우리는 유능한 개발자다. 이 많은 것들을 우리의 로컬 개발환경에 완벽하게 셋업했다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우리는 서비스를 완성했고, 이제 서비스를 배포해야할 상황이 찾아왔다. 어라, 급하게 개발하다보니 개발서버 환경을 어떻게 설정했는지, 어떤 언어와 라이브러리를 설치했는지, DBMS 는 무엇을 사용하는지, 각각의 버전은 무엇인지 전혀 기록해두지 않았다. 하지만, 우리는 불굴의 개발자이다. 서버의 모든 환경설정과 Git 로그를 뒤져내어 서버를 세팅하는 매뉴얼을 작성하는데 성공했다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"자, 이제 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"토씨하나 틀리지 않고 메뉴얼대로"}]},{"type":"text","value":" 프로덕션 서버에도 개발환경과 동일한 환경을 구축하면 된다. 결국 서버를 모두 세팅하였고, 서비스를 실행해보았다. 어라, 오류가 발생한다. 수 시간의 삽질 끝에 오류의 원인을 알아내었다. 어떤 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"라이브러리의 버전이 개발환경과 달라 발생한 오류"}]},{"type":"text","value":"였다. 아까 서버를 세팅할 때 실수를 한 모양이다. 어찌됐든 성공적으로 서비스를 배포하는데 성공하였다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"서비스는 성공적이었고, DAU는 치솟았다. 슬슬 서버를 확장해야할 것 같다. 경제적 이유로 확장의 형태는 수평 확장으로 결정되었다. "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"또 다른 서버에 이전과 똑같은 프로세스대로 환경을 셋업해야한다."}]},{"type":"text","value":" 정신이 아득해진다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위와 같이 컨테이너를 사용하지 않은 전통적인 서버 관리방식에서는 밑 바닥부터 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"수작업으로 모든것을 세팅"}]},{"type":"text","value":"해야한다. 이런 환경에서 만약 개발언어를 Python 에서 Go 로 교체하는 등 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"서버 환경과 개발 환경이 바뀐다면?"}]},{"type":"text","value":" 운용중인 모든 서버에도 변경 사항을 적용해야한다. 생각만해도 끔찍하다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"도커를 사용한 서버관리"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커를 사용하면, 위와 같이 귀찮고 고통스러운 작업을 반복할 필요 없다. 도커를 사용하면 OS 환경설정, 언어, 라이브러리, 시스템 도구 등이 설치된 환경을 그대로 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"이미지"}]},{"type":"text","value":"로 빌드할 수 있다. 이미지는 후술할 Dockerfile 이란 것을 이용하여 만들 수 있다. 개발 환경에서 만들어진 이미지를 그대로 프로덕션 서버에 전달하고, 이미지를 기반으로 컨테이너를 생성하고 실행하면 끝이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 컨테이너의 특징은 곧, 도커의 중요한 특징인 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"표준성"}]},{"type":"text","value":"과 상통한다. Java, node.js, Python 등 다양한 언어와 프레임워크를 사용한 서비스들은 제각기 다른 배포 방법을 가지고 있다. 하지만 이를 도커를 통해 패키징하여 컨테이너를 만든다면, 어떤 언어, 프레임워크, 런타임을 사용하던 관계없이 모두 동일한 배포 프로세스를 갖게 된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 표준성 덕분에 도커는 높은 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"확장성"}]},{"type":"text","value":"과 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"이식성"}]},{"type":"text","value":"을 갖는다. 도커가 설치된 환경이라면 어디서든 컨테이너를 실행할 수 있으며, 이를 통해 프로덕션 서버는 물론, 개발 및 테스트 서버 구축과 운영도 아주 쉬워진다. 컨테이너의 설정은 보통 환경변수로 제어하므로, 환경(개발, 테스트, 프로덕션 등)에 따라 환경 변수를 다르게 설정하여 관리할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"단, 도커의 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"컨테이너는 삭제되면 모든 데이터가 초기화"}]},{"type":"text","value":"된다. 이를 막기 위해 외부 저장장치에 링크를 하거나, AWS S3 등 별도의 클라우드 스토리지를 사용해야할 필요가 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이 모든 설정은 코드와 설정파일 기반으로 관리되어 Git 등을 사용하면 히스토리가 남게 되며, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"재현과 추적"}]},{"type":"text","value":"이 가능하다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"컨테이너 vs VM (Virtual Machine)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그렇다면, 도커 같은 컨테이너 기반의 가상화 플랫폼과 VM의 차이점은 무엇일까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 991px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/d3eace5d768716e419e7656520ae2529/f79d8/docker-basic-vm-vs-docker.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 43.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVR42iWQy09TQRTG778nLBAjFA1iJC5c6kIXxq0Jxoo1oVgsIkJUEii6gNiHjfJsSytt76MPKH3dR++D9pa0hqYkfJ47neTkfOc7M785Mxxo9ft9tO02LtoXaLVs2KSvrq7A1vU1S4Z5DkM3oTcMyLIGy7RgGCZkRYOuG9QzYFlNcEq7h3rrEhWzi7ITVhcVCsW+JL8Hq9NnwFPFQk5uQqpZSBdlFDUbeaXJdK426Dl7uJvvsxj3C5j4KGDE0YsCbjs15eG5NGZCVQZ8viFhaJ7H2EIW9xfiGP0gYsQn4J4vDpefxw0vjxebuQHQOTzhHwBdlEd9Wdwhb2guA3ekxoARycByTMFaqoH1RA1fkw18OdKwflTHtyMVn+MqonkTnIsOTn4SMbUs0aQ8JpcE3KVpp5ZF3Frg8TZaZ8Azs4ODvIJ0lZ6n2kiVTSRLBtPHFROxoobKeZcm9GUYaHyRx/RqDg9WJIxR7aJ62HsM747MgGuJOl5uFeAOnsD9swBPuITZ0CnTbyg7vY2UDC5c/IdwoYPvfw0EkhoCNL6jf510ESx0Iek9BpwJVtlXTC6J9AIRD+nyabrc0Y436uPZ93Bu8QCz4iHcmT28yx7Ak9nH6/QuPFIMr4R9hNUzBpyX4ni09wOPD7fwJLaFZ4kgnsaDpLfJ22Y9fz4JLqKeIKqdYkc/w6FZZfGnUWJeSC0iZxsM+Ju8lVIKa+U0RQabNQGBKs+0461Sb1cv4z/wzU/epE0L6wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"docker basic vm vs docker","title":"","src":"/static/d3eace5d768716e419e7656520ae2529/f79d8/docker-basic-vm-vs-docker.png","srcSet":["/static/d3eace5d768716e419e7656520ae2529/0eb09/docker-basic-vm-vs-docker.png 500w","/static/d3eace5d768716e419e7656520ae2529/f79d8/docker-basic-vm-vs-docker.png 991w"],"sizes":"(max-width: 991px) 100vw, 991px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 그림의 왼쪽은 도커의 구조를, 오른쪽은 VM 의 구조를 나타낸다. 가장 먼저 눈에 들어오는 차이점은 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"하이퍼바이저 (Hypervisor) 의 유무"}]},{"type":"text","value":"이다. 하이퍼바이저란 Virtual Box 나 VM Ware 와 같은 가상 머신을 생성하고 실행하는 프로세스이다. 하이퍼바이저는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"하드웨어를 에뮬레이션하여"}]},{"type":"text","value":" 하나의 컴퓨터에서 다수의 운영체제를 운영할 수 있게 해주는 소프트웨어이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"하이퍼바이저 자체를 실행하는 측을 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"호스트 운영체제 (Host OS)"}]},{"type":"text","value":" 라고 하며, 하이퍼바이저가 구동하는 가상화된 OS 를 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"게스트 운영체제 (Guest OS)"}]},{"type":"text","value":" 라고 한다. 게스트는 호스트로부터 일정량의 리소스를 할당을 받아 구동된다. 운영체제 자체를 가상화하여 실행하는 특징으로 도커에 비해 상대적으로 무겁다. 호스트 운영체제와 게스트 운영체제의 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"기능 중복"}]},{"type":"text","value":"으로 인해 약 10 ~ 20% 의 오버헤드 (Overhead) 를 갖는다고 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"하지만, 도커와 같은 컨테이너 기반 가상화 플랫폼은 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"게스트 운영체제 없이"}]},{"type":"text","value":", "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"프로세스를 격리"}]},{"type":"text","value":"하는 방식으로 호스트 운영체제의 모든 기능과 리소스를 컨테이너간 공유한다. 운영체제 위에 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"또 다른 운영체제를 구동하지 않아"}]},{"type":"text","value":"도 되며, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"리소스도 공유"}]},{"type":"text","value":"해서 사용하므로 오버헤드는 3 ~ 5% 이내라고 한다. 또한 운영체제를 별도로 가상화 하지 않으므로 이미지 파일의 용량도 하이퍼바이저에 비해 낮다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"도커 시작하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"(참고) 본 포스트는 Mac 환경을 기준으로 작성되었다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"설치"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커를 사용하기 위해서는 도커를 먼저 설치해야한다. Mac 이나 Windows 를 사용하는 유저는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.docker.com/get-started"},"children":[{"type":"text","value":"Docker 웹사이트"}]}]},{"type":"text","value":" 에 접속하여 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Docker Desktop"}]},{"type":"text","value":" 을 OS 에 맞게 다운로드하여 설치하면 된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"리눅스 환경에서는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" 권한으로 아래의 명령을 입력하면 도커를 설치할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"curl"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-fsSL"}]},{"type":"text","value":" https://get.docker.com/ "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sh"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"설치되었는지 확인하기 위해서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker version"}]},{"type":"text","value":" 명령을 입력해본다. 아래와 같이 버전정보가 표시된다면 성공적으로 설치된 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" version\nClient:\n Cloud integration: v1.0.22\n Version:           "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"20.10"}]},{"type":"text","value":".11\n "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"생략"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n\nServer: Docker Engine - Community\n Engine:\n  Version:          "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"20.10"}]},{"type":"text","value":".11\n "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"생략"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"컨테이너를 실행하기 전에…"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"본격적으로 도커를 맛보기 위해 여러가지 도커 이미지를 다운받고, 컨테이너를 실행해보며 대략적인 사용방법을 익혀본다. 일단 첫번째로는 순수하게 아무것도 설치되지 않는 Ubuntu 와 CentOS 이미지를 받아와 컨테이너를 실행해볼 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"잠깐 다음으로 넘어가기 전에 짚고 넘어가야할 것이 있다. 위에서 도커는 분명 Guest OS 를 구동하지 않는다고 했는데, 어떻게 Ubuntu, CentOS 를 구분지어 구동할 수 있는 것일까? "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커 컨테이너는 Kernel 데이터를 갖고 있지 않다."}]},{"type":"text","value":" 다만 컨테이너가 필요로 하는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Kernel 은 Host OS 의 것을 그대로 사용"}]},{"type":"text","value":"하고, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Kernel 외의 데이터만을 패키징하여 컨테이너가 가지고"}]},{"type":"text","value":" 있는다. 이를테면, Ubuntu 와 CentOS 의 차이점만을 컨테이너에 패키징되어 담고 있는 것 이다. Ubuntu와 CentOS 는 서로 다른 리눅스 배포판이지만, 같은 Linux Kernel 을 사용하기에 이것이 가능하다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 말한다면 또 Mac 과 Windows 사용자는 궁금해 할 것이다. ‘내가 사용하는 OS 는 Linux Kernel 기반이 아닌데, 어떻게 도커가 동작하나요?’ 사실 정확히 이야기하자면, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Docker 는 Linux 환경에서만 네이티브로 동작"}]},{"type":"text","value":"한다. Linux 이외의 환경에서 도커를 사용할때에는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커 자체가 OS 에서 지원하는 가상화 환경에서 구동"}]},{"type":"text","value":"된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이때 가상화 기술로 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Mac 은 xhyve, Windows 는 Hyper-V"}]},{"type":"text","value":" 를 사용하여 별도의 Linux 환경을 만들 수 있다. Docker 의 핵심인 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Docker Engine 은 이 가상화 환경의 Linux 위"}]},{"type":"text","value":"에서 돌아가게 된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"자, 어려운 이야기는 여기서 끝내고 직접 도커를 다뤄보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Ubuntu 컨테이너 올리기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"제일 처음으로 할 것은 우분투 이미지를 사용하여 컨테이너를 올려보는 것 이다. 자세한 명령은 더 아래에서 정리해볼테니 명령어를 외우기보단 따라하며 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커가 무엇인지 직관적으로 이해하는 것에 집중"}]},{"type":"text","value":"하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Docker Desktop 을 실행한 다음 터미널에서 아래 명령을 입력한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" run ubuntu:latest"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 명령을 입력하여, 우분투의 최신 버전 이미지를 다운받고, 컨테이너를 실행할 수 있다. 처음 명령을 입력하는 경우 이미지를 다운로드 해야하므로 조금 기다려야한다. 아래와 같이 출력되면, 이미지 다운로드가 끝나고 컨테이너가 올라간 상태일 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"Unable to "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"find"}]},{"type":"text","value":" image "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'ubuntu:latest'"}]},{"type":"text","value":" locally\nlatest: Pulling from library/ubuntu\nbbf2fb66fa6e: Pull complete\nDigest: sha256:669e010b58baf5beb2836b253c1fd5768333f0d1dbcb834f7c07a4dc93f474be\nStatus: Downloaded newer image "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"for"}]},{"type":"text","value":" ubuntu:latest"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"컨테이너가 올라갔는지 확인하기 위해 Docker Desktop 창을 열어 확인해보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 903px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/0878b92aae0e27098e0c57af278eb607/8728b/docker-basic-docker-1.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 14.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAXElEQVR42mNQMTD/D8Ly2kZgrKgDwQo6xkRhkB5lPdP/qobmYD6Dir7Zfx1z2//6Vo5gWtHA5r+cvu1/BV0Tog1FxgyKQI0qBmZAGyz+KwMNV9Q1AxpmRpZhIAMBsdFabifCD1YAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"docker basic docker 1","title":"","src":"/static/0878b92aae0e27098e0c57af278eb607/8728b/docker-basic-docker-1.png","srcSet":["/static/0878b92aae0e27098e0c57af278eb607/0eb09/docker-basic-docker-1.png 500w","/static/0878b92aae0e27098e0c57af278eb607/8728b/docker-basic-docker-1.png 903w"],"sizes":"(max-width: 903px) 100vw, 903px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"리스트에 무언가 생긴것을 볼 수 있다. 컨테이너 이름은 별도로 지정해주지 않는 이상 임의의 이름으로 설정되므로 사진과 다른 이름일 것 이다. 우측에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ubuntu:latest"}]},{"type":"text","value":" 라고 써있는 것을 보니 우리가 생성한 컨테이너가 맞는 것 같다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"하지만 이렇게 실행되는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"컨테이너도 프로세스의 일종"}]},{"type":"text","value":"이기 때문에, 우분투에 실행되고 있는 프로세스가 없다면 컨테이너도 종료되어 아무것도 할 수 없다. Docker Desktop 에서 우리가 생성한 컨테이너에 마우스를 올리고 휴지통 버튼을 클릭하여 컨테이너를 일단 삭제해보자. 혹은 아래 명령을 입력하여 컨테이너를 삭제할수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"컨테이너_이름"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고, 아래 명령을 입력하여 도커 컨테이너가 올라가자마자 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"쉘을 실행"}]},{"type":"text","value":"하도록 하자. 쉘은 프로세스이므로 우분투 컨테이너가 바로 종료되지 않을 것 이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" run "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-it"}]},{"type":"text","value":" ubuntu:latest /bin/sh"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-it"}]},{"type":"text","value":" 옵션은 컨테이너를 종료하지 않은 상태로 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"터미널의 입력을 컨테이너 내부로 전달"}]},{"type":"text","value":"하기 위해 사용된다. 또한 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker run"}]},{"type":"text","value":" 명령에서 이미지 이름 다음으로 적는것은 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"컨테이너가 실행된 직후 이어서 실행되는 명령"}]},{"type":"text","value":"이다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/bin/sh"}]},{"type":"text","value":" 을 입력하였으므로 쉘이 실행된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# echo \"hello, docker\""}]},{"type":"text","value":"\nhello, "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"터미널에 위와 같이 입력하여 컨테이너 내부로 명령을 전달해보자. "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"우분투 쉘"}]},{"type":"text","value":"에서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"hello, docker"}]},{"type":"text","value":" 라는 문자열이 그대로 출력되면 성공이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"CentOS 컨테이너 올리기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번에는 다른 Linux 배포판인 CentOS 이미지를 사용해보자. 아래 명령으로 CentOS 이미지를 다운받고 컨테이너를 실행하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" pull centos:centos8.4.2105"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이미지 명을 작성할때 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" 뒤에 오는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"centos8.4.2105"}]},{"type":"text","value":" 는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"태그"}]},{"type":"text","value":"라고 한다. 이번에는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"centos8.4.2105"}]},{"type":"text","value":" 태그를 사용하여 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"명시적으로 사용할 이미지의 버전"}]},{"type":"text","value":"을 입력해주었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" run "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-it"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"--rm"}]},{"type":"text","value":" centos:centos8.4.2105 /bin/sh"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위에서 한 것 처럼 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"run"}]},{"type":"text","value":" 명령을 이용해 컨테이너를 실행할 수 있다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--rm"}]},{"type":"text","value":" 옵션이 추가되었는데, 이는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"컨테이너가 종료되면 컨테이너를 삭제"}]},{"type":"text","value":"하라는 의미이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Nginx 웹서버 구축하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번에는 Nginx 라는 웹 서버를 이용하여, 웹 서버를 올려보고 직접 html 파일을 서빙해보자. 이번엔 컨테이너 내부의 저장공간과 Host OS 저장공간을 이어주어 서빙할 html 파일을 손쉽게 전달해 볼 것이다. 이를 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"볼륨 마운트 (Volume Mount)"}]},{"type":"text","value":" 라고 한다. 볼륨 마운트는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":" 옵션을 통해 할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"또한, Nginx 의 기본 HTTP 포트는 80을 외부에서 3000으로 접근할 수 있도록 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"외부포트와 내부포트를 바인딩"}]},{"type":"text","value":" 해줄 것 이다. 이는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-p"}]},{"type":"text","value":" 옵션을 통해 가능하다. 적당한 디렉토리를 만들고, 그 디렉토리에서 아래의 명령을 입력하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" run "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"--rm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-p"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3000"}]},{"type":"text","value":":80 "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"pwd"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"/:/usr/share/nginx/html/ "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"\n  nginx"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"한번 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"localhost:3000"}]},{"type":"text","value":" 에 접속해보자. 아래와 같이 403 Forbidden 화면이 출력되면 성공이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 374px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/471c4c0194cdf838c6ccb293f4506c92/b0af8/docker-basic-nginx-403.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 35.29411764705882%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtUlEQVR42o1QuwqEMBDM/3+AVmlsNEX8jaABm9j4KOxtIoiPQufIQo4QjtOBYXfZmWEThghN00ApBa012raFMQbTNKGqKprdzmmGYcCyLOS57/vrZ2HYdV3I8xxFUUAIQSFlWUJKiSzLwDlHkiRI05TmcRz/B4bBXuRq3IcBMdh5ngi57zvV4zio37YN67rCWkvV7xxjr+PPC/0F8zyjrmt0XYe+7+kvn8CeBOHz34C9Fb4N/QCz/BftNX4rygAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"docker basic nginx 403","title":"","src":"/static/471c4c0194cdf838c6ccb293f4506c92/b0af8/docker-basic-nginx-403.png","srcSet":["/static/471c4c0194cdf838c6ccb293f4506c92/b0af8/docker-basic-nginx-403.png 374w"],"sizes":"(max-width: 374px) 100vw, 374px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"현재 이 컨테이너의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/usr/share/nginx/html/"}]},{"type":"text","value":" 디렉토리는 Nginx 가 서빙할 정적 파일이 위치하는 디렉토리이다. 그 디렉토리는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"명령을 실행한 현재 Host OS의 디렉토리와 연결"}]},{"type":"text","value":"되어 있는 상황이다. 현재 디렉토리에 아래와 같이 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"index.html"}]},{"type":"text","value":" 파일을 생성해보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"html"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-html"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-html"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"html"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"head"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"title"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"Docker"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"title"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"head"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"body"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"h1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"Hello, Docker!"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"h1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"body"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"html"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고 다시 접속해보면, 아래와 같이 우리가 만든 HTML 파일이 서빙될 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 356px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/ce857f20eb95c64e986157c84a0c27e8/323b2/docker-basic-nginx-hello.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 49.71910112359551%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlklEQVR42u2PsQrDIBiEfXVHQXDNos8iCJnyCBmyRFBUME4SkisKWUpLhha69IPj4Pg57ichBHjvYa3FPM9oOOewLAtqrVjXFdu2oZTSbxrneeIdRGsNznkXpRTGGEzTBMYYhmGAUgpCCEgpMY7jfeG+78g5I8bYva1ra1JKXS2/vC2+g+DLkOuFZx3H8TL/zcJ/4UeFDyKZCv8ebS8wAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"docker basic nginx hello","title":"","src":"/static/ce857f20eb95c64e986157c84a0c27e8/323b2/docker-basic-nginx-hello.png","srcSet":["/static/ce857f20eb95c64e986157c84a0c27e8/323b2/docker-basic-nginx-hello.png 356w"],"sizes":"(max-width: 356px) 100vw, 356px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"PostgreSQL DB서버 구축하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번엔 RDBMS 중 하나인 PostgreSQL 컨테이너를 올려보자. 이야기 했지만 컨테이너는 삭제되면, 데이터도 함께 삭제된다. "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"PostgreSQL 은 DBMS 이므로 꼭 볼륨 마운트"}]},{"type":"text","value":"를 해줘야한다. 적당한 디렉토리를 만들고, 아래 명령을 실행하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" run "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"--name"}]},{"type":"text","value":" postgres "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-d"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-p"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5432"}]},{"type":"text","value":":5432 "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-e"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"POSTGRES_PASSWORD"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"password "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"pwd"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"/data/:/var/lib/postgresql/data/ postgres:14.1"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번엔 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--name"}]},{"type":"text","value":" 옵션을 통해 컨테이너의 이름을 우리가 직접 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"postgres"}]},{"type":"text","value":" 로 설정해주었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-d"}]},{"type":"text","value":" 옵션은 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Detached Mode"}]},{"type":"text","value":" 로 컨테이너를 실행하는 옵션으로, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"컨테이너가 백그라운드 모드"}]},{"type":"text","value":"로 돌아가도록 설정해준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-e"}]},{"type":"text","value":" 옵션을 통해 컨테이너가 사용하는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"환경변수"}]},{"type":"text","value":"를 설정할 수 있다. 우리는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"POSTGRES_PASSWORD"}]},{"type":"text","value":" 를 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"password"}]},{"type":"text","value":" 로 설정하여, PostgreSQL 접속에 사용하는 비밀번호를 설정하였다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우리는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-d"}]},{"type":"text","value":" 옵션을 사용하여 컨테이너를 백그라운드에서 실행했다. 외부에서 컨테이너에 명령을 내리는 방법은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"exec"}]},{"type":"text","value":" 을 사용하는 방법이 있다. 일단 아래 명령을 통해 현재 실행중인 컨테이너 리스트를 확인해보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ps"}]},{"type":"text","value":"\n\nCONTAINER ID   IMAGE           COMMAND                  CREATED         STATUS         PORTS                    NAMES\n9ccd0f78bcf3   postgres:14.1   "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"docker-entrypoint.s…\""}]},{"type":"text","value":"   "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"text","value":" minutes ago   Up "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"text","value":" minutes   "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"0.0"}]},{"type":"text","value":".0.0:5432-"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5432"}]},{"type":"text","value":"/tcp   postgres"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"가장 오른쪽 NAMES 에 우리가 올린 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"postgres"}]},{"type":"text","value":" 를 확인할 수 있다. 이 컨테이너에 접속하여 명령을 실행해보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"exec"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-it"}]},{"type":"text","value":" postgres /bin/sh"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker run"}]},{"type":"text","value":" 과 비슷하지만, 이미지 이름 대신 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"postgres"}]},{"type":"text","value":" 라는 컨테이너 이름을 넣어줬다. 그리고 마찬가지로 쉘을 실행해준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"shell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-shell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# psql -U postgres"}]},{"type":"text","value":"\npsql "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"14.1"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"Debian "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"14.1"}]},{"type":"text","value":"-1.pgdg110+1"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"))"}]},{"type":"text","value":"\nType "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"help\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"for"}]},{"type":"text","value":" help.\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"postgres"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# CREATE DATABASE hello_docker;"}]},{"type":"text","value":"\nCREATE DATABASE\n"},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"postgres"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# \\l"}]},{"type":"text","value":"\n                                  List of databases\n     Name     "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"  Owner   "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" Encoding "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"  Collate   "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"   Ctype    "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"   Access privileges\n--------------+----------+----------+------------+------------+-----------------------\n hello_docker "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" postgres "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" UTF8     "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" en_US.utf8 "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" en_US.utf8 "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"\n postgres     "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" postgres "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" UTF8     "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" en_US.utf8 "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" en_US.utf8 "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"\n template0    "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" postgres "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" UTF8     "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" en_US.utf8 "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" en_US.utf8 "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"c/postgres          +\n              "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"          "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"          "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"            "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"            "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"postgres"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"CTc/postgres\n template1    "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" postgres "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" UTF8     "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" en_US.utf8 "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" en_US.utf8 "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"c/postgres          +\n              "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"          "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"          "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"            "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"            "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"postgres"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"CTc/postgres"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"PostgreSQL 이 정상적으로 설치되고 실행되는 모습을 확인할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Ghost 블로그 구축하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번엔 Ghost 라는 오픈소스 블로깅 플랫폼을 사용하여 블로그를 구축해보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" run "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-d"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"--name"}]},{"type":"text","value":" ghost-blog "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-e"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"url"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"http://localhost:3001 "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-p"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3001"}]},{"type":"text","value":":2368 "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"pwd"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"/content/:/var/lib/ghost/content/ "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"\n  ghost:4.34.3"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 명령을 입력한 후 아래와 같이 Ghost 블로그가 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"localhost:3001"}]},{"type":"text","value":" 에서 접속이 되면 성공적으로 설치가 완료된 상황이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1062px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/dea9c8e2b34151cd2812285544a20cc3/3e86e/docker-basic-ghost-1.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 125.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGGElEQVR42lWUC4xcVRnHJwoRJBUNUVtr0qQEQtDabXwQATEgTUUwCq2IQFWwMSaahkYDxKrRtJAopWC2LZSW7nYfUPfRdttp3ffutLvTfXRnOruznX3OPmbnee/Mnffjzsz9+d3ZNsRz87/35Jx7/uf7n+//HYv+lWr09YfR7zyKftcJ9LvrKG6qI/nwSeafrGVwxwcM7DrKyB+PMrrvGCPVxxmsP0HP2Vra+hpocDbTPNPNucWr7FpqwqJ/8cgq2a01FNfUk1//EZH7TuH+zsd0b23Aur2Orpdq6d9zkkv7GrAdaqSr4RRnrU3U2Vp5e6SN3U4r2yatPOg9J4R3HaPw2Royt3yEuqaZuXWnuXJvG2e+fZq6R5to3dFMx+6zdO89Q+cbrVysbuVMYxv1Vivv9razx97FVkcfX/fYqJq3YQl9oYal2z7m+qdOY19zHuu6dk7c28E737LywQ/O0fJSO5feGWLw/Su0H+yktfoiDfUdHDrTw6ud/fzIbudrzlE2eRxUeZ1YBj/fSM9nWmm7xUrdHZ28tbaPvff0sX9LJ0d+2EXd8900vtxO0586aHmzh1OHe3m/po+/tl7m2c4hNtsd3HfNzabpaTYvzmL58HPNVN9+nv1runjlThsvf9nOH+4e5C9V/bz5UA/vPtHN0ee6OPE7wes9vPfPPv7+4QC/ahnigU4H99gnud81x6ZZH99YDmL5zadbePbWizx+Wy+P3D7IU3eMsvNLw/x+4wCvC+m+R/p468e9/PvFXg7s7ue1f1zihUODPNAwwlrrNdbZPGxwLrJxNsL9viQWZ7/CSL+KvV9j1JbAaUsycTnJ1JU4syNxvGMaiy6BW2N+WsPjjeP2p3CoWYa0PKPpIsMZnaGsztV8GUuZMnl5dEFBHvOdk3fGyAnyZCneQIlcuSg9yKdSJBZ9ZAIh0lEFPZvhZrPkckVWwnFWInH8SgJ/JIGWzGEYUCyWiSayhGJpIvEMIS1NMl/EHwjQ22/DPjxCr+0SVx1OtERSthTCgl4koMQJqEIm31gyS6Gg4/F4CIVClMpllIRJmCaspUibhH4/7e0d2ITM5RpncvI6bvckqVTaJNQlwqhEFmM5FCWT12UixYG3D9LU3FyREUtmCEaTBGNJ4uk86XQa78IigWBQVBTRJahiqbQqOS/R+EKqIMpyUCWeypDL5RgaHsbpdFakRyQyU0FAXVWQyxdQtThRLYESjRFWohXJq2cohEuBCMsVKEKqkEpnK5OGPFoyVVEQUGJyJBqqyNeLJSIxDUUQEUKTPJPLf0K4GFb+HyEFX9iMWuwS1KQfr2ApGCMhFnFPeuTMPBhyvsVCgXKx9EmWDb1EQU2TVVMUohnyktGCkhJriHnyGoWcIoisIh/FKElyYjFWEhppsVyspKOJnRLlkljKEEK3ZHJbDcbjtZS+e5jy996jVHUQ48IUqLtgYgN4HwXfT8h5H5YM7WXAKLA9MccOZYad6gLPhxd4zD/HeD6HhTE/qS0H6H3lCOXjw6ivtRDd8gY0ujACT2C4H8KI1mHE/0NkfBuEfs2FbJpv+ifZHJjhfDLG6WScr85MMZY1CUeWSG/4G86f/Qt9TwvpXxwns+HPGDVXKfu+T3n8QQy1HsP7DJGxKvBvpzWdYf28h432AZ658F8em11krWuaYUmmhakwxnMn4elajKeOYjx9jPLWasrd06C8Cm6R6/05LDxJceGnMrafgWyBF30Bfjvt5YX5ZX65FGHnXABPNi/GlnSHFnz4F5YJS12a0JKJSsZUv0JwZgklGCYoPo1Gtcp4RkuyMjmL6gsSVRQiYvBC/oZtUuJ6l9uNc9yF85oLt+c6SakUs10bn5BavczAgF2MPiKlGKmMK6rKmMOBa2JC7OPGMeYgHA6vEpbFS6aRTafHBKZJ09lsxdThiCIXQZClZZ+QRMmJ54riOXNNUs5RiydFjayLJ4QjI+Nim6Ds6nC5yYp0kyiTXS0tQ2rO3ESVakhI0Zv9sJCahPNSx5NTM+RlA3ONuda8E8w1FjMK8wezlUqru9/sd/T0E5OITRJdLoHSjbnFpWVWJPKb/5lENyvlf5awmSnx9nu5AAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"docker basic ghost 1","title":"","src":"/static/dea9c8e2b34151cd2812285544a20cc3/3e86e/docker-basic-ghost-1.png","srcSet":["/static/dea9c8e2b34151cd2812285544a20cc3/0eb09/docker-basic-ghost-1.png 500w","/static/dea9c8e2b34151cd2812285544a20cc3/1263b/docker-basic-ghost-1.png 1000w","/static/dea9c8e2b34151cd2812285544a20cc3/3e86e/docker-basic-ghost-1.png 1062w"],"sizes":"(max-width: 1062px) 100vw, 1062px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ghost 이미지에는 Ghost 뿐 아니라 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"DB 도 포함되어 빌드"}]},{"type":"text","value":"되었기 때문에, 어드민 페이지인 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"http://localhost:3001/ghost/"}]},{"type":"text","value":" 에 접속하여 계정을 생성하고, 글을 작성할수도 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"본 포스팅은 Ghost 에 대한 포스팅이 아니므로 이 과정은 생략하도록 하겠다. 궁금하다면 어드민 페이지에 접속해보고 여러가지 시도해보면 좋겠다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"리눅스 배포판, 웹서버, DB 서버, 블로깅 플랫폼 등 여러가지를 도커 명령 한줄로 세팅해보며 도커가 무엇인지, 도커가 왜 인기가 있는 것인지 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"직관적으로 이해"}]},{"type":"text","value":"할 수 있는 시간이 되었으면 좋겠다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"자주 쓰는 명령어"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"자주 사용되는 도커의 명령어를 알아보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"docker run"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위에서 알아보았듯 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"run"}]},{"type":"text","value":" 명령은 도커 이미지를 다운받고, 컨테이너를 실행하는 명령이다. 아래의 포맷을 갖는다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" run "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"옵션"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"이미지 이름:태그"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"명령어"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"인자"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"자주 사용되는 옵션은 아래와 같다."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"옵션"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"설명"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-d"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"컨테이너를 백그라운드에서 실행 (Detached Mode)"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-p"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"호스트 포트와 컨테이너 내부의 포트를 바인드한다."}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-v"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"컨테이너 내부의 디렉토리를 호스트로 마운트 (연결) 한다."}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-e"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"컨테이너에서 사용되는 환경변수를 설정한다."}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--name"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"컨테이너의 이름을 설정한다."}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--rm"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"컨테이너가 종료될 경우 컨테이너 자체를 삭제한다."}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-it"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"터미널 입력을 위한 옵션. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-i"}]},{"type":"text","value":" 옵션과 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" 옵션은 주로 함께 사용된다."}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-w"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"WORKDIR 를 설정한다."}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"docker ps"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"현재 실행되고 있는 컨테이너를 확인한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ps"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"옵션"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":" 옵션을 붙이면 Stop 상태의 컨테이너도 볼 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"docker stop"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"실행중인 컨테이너를 중지한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" stop "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"옵션"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"컨테이너 이름"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"컨테이너 이름"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":"."},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"docker rm"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"컨테이너를 제거한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"옵션"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"컨테이너 이름"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"컨테이너 이름"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":"."},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"docker logs"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"컨테이너에 기록된 로그를 확인할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" logs "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"옵션"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"컨테이너 이름"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-f"}]},{"type":"text","value":" 옵션을 사용하면, 로그를 일회성으로 보여주고 끝내지 않고 기다리며 새롭게 발생한 로그도 출력해준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"docker images"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"현재 설치된 이미지 리스트를 출력한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" images "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"옵션"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"레포지토리 이름"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"레포지토리를 넘겨주면 특정 레포지토리의 이미지만 필터링하여 볼 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"docker rmi"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"현재 설치된 이미지를 제거한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" rmi "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"옵션"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"이미지 이름"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"이미지 이름"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":"."},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"docker pull"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이미지를 도커 레지스트리로부터 다운로드한다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"run"}]},{"type":"text","value":" 명령을 사용할 때, 대상 이미지가 설치되지 않은 이미지일 경우 자동으로 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"pull"}]},{"type":"text","value":" 해준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" pull "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"옵션"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"이미지 이름:태그"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"도커 컴포즈 (Docker Compose)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1851px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/d86e4a390573a9521bc71c5e28409990/2fa64/docker-basic-docker-compose.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAKABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQFBgcJ/8QAFAEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAB642TXWUjQJAMv//EABsQAAICAwEAAAAAAAAAAAAAAAEDBAYCEBIV/9oACAEBAAEFAn2OQ21etZeYxkZIKVFmv//EACARAAIBAwQDAAAAAAAAAAAAAAEDAhESIQAiIzFBUVL/2gAIAQMBAT8BEHXMsbEcu4zUZGVVJ+WLAoMdHxj3r//EAB4RAAICAAcAAAAAAAAAAAAAAAIDAREQEiEyM0Nx/9oACAECAQE/ATJVLtRcWmVldjL3AczfsYf/xAAkEAACAgIBAwQDAAAAAAAAAAACAwESBBEiBRMjABAUMTI1Qf/aAAgBAQAGPwLA6ZFoBOZmqnHwmvO8CjISvI6lpI+CGwsiUK2Jxbi5mQwgEZ/W9LJl+I/NyBuJXgQ3KSoceOJLZgRdyOAiLDWWWta8iR21aTliwLf4iZQMnqNcqxuf56B0qXLQgxBsgPcAWV7kCerDB1G8RPKo7+o9/wD/xAAZEAEBAQEBAQAAAAAAAAAAAAABIREAEDH/2gAIAQEAAT8hGBP/AL5RDjR7IBIRWNQwA82U9pb2PAgoUYFVEJnNQsToG+DyJLLz/9oADAMBAAIAAwAAABDbH//EABoRAQACAwEAAAAAAAAAAAAAAAERIQAxUWH/2gAIAQMBAT8QIe2UCGF7QU0KIcFATMG++5//xAAZEQEBAAMBAAAAAAAAAAAAAAABEQAh8DH/2gAIAQIBAT8QVOEAIiImcTZoVqkDu9z/xAAbEAADAAIDAAAAAAAAAAAAAAAAAREQIUFxsf/aAAgBAQABPxA2NI4tGONPgz166A0qNUHndWQhpipxMjorDNYwGbdJl1Ry+l68f//Z'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"docker basic docker compose","title":"","src":"/static/d86e4a390573a9521bc71c5e28409990/2fa64/docker-basic-docker-compose.jpg","srcSet":["/static/d86e4a390573a9521bc71c5e28409990/953fe/docker-basic-docker-compose.jpg 500w","/static/d86e4a390573a9521bc71c5e28409990/0a251/docker-basic-docker-compose.jpg 1000w","/static/d86e4a390573a9521bc71c5e28409990/2fa64/docker-basic-docker-compose.jpg 1851w"],"sizes":"(max-width: 1851px) 100vw, 1851px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"지금까지 우리는 도커를 모두 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"CLI 으로 조작"}]},{"type":"text","value":"했다. 물론 간단한 작업은 명령어만 사용해서 조작해도 상관없다. 하지만 컨테이너를 실행할때마다 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"모든 옵션"}]},{"type":"text","value":"을 넣어주고, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"환경변수를 입력"}]},{"type":"text","value":"해주는 것은 귀찮다. 이를 해결하기 위해 도커에서는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커 컴포즈 (Docker Compose)"}]},{"type":"text","value":" 라는 것을 제공한다. 도커 컴포즈는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"여러 컨테이너를 모아 하나의 어플리케이션을 구성"}]},{"type":"text","value":"할 때 사용된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커 컴포즈는 도커 데스크톱을 설치하면 기본으로 제공된다. 리눅스 환경인 경우 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.docker.com/compose/install/"},"children":[{"type":"text","value":"도커 공식 웹사이트"}]}]},{"type":"text","value":" 를 참고하여 설치하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"버전확인"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"아래의 명령을 입력하여 도커 컴포즈 버전이 출력되면 제대로 설치가 되었다는 의미이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker-compose"}]},{"type":"text","value":" version\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker-compose"}]},{"type":"text","value":" version "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1.29"}]},{"type":"text","value":".2, build 5becea4c\ndocker-py version: "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5.0"}]},{"type":"text","value":".0\nCPython version: "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3.9"}]},{"type":"text","value":".0\nOpenSSL version: OpenSSL "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1.1"}]},{"type":"text","value":".1h  "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"22"}]},{"type":"text","value":" Sep "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2020"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"MySQL 컨테이너 실행하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번엔 도커 컴포즈를 이용하여 Wordpress 서버를 실행해볼 것이다. 일단, MySQL 컨테이너를 실행해보자. 도커 컴포즈 설정 파일은 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"YAML 포맷"}]},{"type":"text","value":"을 사용하여 작성한다. 적당한 디렉토리에서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker-compose.yml"}]},{"type":"text","value":" 파일을 생성하고 아래의 내용을 입력해보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"version"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'3'"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# docker-compose 파일 규격 버전"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"services"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"mysql-db"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 컨테이너 이름"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"image"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" mysql"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5.7"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 이미지"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"volumes"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# -v 옵션"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" ./mysql"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"/var/lib/mysql\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"environment"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# -e 옵션"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"MYSQL_ROOT_PASSWORD"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" wordpress\n      "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"MYSQL_DATABASE"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" wordpress\n      "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"MYSQL_USER"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" wordpress\n      "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"MYSQL_PASSWORD"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" wordpress"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"첫번째로 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"version"}]},{"type":"text","value":" 는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커 컴포즈 파일의 규격버전"}]},{"type":"text","value":"을 명시한다. “3” 을 입력하였으므로, 3.X 버전대의 가장 최신 버전을 사용하게 된다. 관련된 자세한 내용은 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.docker.com/compose/compose-file/compose-versioning/"},"children":[{"type":"text","value":"도커 공식 웹사이트의 가이드"}]}]},{"type":"text","value":" 문서를 참고하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그 아래로는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"services"}]},{"type":"text","value":" 를 명시하게 된다. "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"서비스란 도커 컴포즈에서 컨테이너"}]},{"type":"text","value":"를 의미한다. 우리는 MySQL 의 서비스 이름을 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"mysql-db"}]},{"type":"text","value":" 로 정했다. 컨테이너 이름 다음으로 올 것은 우리가 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker run"}]},{"type":"text","value":" 을 실행하며 넣어준 여러 옵션을 YAML 포맷으로 넣어주면 된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker-compose.yml"}]},{"type":"text","value":" 이 있는 디렉토리에서 터미널로 아래 명령을 입력하여 컨테이너를 실행하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$ docker-compose up"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이미지를 Pull 하고 컨테이너가 실행되면 성공이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"M1 맥북 사용자는 위 명령이 제대로 작동하지 않을 것 이다. 맥북 사용자는 도커 컴포즈 파일의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"environment"}]},{"type":"text","value":" 옵션 아래에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"platform: linux/x86_64"}]},{"type":"text","value":" 를 추가하자."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Wordpress 컨테이너 실행하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Wordpress 를 실행할 새로운 서비스를 추가하자. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker-compose.yml"}]},{"type":"text","value":" 에 아래 내용을 이어서 작성하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"services"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# ..."}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"wordpress"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"image"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" wordpress"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"latest\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"volumes"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" ./wordpress"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"html"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"/var/www/html\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"ports"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" 3000"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"80"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"restart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" always\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"environment"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"WORDPRESS_DB_HOST"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" mysql"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"db"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3306"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"WORDPRESS_DB_USER"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" wordpress\n      "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"WORDPRESS_DB_PASSWORD"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" wordpress"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"다시 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker-compose up"}]},{"type":"text","value":" 명령으로 실행해보자. 그리고 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"localhost:3000"}]},{"type":"text","value":" 에 접속하여 워드프레스가 제대로 동작하는지 확인해보자. 워드프레스 설치와 사용방법은 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://wordpress.org/support/article/how-to-install-wordpress/"},"children":[{"type":"text","value":"워드프레스 공식 문서"}]}]},{"type":"text","value":" 를 확인하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그런데, 환경변수를 살펴보면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"WORDPRESS_DB_HOST"}]},{"type":"text","value":" 에 IP 주소나 도메인 대신 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"mysql-db"}]},{"type":"text","value":" 를 넣은 것을 알 수 있다. "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"IP 주소를 넣어주지 않았는데, 어떻게 Wordpress 와 MySQL 은 정상적으로 통신"}]},{"type":"text","value":"할 수 있는 것 일까? 이를 이해하기 위해서는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커 네트워크"}]},{"type":"text","value":"에 대해 이해해야한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"도커 네트워크"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커는 컨테이너에 내부 IP 를 순차적으로 할당한다. 이 IP 는 컨테이너가 실행될 때 마다 달라진다. 하지만 우리가 워드프레스와 MySQL 컨테이너를 함께 실행한 것을 생각해보자. 워드프레스의 환경변수를 MySQL 컨테이너를 실행할때마다 바꿔주는 것은 매우 번거로운 일이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커 네트워크는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"실행 중인 각각의 컨테이너를 연결하는 논리적인 네트워크"}]},{"type":"text","value":"이다. 같은 네트워크로 연결된 컨테이너는 별도의 IP 를 지정해줄 필요 없이 컨테이너의 이름만으로 손쉽게 통신할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그런데, 우리는 별도의 네트워크를 생성하고 설정한 적이 없다. 그렇다면 어떻게 MySQL 과 Wordpress 컨테이너끼리 통신을 하는것일까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"기본적으로 도커 컴포즈를 사용해 여러 컨테이너를 올리면, 사용자가 별도의 네트워크를 생성하고 설정하지 않아도 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<디렉토리 이름>_default"}]},{"type":"text","value":" 라는 네트워크를 생성하고 컨테이너를 연결한다. 따라서 최초로 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker-compose up"}]},{"type":"text","value":" 하였을 때, 아래 메세지가 출력되는 것을 확인해볼 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"Creating network "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<디렉토리 이름>_default\""}]},{"type":"text","value":" with the default driver"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커 네트워크에 대한 깊은 내용은 별도의 포스팅으로 다뤄보겠다. 지금은 도커 컴포즈를 사용하며, 컴포넌트 간 통신이 네트워크를 통해 이뤄지고 있다는 것만 이해하고 넘어가자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"도커 이미지 빌드하기 (Dockerfile)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"지금까지는 다른사람이 빌드해 놓은 이미지를 다운로드 받아서 사용하기만 했다. 이제는 우리가 직접 간단한 node.js 앱을 작성하고, 도커 이미지로 빌드해보자. node.js 를 배운적이 없다면, node.js 부분은 이해하지 않고 그냥 따라서 작성만해도 괜찮다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"node.js 프로젝트 생성"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"일단 도커라이징할 node.js 서버를 아주 간단하게 작성해보자. 적절한 디렉토리를 생성하고 아래 과정을 따라오자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" init "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"&&"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" express"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"먼저 node.js 앱을 초기화해주고, 웹서버 작성을 위한 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"express"}]},{"type":"text","value":" 프레임워크를 설치한다. 그 다음 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"server.js"}]},{"type":"text","value":" 파일을 생성한 다음 아래 코드를 그대로 작성한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" express "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"require"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'express'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"PORT"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"8080"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"HOST"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'0.0.0.0'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" app "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"express"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\napp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"get"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"req"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" res"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  res"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"send"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Hello Docker'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\napp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"listen"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"PORT"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"HOST"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\nconsole"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","template-string"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"Running on http://"}]},{"type":"element","tagName":"span","properties":{"className":["token","interpolation"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"${"}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"HOST"}]},{"type":"element","tagName":"span","properties":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","interpolation"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"${"}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"PORT"}]},{"type":"element","tagName":"span","properties":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우리가 빌드할 간단한 서버가 완성되었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Dockerfile 작성"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이미지를 빌드하기 위해서는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Dockerfile"}]},{"type":"text","value":" 이라는 파일을 작성해야한다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Dockerfile"}]},{"type":"text","value":" 은 도커 이미지를 빌드하기 위한 스크립트 파일이다. 도커는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Dockerfile"}]},{"type":"text","value":" 을 읽고 순차적으로 명령을 실행하여 이미지를 빌드한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"dockerfile"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-dockerfile"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-dockerfile"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 사용할 이미지 입력"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":" node:16.13.2"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 작업디렉토리 설정"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WORKDIR"}]},{"type":"text","value":" /usr/src/app"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 앱 의존성 설치"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"COPY"}]},{"type":"text","value":" package*.json ./"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"RUN"}]},{"type":"text","value":" npm install"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 앱 소스 추가"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"COPY"}]},{"type":"text","value":" ./server.js ./server.js"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"EXPOSE"}]},{"type":"text","value":" 8080"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"CMD"}]},{"type":"text","value":" [ "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"node\""}]},{"type":"text","value":", "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"server.js\""}]},{"type":"text","value":" ]"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":" 에 명시된 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"이미지를 베이스"}]},{"type":"text","value":"로 작성된 스크립트가 순차적으로 실행되며, 새로운 이미지가 빌드된다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"WORKDIR"}]},{"type":"text","value":" 을 통해 컨테이너의 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"작업 디렉토리"}]},{"type":"text","value":"를 설정했다. 모든 명령이 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"WORKDIR"}]},{"type":"text","value":" 경로를 기준으로 실행된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"COPY"}]},{"type":"text","value":" 를 통해 npm 패키지 관련 파일을 복사하였고, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"RUN"}]},{"type":"text","value":" 명령을 통해 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"npm install"}]},{"type":"text","value":" 명령을 직접 실행해 node.js 의 의존성 모듈을 설치하였다. 또한 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"COPY"}]},{"type":"text","value":" 명령을 다시한번 사용해 현재 디렉토리의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"server.js"}]},{"type":"text","value":" 를 이미지로 복사한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"EXPOSE"}]},{"type":"text","value":" 를 통해 외부로 8080 포트를 노출한다. 마지막으로 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"CMD"}]},{"type":"text","value":" 를 통해 컨테이너가 실행된 직후 실행될 명령도 정의해주면 끝이다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"RUN"}]},{"type":"text","value":" 은 이미지 빌드 단계에서 실행되는 명령이고, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"CMD"}]},{"type":"text","value":" 는 컨테이너가 실행된 이후 실행될 명령을 정의한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Dockerfile 은 파일이므로 Git 을 통해 관리 가능하여 이미지 변화 히스토리를 추적할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"자세한 Dockerfile 사용 방법을 알고싶다면, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.docker.com/engine/reference/builder/"},"children":[{"type":"text","value":"도커 공식 웹사이트 문서"}]}]},{"type":"text","value":" 를 참조하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"이미지 빌드하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" build "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" node-app ./"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 명령을 입력하여 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Dockerfile"}]},{"type":"text","value":" 을 기반으로 이미지를 빌드할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-t node-app"}]},{"type":"text","value":" 은 이미지의 이름을 설정하는 옵션이며, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"./"}]},{"type":"text","value":" 은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Dockerfile"}]},{"type":"text","value":" 의 경로를 나타낸다. 빌드 과정은 다소 오랜 시간이 소요되니 조금 기다리자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" images\n\nREPOSITORY              TAG              IMAGE ID       CREATED          SIZE\nnode-app                latest           401a74e859b2   "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"39"}]},{"type":"text","value":" seconds ago   855MB\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":"."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 명령으로 성공적으로 이미지가 빌드되어 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"node-app"}]},{"type":"text","value":" 이미지가 조회되는지 확인해보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" run "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-p"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3000"}]},{"type":"text","value":":8080 node-app"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이미지가 조회된다면, 위 명령으로 도커 컨테이너를 실행할 수 있을 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"도커 이미지의 레이어 구조"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"마지막으로 도커 이미지의 구조에 대해서 가볍게 이해하고 넘어가자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 675px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/97c622c247ef510b06fee1aff4ec890f/a7480/docker-basic-docker-image-layer.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 69.4%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAcEBQj/xAAVAQEBAAAAAAAAAAAAAAAAAAAFBv/aAAwDAQACEAMQAAAB1e65jSTlHaWwZV//xAAbEAABBQEBAAAAAAAAAAAAAAAFAgMEBgcAAf/aAAgBAQABBQKdoVpS5n9vMnSiH4rfhPMxCF1OlDwMjv/EAB4RAAICAgIDAAAAAAAAAAAAAAECAwQREgUQISLR/9oACAEDAQE/AaVHmo70UlieVqyuS6m2zAjUgemxB84OMfev/8QAHREAAgMAAgMAAAAAAAAAAAAAARECAyEABBMxYf/aAAgBAgEBPwG+/qSolGuMRYQEfF9D0JYwC89ojDz/xAAnEAACAQIFAwQDAAAAAAAAAAABAgMEEQUSEyExABQiECMkQSUysv/aAAgBAQAGPwKRO+w9kSeZAHwrD2sEkcD96yMXsLbFrjnqalxerpaiAUTSRRxUFNB5rPEhzNT1FRcabPtsvG4YBTZCqrzZUYD+em/KYxqNJqtbscnvu5IHxc3ieL/X3ffpsQoq7EKgyQtSslZ21rCWOUsNCGM5s0YAuxGUnxvv6f/EABoQAQEAAwEBAAAAAAAAAAAAAAERACExQVH/2gAIAQEAAT8hcIDdgvmCSoIA4x8qUICmdrwORdl66EQ3D5DEuG9RCAV0orw2RWdQv3TQieB0DP/aAAwDAQACAAMAAAAQy8//xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAh/9oACAEDAQE/EEjYlbVZo0aOQjBv/8QAGBEBAQADAAAAAAAAAAAAAAAAAREQITH/2gAIAQIBAT8Qou5SNHOyk9URCwf/xAAbEAEBAQEAAwEAAAAAAAAAAAABEQAhQWGR0f/aAAgBAQABPxCweJwvnld0oEwo1tnrAJPQd65l2h2JJBUCywDxud+wp3jwg7IzKKwOcFiG0AtD2h7+v7v/2Q=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"docker basic docker image layer","title":"","src":"/static/97c622c247ef510b06fee1aff4ec890f/a7480/docker-basic-docker-image-layer.jpg","srcSet":["/static/97c622c247ef510b06fee1aff4ec890f/953fe/docker-basic-docker-image-layer.jpg 500w","/static/97c622c247ef510b06fee1aff4ec890f/a7480/docker-basic-docker-image-layer.jpg 675w"],"sizes":"(max-width: 675px) 100vw, 675px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커 이미지는 위 그림과 같이 여러개의 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Layer 가 겹겹히 쌓여있는 구조"}]},{"type":"text","value":"로 되어있다. 과연 정말인지 직전에 설치해둔 Wordpress 이미지로 확인해보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" inspect wordpress"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"inspect"}]},{"type":"text","value":" 명령은 Low Level 에서 컨테이너 혹은 이미지의 정보를 가져오는 명령이다. 굉장히 긴 무언가가 출력될 텐데, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Layers"}]},{"type":"text","value":" 라는 부분만 살펴보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"\"Layers\": [\n\t\"sha256:f9b44a5812beb5294f1cf3b76cf9c29f1e53bf8eec7cece1b002fc5b5fbae8f2\",\n\t\"sha256:243aed6552599c7fb8a7939cef784eb2f84ce49708cefe11cf1057f2a27ba42f\",\n\t\"sha256:4d66bbee2601b1b779aedfe699c91920d637a5f51f91e87c1c04c3bbe9be34a4\",\n\t\"sha256:45dad0035575a38c893da7e0e9f394f2b4a2407b9694e21b53cbdf462c7a8a5b\",\n\t\"sha256:a8ccc2628dd85db2b3648ebddef84047a402104dbeeb14958514fd136aa19813\",\n\t\"sha256:8857c07576848e6d0b2416c84c561b0591536ccd6900cc7b653bdc2186025145\",\n\t\"sha256:6a7f6ea65ec22a59eb3361c2944edfee08d042ec49fbcbbadd8ac1516ac53b04\",\n..."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위와 같이 이미지가 굉장히 많은 레이어로 구성되어 있는 모습을 살펴볼 수 있다. 도커를 통해 내려받은 이미지를 구성하는 레이어는 모두 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"읽기 전용"}]},{"type":"text","value":"이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1813px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/5f06d8e9cb2fa58439ca928ef7594dd0/aae08/docker-basic-docker-image-build-process.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 39.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABJklEQVR42nVQa28jIQzc//8Xt21OUdvbZAPGT8zySMldFfVLjT0aLA2MZrn/Xr32w+qR/6HV/0tvxR7tE5cxRu/9G+cIdUoDYTAVNPhUOGM8I+82lanIWS7vuv/h7ZphEbWEFAETMRP3BEdKJYROWIBaGxlSzXn+3Frbcjzx33fbpz4WXiCRWL7sgTUDpOEu5kA8Wi2orY+YMHuZYlFNzqRK2a453RyXmAhJzh9bRIYI3R3FrhF7qw4yxZcQ2ax6t5xRCd5YQt7LtCcLqwVIn9seAGnaVnFMHkNTOdhcK91Ecfo5Wu98mLhRMSwyY1pmDEet2zVMa98pqwyIDzLuvQ3cVMEft3F/nB+1PNl8aaKIvLy+zt627bl8Endf1/V0Oq0vKzN/ASlNzOCacgWYAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"docker basic docker image build process","title":"","src":"/static/5f06d8e9cb2fa58439ca928ef7594dd0/aae08/docker-basic-docker-image-build-process.png","srcSet":["/static/5f06d8e9cb2fa58439ca928ef7594dd0/0eb09/docker-basic-docker-image-build-process.png 500w","/static/5f06d8e9cb2fa58439ca928ef7594dd0/1263b/docker-basic-docker-image-build-process.png 1000w","/static/5f06d8e9cb2fa58439ca928ef7594dd0/aae08/docker-basic-docker-image-build-process.png 1813w"],"sizes":"(max-width: 1813px) 100vw, 1813px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 이미지처럼 도커 이미지는 Dockerfile의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":" 에 명시한 베이스 이미지 위에 또 다른 레이어가 얹혀져 빌드된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"도커 허브에 배포하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그런데, 우리가 다운로드한 이미지는 어디서 오는 것 일까? 우리가 다운로드한 이미지는 모두 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커 레지스트리 (Docker Registry)"}]},{"type":"text","value":" 로부터 온다. 도커 레지스트리란 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"도커 이미지를 관리하는 저장소"}]},{"type":"text","value":"를 의미한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커 레지스트리 중 가장 유명한 것은 도커에서 공식으로 운영하는 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://hub.docker.com/"},"children":[{"type":"text","value":"도커 허브 (Docker Hub)"}]}]},{"type":"text","value":" 이다. 이제, 우리가 빌드한 이미지를 도커 허브에 배포하여 누구나 이미지를 Pull 받을 수 있도록 해보자. 일단 가장 먼저 도커 허브에 가입해야한다. 도커 허브 가입 과정은 생략한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도커 허브에 가입했다면, 이제 본격적으로 도커 허브에 우리의 이미지를 배포해보자. 그 전에 이미지의 이름을 조금 수정할 필요가 있다. 도커 허브에 이미지를 배포할 때에는 만들어둔 이미지의 이름을 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"사용자명(소문자)/이미지명:태그"}]},{"type":"text","value":" 형태로 바꿔야한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" tag node-app "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"사용자명"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":"/node-app"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 명령으로 이미지 이름을 변경하자. 반드시 사용자명은 모두 소문자로 입력하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" login"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위와 같이 입력하여 도커 허브에 먼저 로그인하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" push "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"사용자명"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":"/node-app"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 명령으로 도커 허브의 자신의 레포지토리에 이미지를 업로드할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" rmi "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"사용자명"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":"/node-app\n$ "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"docker"}]},{"type":"text","value":" run "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"사용자명"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":"/node-app"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 제대로 우리의 이미지가 업로드 됐는지 확인하기 위해 로컬에 설치된 이미지를 제거하고, 도커 허브에 등록된 이미지를 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"run"}]},{"type":"text","value":" 해보자. 제대로 node.js 앱이 실행된다면 성공이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"참고"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.docker.com"},"children":[{"type":"text","value":"https://docs.docker.com"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://aws.amazon.com/ko/docker"},"children":[{"type":"text","value":"https://aws.amazon.com/ko/docker"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://azure.microsoft.com/ko-kr/overview/what-is-a-container/#overview"},"children":[{"type":"text","value":"https://azure.microsoft.com/ko-kr/overview/what-is-a-container/#overview"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.nvidia.com/ko-kr/blog/%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%B0%8F-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%97%90%EC%84%9C-nvidia-nsight-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/"},"children":[{"type":"text","value":"https://developer.nvidia.com/ko-kr/blog/%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%B0%8F-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%97%90%EC%84%9C-nvidia-nsight-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"이미지 출처"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://pixabay.com/ko/photos/%ed%8f%ac%ed%8a%b8-%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88-%ec%84%a0%eb%b0%95-%eb%b0%a4-7418239/"},"children":[{"type":"text","value":"https://pixabay.com/ko/photos/%ed%8f%ac%ed%8a%b8-%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88-%ec%84%a0%eb%b0%95-%eb%b0%a4-7418239/"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"본 포스팅은 도커에 대한 자세한 개념, 도커 기본 명령어, 컨테이너 실행 실습, 도커 컴포즈, 도커 이미지 빌드, 도커 허브에 이미지 배포 등 전반적인 도커 기초에 대한 내용을 다룬다. 도커 (Docker…","timeToRead":15,"frontmatter":{"title":"이론과 실습을 통해 이해하는 Docker 기초","userDate":"25 September 2022","date":"2022-09-25T12:00:00.000Z","tags":["docker"],"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSklEQVR42rWSy0rDQBSGs3crPoeP4tpX8ClcCm7cCLopitSFLrxU8FYJrVFQK4Ta0oto2swkrbTapDF2mkl+c2mqcSfVgcM5M3Pm+zlnjoA/XsLPA9fzQguWNynQG4Ec1wX3bSJgDCs2CBa2j1BuUhDzAwZzIhHOx0Lc9cAcDjeIeeQTwLhESdExs7wLYXETczs5zGcKuCMv4Z1CKHpvr6CaBpUQaBoFbbVQVxogemvMSAAPio+Y3RAxtX6J6dUsTstPYSctx8WSTLH33MVaWUe61kaGGKgoKtL7GayktmDZdrLkoJSmSnBfqSIlybguVdE3DFjvNhxf74wayGomTnwv6iZuOza6Zh+lWh35mwIGjEXAuHc900/OSzgWc5CLDzg8v/D3V2h3uoke/+pTBmwYKgXGhsPQvsYpyIl8HHujd9/FhH8f7EmBnyIOS24kZ/CsAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/40a730f43ffb6c029e36c9be353f9f92/afa5c/docker-basic.png","srcSet":"/static/40a730f43ffb6c029e36c9be353f9f92/0dee1/docker-basic.png 750w,\n/static/40a730f43ffb6c029e36c9be353f9f92/8beaa/docker-basic.png 1080w,\n/static/40a730f43ffb6c029e36c9be353f9f92/d079a/docker-basic.png 1366w,\n/static/40a730f43ffb6c029e36c9be353f9f92/afa5c/docker-basic.png 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/40a730f43ffb6c029e36c9be353f9f92/ba386/docker-basic.avif 750w,\n/static/40a730f43ffb6c029e36c9be353f9f92/8adb1/docker-basic.avif 1080w,\n/static/40a730f43ffb6c029e36c9be353f9f92/dc6b3/docker-basic.avif 1366w,\n/static/40a730f43ffb6c029e36c9be353f9f92/031aa/docker-basic.avif 1920w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/40a730f43ffb6c029e36c9be353f9f92/a66aa/docker-basic.webp 750w,\n/static/40a730f43ffb6c029e36c9be353f9f92/65dd5/docker-basic.webp 1080w,\n/static/40a730f43ffb6c029e36c9be353f9f92/4fad6/docker-basic.webp 1366w,\n/static/40a730f43ffb6c029e36c9be353f9f92/c512e/docker-basic.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5625}}},"author":[{"name":"4기_후디","bio":"우아한테크코스 4기 후디(조동현)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#b8a888","images":{"fallback":{"src":"/static/e88c3ca6c1dcd01f0a3a4db5b3373c50/a8b52/hudi.png","srcSet":"/static/e88c3ca6c1dcd01f0a3a4db5b3373c50/f31ef/hudi.png 40w,\n/static/e88c3ca6c1dcd01f0a3a4db5b3373c50/1f8a1/hudi.png 80w,\n/static/e88c3ca6c1dcd01f0a3a4db5b3373c50/a8b52/hudi.png 120w","sizes":"100vw"},"sources":[{"srcSet":"/static/e88c3ca6c1dcd01f0a3a4db5b3373c50/e73fe/hudi.webp 40w,\n/static/e88c3ca6c1dcd01f0a3a4db5b3373c50/61ca6/hudi.webp 80w,\n/static/e88c3ca6c1dcd01f0a3a4db5b3373c50/507b0/hudi.webp 120w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}],"source":null}},"relatedPosts":{"totalCount":2,"edges":[{"node":{"id":"c536cdd6-85e7-5a17-8fd8-81e6eebc61dc","timeToRead":15,"excerpt":"본 포스팅은 도커에 대한 자세한 개념, 도커 기본 명령어, 컨테이너 실행 실습, 도커 컴포즈, 도커 이미지 빌드, 도커 허브에 이미지 배포 등 전반적인 도커 기초에 대한 내용을 다룬다. 도커 (Docker…","frontmatter":{"title":"이론과 실습을 통해 이해하는 Docker 기초","date":"2022-09-25T12:00:00.000Z"},"fields":{"slug":"/post/2022-09-20-docker-basic/"}}},{"node":{"id":"e678925c-ad53-5c46-80e9-b96ffc596360","timeToRead":3,"excerpt":"…","frontmatter":{"title":"docker 이해하기","date":"2021-08-14T12:00:00.000Z"},"fields":{"slug":"/post/2021-08-14-docker/"}}}]}},"pageContext":{"slug":"/post/2022-09-20-docker-basic/","prev":{"excerpt":"…","timeToRead":3,"frontmatter":{"title":"트랜잭션 내에 외부 리소스 요청이 담기게 되면 어떤 문제가 발생할까?","tags":["transactional"],"date":"2022-09-20T00:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+UlEQVR42p2TO6qEMBSGU1i4CxvBQlyCNq5EcQWKjbYWLkZFcQVWFpbuQAvdgCC+/ssJzGUu3HEmcyCcPyT5ch4Jg6Bd13W7zu4OHseBdV35vCgK1HX99kL2KoJxHOG6LjzPg+M4MAwDjDFEUfRdhNu2YZ5nDiWQLMuwLAvDMNym/i+QUiXLsozDdF2Hqqpc53n+Z89HwH3fuY/jmEPCMPzV5J/3CEVYVRWHKIoCTdO4LstSPMJHfbqu4+lS/Qhm2zbatsWyLOJNIUvTFJIkwTRNJEmCIAjg+z6maXrZGPbuAfd9j6ZpuD7PU/wdPtsDQHDSVDcad7/lB9e0E9L6AdueAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/78909983daa4e23be69f5f64d315c228/afa5c/external-in-transaction.png","srcSet":"/static/78909983daa4e23be69f5f64d315c228/0dee1/external-in-transaction.png 750w,\n/static/78909983daa4e23be69f5f64d315c228/8beaa/external-in-transaction.png 1080w,\n/static/78909983daa4e23be69f5f64d315c228/d079a/external-in-transaction.png 1366w,\n/static/78909983daa4e23be69f5f64d315c228/afa5c/external-in-transaction.png 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/78909983daa4e23be69f5f64d315c228/a66aa/external-in-transaction.webp 750w,\n/static/78909983daa4e23be69f5f64d315c228/65dd5/external-in-transaction.webp 1080w,\n/static/78909983daa4e23be69f5f64d315c228/4fad6/external-in-transaction.webp 1366w,\n/static/78909983daa4e23be69f5f64d315c228/c512e/external-in-transaction.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5625}}},"author":[{"name":"4기_매트","bio":"우아한테크코스 4기 매트(최기현)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAASABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAcGBQj/xAAXAQADAQAAAAAAAAAAAAAAAAAEBQYH/9oADAMBAAIQAxAAAAHwNW+Pc5xxpWRA0UHygj1a2htB/wD/xAAeEAABBAEFAAAAAAAAAAAAAAACAwQFBgABERIUFf/aAAgBAQABBQI0h3Tpi/jwkZxiq3IDHWG2W5lJEwubZBsxEeumZ6ZWW6CrL//EACcRAAIBAwIDCQAAAAAAAAAAAAECAwQFEQAGEiExExQiNTZ0hLK0/9oACAEDAQE/AbHZKyvoJrrL3k00cz0yvwhYBKsccjGSU8vCsgPDhcdSSOWn2pe4nZBQPKFOBJG8TxuOWGRu1XiVhgg4GQemti+lNtfJ/XUavvnNy93L9hr/xAAoEQABAgUCBAcAAAAAAAAAAAABAgMABAURIRIyEyIxQTQ1cXOBs8H/2gAIAQIBAT8BrEyxKuNyjDDPEW0HSSVLcCSpSQEp7ZTvJV1294bqMloRd2x0i4UnINhg8pz8xXPNKh6tfU1En4Vj20/kf//EACgQAAICAQMDBAEFAAAAAAAAAAECAxESAAQhExQjBTFBUSJCYXGBkf/aAAgBAQAGPwIgDhTX1Z/n++a03qG5y2+7ISeDYzMsTvscSWk6Lxl3lkODwoJFHSVswWZQNl1+WeBZVrjxy+VBXGJUNjj8Vwa1tN2yCWOGWZpAyCU9FoWjd1VuOqA1o36Xog3rbR7HfzYRyxSy+ndGnZkFW7nyLEwJVkpgcryHtpIN5CQ0Xjhwk47ZQBCPyN2g8X7hAfmtbs4i+oeaF8LY/wAPtqVgzZZsMrN1285q/er5r71uGlhikbvXGUkaOa7ba8WwJrk8a//EABkQAQEBAQEBAAAAAAAAAAAAAAERIQBBMf/aAAgBAQABPyHXHA0DFVR0wBqBJy1BylgCX+zwoOtULInUQ0YEwSHhY/2tBZ/GWIA76vh6FiqozTmLzwedKApbXpYoIcqJ0AwssRR46b0AWGKZZOABUBfvFpxQkoCEKFSq+9//2gAMAwEAAgADAAAAEAzvff/EABkRAQEBAAMAAAAAAAAAAAAAAAERIQAQof/aAAgBAwEBPxB3CaZNutgwA2gWIPXjOtqHgYs56urJ/8QAGxEBAQADAAMAAAAAAAAAAAAAAREAITEQUfD/2gAIAQIBAT8Q38GcnolNOBEg45JhVkBDkaJW4Vt8J/q+s//EABgQAQEBAQEAAAAAAAAAAAAAAAERACEx/9oACAEBAAE/EDtgmSgxiSgigbmNWTFUiwKykAI8raRWipfscblBsxYI1JzkgEJoz9RJEiqYX4jG+FXqkNgqsyiMkt0URjoCXOC4w4OijnIggBxH+AMNYCAAYFL/AP/Z"},"images":{"fallback":{"src":"/static/d0383ede10aebc9055f7d5902f2ac4ea/8b77d/mat.jpg","srcSet":"/static/d0383ede10aebc9055f7d5902f2ac4ea/8b77d/mat.jpg 592w","sizes":"100vw"},"sources":[{"srcSet":"/static/d0383ede10aebc9055f7d5902f2ac4ea/e9a6e/mat.webp 592w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.9104729729729729}}}}]},"fields":{"layout":"post","slug":"/post/2022-09-20-external-in-transaction/"}},"next":{"excerpt":"이 글은 Google Chrome 개발자 Steve Kobes의 Life of Pixel영상을 보고 정리한 내용입니다. 사용된 이미지들은 Steve Kobes의 허락\n하에 slide show에서 가져왔습니다. 이 글의 목표 어떤 과정을 통해 HTML…","timeToRead":6,"frontmatter":{"title":"Life of Pixel","tags":["composite","layer","렌더링"],"date":"2022-09-26T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACUUlEQVR42qWQ+0/SURjG+Wf8m/SPSNQ1HSutsSAtGkqTkoqR1dpSyel0DlzIxSlOrqLcNC6RgsrUuDi5fvp+j7Nwc/3Se/bsfc55n/O87zmKxM4xMuLhwp/cyf/W8yInI6fEQvlbtev9dV3RadhpFA0eCtFe4Kfg36Nn7PpzhLbSpGLn4iwaPBL6/d1TgWTkBEUqdobTHmB+ZlVc+mT5yjPtBHqdEdOradQjT1n/FsK3kWRq8j3T72b4YJ7lgeoxM5+XOEpd8tFixWgwk0n8kg3PWbP5GNXoWZ53YTJOM/pEz5LEX+rf0q8ckup+XKshxnVTWN584cXoJPrnr/G6YgS9aR491DJ0f5hNV1R6ckT6A+lpHkeY9bUddrazkmifdPKYsC/JutNHJHhAKlFg0xPE5dhiL5yWkCGzf0JwO04imuMgdsj2RgxFLFRARjJSlP6hKPFjdgNZGo06zWYDObzeTdwet+CtVkvktrSarabgDocDj8dFLlNEcVooI+PkqHSNfInDXBGtRsvI8DDxeAKNRsPi4iKJZIKJ8QnmZueESe+9XtxuN3a7nb7+PqqVGgo6ot1ui3xxccHAwACDg4PYbDasVisGg0GaukFXVxdmsxmdTkd3dzcrKyv4/X6USqWYXiF73KDVaotcrV7S09ODWq0mnU5jMpkwGo0EAgEsFgsLCws4nU7B5ZAbqlQqstkfd09YLpcZGxsjn8+Ls6urK2q1moC8lydtNptS46rQ1ut1oSkWi7cNb0IWy6JKpSIu/AuyRkapVBIN7zT8n/gNohpBMRjQ4aoAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/2b0a5b085c18b03f9da9d19388f94f50/42ed9/life-of-pixel.png","srcSet":"/static/2b0a5b085c18b03f9da9d19388f94f50/3c3ba/life-of-pixel.png 750w,\n/static/2b0a5b085c18b03f9da9d19388f94f50/42ed9/life-of-pixel.png 786w","sizes":"100vw"},"sources":[{"srcSet":"/static/2b0a5b085c18b03f9da9d19388f94f50/c2337/life-of-pixel.webp 750w,\n/static/2b0a5b085c18b03f9da9d19388f94f50/dbf06/life-of-pixel.webp 786w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5776081424936387}}},"author":[{"name":"4기_병민","bio":"우아한테크코스 4기 병민(윤병인)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC8UlEQVR42q2Ua0iTYRTH541QuuAVbc55mymZaMu5uekSUSJRI1lay+pDOEuWYcOkTV+8z+ElDO9Sm5bipqKmYV4wbYrdhEiSLvqhTwVSUFGJ2/vP6QwDnTM68MDDy///e57znHNeCsV0WPD5fGsmk2ljWIb9yjdLyj+GFUEQm5oFAoHVTsEWxmXNYDACAgP94wL9GXF+fl6hbm67nYwaS6PGLBjF15fmcyTk0ACXzVrm8zjgczkkj8MCJ5T5MTgwoNLe3n7fRr1JmAOFsvfgAZ8ZHjsUEeFh+kgum4yK5JHRR3lkTBRfHxnOgp83vc/wLNtBVwWeVNdUursbXF2cftFpVNLbiw4/hg8YPl7wonvoPWjUJW86FVRX56SNvi2BDg72pZwgBvoVmbppVSlGm0vQdTMXzfmZkIuFEMaE6TypLtjv4lRi9FmbBFrZ7CqSnI7FjLJAN9xQgC+TauDtKL5Od+GVugrv2ot18bxg2NnZ5Zl1Q5qLY3px2gn0Vl1fbivNwmQTgU9DjRirk6FNLoGmOEOfEs3EijR2S+B6zy3er6B25F2YVxGX0FNbRErOJ6K7MgdTtwvRIE1DzQ0ROVAthSie++1yIj94zbtJT64Dfzxtp41XiRe7FNcwN3iP7G6qwsidcjxrkaNRkYe6omyMqyqXVTnnoK2+Ijd4oBZYmWyb0YqM/sHyTLx+0KJfGL6L2bZSvNeU44WmFt9nH2FCWa57WCbCm/bikwa92gRwbbTcKbZDCtHES1U+esvE+ifKQkw350FbL8NojRQjlZk/u3NTm/Fhynb1hqaae/20+vRjVxc0ZVCIkpeS2YchjGRDdDxiaV4tR6dM2LMKAmFp9uglOFL2dMrOPJ5rzUef9KJOmZGi196SYCXVz7KEoJBVIGEe8E8KYp6vc4dUqJ6uz4a2JovUyM5qi06x2FtW1lQYqg7AALZslyTHtkqSYvnGidgx7C/ohrQMe7Vgm4qa86bPG9JsxgjC2tz/33+N3yfTRZzukDXUAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/1433f8cacf09f3065859dc83e5fd95b2/6fc22/by.png","srcSet":"/static/1433f8cacf09f3065859dc83e5fd95b2/6fc22/by.png 421w","sizes":"100vw"},"sources":[{"srcSet":"/static/1433f8cacf09f3065859dc83e5fd95b2/e0af3/by.webp 421w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}]},"fields":{"layout":"post","slug":"/post/2022-09-26-life-of-pixel/"}},"primaryTag":"docker"}},"staticQueryHashes":["2337738035"],"slicesMap":{}}