{"componentChunkName":"component---src-templates-post-tsx","path":"/post/2021-08-28-event-loop/","result":{"data":{"logo":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png","srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png 400w","sizes":"400px"},"sources":[{"srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/65935/tecoble.webp 400w","type":"image/webp","sizes":"400px"}]},"width":500,"height":110}}},"markdownRemark":{"html":"<p>최근 requestAnimationFrame(이하 rAF)과 setTimeout을 공부하면서 브라우저의 싱글 스레드 동작이 정확히 어떻게 이루어지는지 잘 모른다는 생각이 들었다.\n이번 기회에 이벤트 루프의 동작을 공부하고 추가로 rAF와 setTimeout의 차이점까지 알아보자.</p>\n<h2>들어가기 전에</h2>\n<p>들어가기 전에 용어 정리를 해두면 좋을 것 같다.</p>\n<ul>\n<li>프로세스\n<ul>\n<li>운영체제가 프로그램의 실행을 위해 프로그램에 메모리를 할당하는 단위</li>\n</ul>\n</li>\n<li>스레드\n<ul>\n<li>프로세스가 할당받은 메모리를 실행하는 단위. 하나의 프로세스가 여러 스레드로 나뉠 수 있다.</li>\n</ul>\n</li>\n<li>task queue\n<ul>\n<li>콜 스택에 들어가기 전에 setTimeout, 사용자 이벤트 콜백 등이 저장되는 큐</li>\n</ul>\n</li>\n<li>microtask queue\n<ul>\n<li>Promise.then 콜백이 저장되는 큐</li>\n</ul>\n</li>\n</ul>\n<h2>이벤트 루프, 넌 누구냐</h2>\n<p>브라우저 메인 스레드 동작 타이밍을 관리하는 관리자라고 할 수 있다.\n여기서 메인 스레드란 자바스크립트 코드 실행이나 브라우저 렌더링을 맡는 등 브라우저의 주된 동작이 수행되는 곳이다.</p>\n<h2>이벤트 루프가 왜 중요한가요?</h2>\n<p>관리자라고 하니까 중요한 것 같기는 한데 감이 오지 않을 수 있다.\n브라우저 동작 특징을 알아보면서 이벤트 루프가 중요한 이유를 알아보자.</p>\n<h3>1. 브라우저 동작의 대부분이 메인 스레드에서 싱글 스레드로 실행된다.</h3>\n<p>웹 api에서 제공하는 비동기 함수들(ex. fetch, setTimeout)과 워커 종류를 제외한 대부분의 자바스크립트 코드가 메인 스레드라는 곳에서 실행된다. 또한 브라우저 화면을 그리는 렌더링 작업도 이곳에서 실행된다. 이처럼 브라우저의 주요한 동작들이 메인 스레드라는 하나의 싱글 스레드로 동작한다.</p>\n<p>여기서 메인 스레드가 싱글 스레드로 동작하는 것이 중요한 이유는 싱글 스레드에서 하나의 작업을 하고 있다면 다른 작업은 지연시키기 때문이다.\n예를 들어 싱글 스레드의 동작은 한 사람이 여러 가지 일을 동시에 처리할 수 없는 것과 비슷하다. <code class=\"language-text\">게임</code>과 <code class=\"language-text\">식사</code>라는 2개의 작업이 수행되어야 할 때 <code class=\"language-text\">게임</code>을 하고 있다면 <code class=\"language-text\">식사</code> 작업은 지연될 수밖에 없다. 둘 중 하나의 작업이 굉장히 길어진다면 다른 작업은 시작조차 못 할 것이다.</p>\n<p>메인 스레드에서도 마찬가지로, 개발자가 만약 자바스크립트 코드에 무한 루프 코드를 작성한다면 해당 작업이 다른 모든 작업을 지연시키고 메인 스레드에서 무한히 동작할 것이다. 결국에는 브라우저가 먹통이 되는 현상이 발생한다. 사용자 이벤트도 메인 스레드에서 동작하기 때문에 키보드 입력이나 마우스 클릭도 동작하지 않는다. 그러므로 싱글 스레드의 작업 관리는 매우 중요하다고 할 수 있다.</p>\n<p><img src=\"https://media.giphy.com/media/rzgDhQtB1GHM8djEa7/giphy.gif?cid=790b761157d6fcdd39c301704bb8588f03cb14930a9b239e&#x26;rid=giphy.gif&#x26;ct=g\" alt=\"image\"></p>\n<p>F12로 개발자 도구를 열어 <code class=\"language-text\">while(1) {}</code> 을 입력해보자. 브라우저가 먹통이 되는 현상을 경험할 수 있다.(주의 - 프로세스 강제종료 해야 합니다.)\n하지만 다른 브라우저 탭은 잘 동작함을 알 수 있는데 이는 탭마다 다른 프로세스로 동작하기 때문이다.</p>\n<h3>2. 메인 스레드는 이벤트 루프에 의해 관리된다.</h3>\n<p>앞서 언급한 것처럼, 메인 스레드와 같은 싱글 스레드에서 하나의 작업이 오랫동안 실행되어서도 안 되고, 여러 작업 중 어떤 작업을 우선으로 동작시킬 것인가 결정하는 것도 매우 중요하다. 또한, 작업 간 전환 속도를 빠르게 하여 한 번에 하나의 작업씩 수행하지만 마치 동시에 수행하는 것처럼 동작해야 한다. (<a href=\"https://www.charlezz.com/?p=44646\">참고 - 동시성과 병렬성</a>)</p>\n<p>이러한 섬세한 컨트롤을 누군가 해주어야 할 텐데 누가 이런 역할을 할까? 바로 이벤트 루프가 메인 스레드의 동작을 관리한다.\n그러므로 이벤트 루프의 동작을 정확히 이해하는 것이 브라우저 실행 전반을 이해하는 데 있어 매우 중요한 것이다.</p>\n<h2>이벤트 루프의 동작</h2>\n<p>이벤트 루프가 왜 중요한지는 알 것 같다. 그럼 이벤트 루프는 어떠한 우선순위로 task를 실행할까? 이벤트 루프의 동작을 같이 알아보자.</p>\n<p><img src=\"https://media.giphy.com/media/41qMCw6byUsNjqeie0/giphy.gif?cid=790b76110b521df01c236df35e6f56e004135ad84c50bd9e&#x26;rid=giphy.gif&#x26;ct=g\" alt=\"image\">\n(그림 1 - <a href=\"https://www.youtube.com/watch?v=cCOL7MC4Pl0\">Jake Archibald: 루프 속 - JSConf.Asia</a>)</p>\n<ul>\n<li>그림 상\n<ul>\n<li>T : task queue</li>\n<li>rAF : requestAnimationFrame</li>\n<li>S : Style (렌더 트리 생성)</li>\n<li>L : Layout</li>\n<li>P : Paint</li>\n</ul>\n</li>\n</ul>\n<p>가장 잘 와 닿았던 그림이다. 중앙을 기준으로 왼쪽 path가 task queue, 오른쪽 path가 브라우저 렌더링이라고 생각하면 된다.\n(microtask는 그림 어디에서나 실행될 수 있다고 한다.)\n이 그림을 보면서 이벤트 루프의 동작 과정을 따라가 보자.</p>\n<h3>1. 초기 콜 스택에 쌓여있는 task를 모두 처리</h3>\n<p>처음 html을 가져오고 script 태그를 만나는 순간을 생각해보자. 브라우저 렌더링 과정에 들어가기 전에 동작을 잠깐 멈추고 자바스크립트 코드를 읽기 시작한다. 자바스크립트 코드가 DOM 트리를 수정할 수 있기 때문이다. 이 과정에서 코드들이 콜 스택에 올라가 동작을 수행하게 되고 Promise나 setTimeout과 같은 비동기 관련 콜백들이 queue에 등록된다.</p>\n<h3>2. Promise.then 콜백이 microtask queue에 등록되어 있다면 실행</h3>\n<p>처음 콜 스택에 있는 코드들이 모두 실행되고 난 후부터는 Promise가 가장 높은 우선순위를 차지한다. Promise.then 콜백이 등록된 microtask queue는 특징이 하나 있는데, queue에 등록된 모든 콜백이 처리될 때까지 계속 수행한다는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">loop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">infinityThen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>infinityThen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>infinityThen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">loop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>궁금하다면 개발자 도구에 위 코드를 넣어보자. Promise가 resolve 될 때 Promise.then 콜백을 재귀적으로 등록하면 앞서 예시와 비슷하게 브라우저는 먹통이 되어버린다. Promise를 처리하느라 바쁜 나머지 다른 작업을 아무것도 못 하게 되는 것이다.</p>\n<h3>3. 화면 갱신이 필요하다면 렌더링 파이프라인으로 이동 (requestAnimationFrame(rAF))</h3>\n<p><code class=\"language-text\">화면 갱신이 필요하다면</code> 이라고 했는데 이는 이벤트 루프가 판단하는 것이다. 사용자가 스크롤 이동을 했거나, 어떤 요소를 클릭했거나 등등 화면을 갱신해야 될 필요가 있다면 렌더링 파이프라인으로 이동한다. (그림 1에서 오른쪽 path)</p>\n<p>여기서 자바스크립트 코드 상에 rAF api를 사용하면 이벤트 루프가 모니터 주사율(Hz)에 맞춰 렌더링 파이프라인으로 들어가려고 노력한다. (싱글 스레드이기 때문에 반드시 주기가 지켜지는 것은 아님) 보통은 모니터 주사율이 60Hz기 때문에 화면 갱신 속도도 60fps이고 이는 1프레임이 16ms 정도 나와야 함을 의미한다. 여기서 1프레임이란, 렌더링 파이프라인에 진입했을 때부터 다음 파이프라인 진입까지를 의미한다.</p>\n<img src=\"https://user-images.githubusercontent.com/48755175/131212408-7e079272-136d-4e2e-be6f-607e57b1799b.png\" style=\"width:200px\">\nrAF를 동작시켰을 때 1프레임이 16ms로 지켜지는 모습.\n<h3>4. task queue에 있는 콜백을 하나씩 실행. (setTimeout)</h3>\n<p>이제 드디어 setTimeout과 사용자 이벤트 콜백의 시간이다. 그런데 queue에 있는 콜백을 <code class=\"language-text\">하나씩</code> 실행한다는 것은 무슨 뜻일까.\nPromise와는 다르게 task queue는 콜백을 하나 실행하고 이벤트 루프를 놓아주어 다른 동작을 수행할 수 있도록 한다는 것이다. 앞서 Promise의 예시와 같이 재귀적으로 setTimeout 콜백을 task queue에 집어넣어도, 브라우저는 정상 작동한다.</p>\n<h2>requestAnimationFrame vs setTimeout</h2>\n<p>지금까지 이벤트 루프를 알아보았다. 생각보다 복잡한 일을 하는 녀석인데 마지막으로 rAF와 setTimeout의 동작 차이를 알아보며 마무리하도록 하자.</p>\n<p>rAF와 setTimeout의 가장 큰 차이점은 1프레임 당 호출이 보장되느냐 되지 않느냐의 차이가 있다.\n흔히 웹에서 애니메이션을 보여주기 위해 setTimeout 대신 rAF 사용을 권장한다. 그 이유는 애니메이션을 위해 setTimeout을 16ms마다 동작하도록 코드를 작성하여도, 다른 task에 의해서 지연될 가능성이 있어 1프레임 당 1번의 호출이 보장되지 않기 때문이다.</p>\n<p>그림 1을 보면 setTimeout은 task queue에 올라가 동작하고, rAF는 렌더링 파이프라인과 붙어 동작하는 것을 확인할 수 있다. 이런 구조 상 rAF는 무조건 1프레임 당 1번의 호출이 보장되고 setTimeout은 지연되어 2프레임 당 1번, 또는 3프레임 당 1번 호출될 가능성도 있다. 이런 현상은 버벅거리는 애니메이션을 제공하여 사용자 경험을 떨어뜨린다.</p>\n<h2>참고</h2>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=cCOL7MC4Pl0\">Jake Archibald: 루프 속 - JSConf.Asia</a></li>\n<li><a href=\"https://medium.com/@francesco_rizzi/javascript-main-thread-dissected-43c85fce7e23\">JavaScript main thread. Dissected</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"최근 requestAnimationFrame(이하 rAF)과 setTimeout을 공부하면서 브라우저의 싱글 스레드 동작이 정확히 어떻게 이루어지는지 잘 모른다는 생각이 들었다.\n이번 기회에 이벤트 루프의 동작을 공부하고 추가로 rAF와 setTimeout의 차이점까지 알아보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"들어가기 전에"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"들어가기 전에 용어 정리를 해두면 좋을 것 같다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"프로세스\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"운영체제가 프로그램의 실행을 위해 프로그램에 메모리를 할당하는 단위"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"스레드\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"프로세스가 할당받은 메모리를 실행하는 단위. 하나의 프로세스가 여러 스레드로 나뉠 수 있다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"task queue\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"콜 스택에 들어가기 전에 setTimeout, 사용자 이벤트 콜백 등이 저장되는 큐"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"microtask queue\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Promise.then 콜백이 저장되는 큐"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"이벤트 루프, 넌 누구냐"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"브라우저 메인 스레드 동작 타이밍을 관리하는 관리자라고 할 수 있다.\n여기서 메인 스레드란 자바스크립트 코드 실행이나 브라우저 렌더링을 맡는 등 브라우저의 주된 동작이 수행되는 곳이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"이벤트 루프가 왜 중요한가요?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"관리자라고 하니까 중요한 것 같기는 한데 감이 오지 않을 수 있다.\n브라우저 동작 특징을 알아보면서 이벤트 루프가 중요한 이유를 알아보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1. 브라우저 동작의 대부분이 메인 스레드에서 싱글 스레드로 실행된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"웹 api에서 제공하는 비동기 함수들(ex. fetch, setTimeout)과 워커 종류를 제외한 대부분의 자바스크립트 코드가 메인 스레드라는 곳에서 실행된다. 또한 브라우저 화면을 그리는 렌더링 작업도 이곳에서 실행된다. 이처럼 브라우저의 주요한 동작들이 메인 스레드라는 하나의 싱글 스레드로 동작한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"여기서 메인 스레드가 싱글 스레드로 동작하는 것이 중요한 이유는 싱글 스레드에서 하나의 작업을 하고 있다면 다른 작업은 지연시키기 때문이다.\n예를 들어 싱글 스레드의 동작은 한 사람이 여러 가지 일을 동시에 처리할 수 없는 것과 비슷하다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"게임"}]},{"type":"text","value":"과 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"식사"}]},{"type":"text","value":"라는 2개의 작업이 수행되어야 할 때 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"게임"}]},{"type":"text","value":"을 하고 있다면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"식사"}]},{"type":"text","value":" 작업은 지연될 수밖에 없다. 둘 중 하나의 작업이 굉장히 길어진다면 다른 작업은 시작조차 못 할 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"메인 스레드에서도 마찬가지로, 개발자가 만약 자바스크립트 코드에 무한 루프 코드를 작성한다면 해당 작업이 다른 모든 작업을 지연시키고 메인 스레드에서 무한히 동작할 것이다. 결국에는 브라우저가 먹통이 되는 현상이 발생한다. 사용자 이벤트도 메인 스레드에서 동작하기 때문에 키보드 입력이나 마우스 클릭도 동작하지 않는다. 그러므로 싱글 스레드의 작업 관리는 매우 중요하다고 할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://media.giphy.com/media/rzgDhQtB1GHM8djEa7/giphy.gif?cid=790b761157d6fcdd39c301704bb8588f03cb14930a9b239e&rid=giphy.gif&ct=g","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"F12로 개발자 도구를 열어 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"while(1) {}"}]},{"type":"text","value":" 을 입력해보자. 브라우저가 먹통이 되는 현상을 경험할 수 있다.(주의 - 프로세스 강제종료 해야 합니다.)\n하지만 다른 브라우저 탭은 잘 동작함을 알 수 있는데 이는 탭마다 다른 프로세스로 동작하기 때문이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"2. 메인 스레드는 이벤트 루프에 의해 관리된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"앞서 언급한 것처럼, 메인 스레드와 같은 싱글 스레드에서 하나의 작업이 오랫동안 실행되어서도 안 되고, 여러 작업 중 어떤 작업을 우선으로 동작시킬 것인가 결정하는 것도 매우 중요하다. 또한, 작업 간 전환 속도를 빠르게 하여 한 번에 하나의 작업씩 수행하지만 마치 동시에 수행하는 것처럼 동작해야 한다. ("},{"type":"element","tagName":"a","properties":{"href":"https://www.charlezz.com/?p=44646"},"children":[{"type":"text","value":"참고 - 동시성과 병렬성"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이러한 섬세한 컨트롤을 누군가 해주어야 할 텐데 누가 이런 역할을 할까? 바로 이벤트 루프가 메인 스레드의 동작을 관리한다.\n그러므로 이벤트 루프의 동작을 정확히 이해하는 것이 브라우저 실행 전반을 이해하는 데 있어 매우 중요한 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"이벤트 루프의 동작"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이벤트 루프가 왜 중요한지는 알 것 같다. 그럼 이벤트 루프는 어떠한 우선순위로 task를 실행할까? 이벤트 루프의 동작을 같이 알아보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://media.giphy.com/media/41qMCw6byUsNjqeie0/giphy.gif?cid=790b76110b521df01c236df35e6f56e004135ad84c50bd9e&rid=giphy.gif&ct=g","alt":"image"},"children":[]},{"type":"text","value":"\n(그림 1 - "},{"type":"element","tagName":"a","properties":{"href":"https://www.youtube.com/watch?v=cCOL7MC4Pl0"},"children":[{"type":"text","value":"Jake Archibald: 루프 속 - JSConf.Asia"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"그림 상\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"T : task queue"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"rAF : requestAnimationFrame"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"S : Style (렌더 트리 생성)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"L : Layout"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"P : Paint"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"가장 잘 와 닿았던 그림이다. 중앙을 기준으로 왼쪽 path가 task queue, 오른쪽 path가 브라우저 렌더링이라고 생각하면 된다.\n(microtask는 그림 어디에서나 실행될 수 있다고 한다.)\n이 그림을 보면서 이벤트 루프의 동작 과정을 따라가 보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1. 초기 콜 스택에 쌓여있는 task를 모두 처리"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"처음 html을 가져오고 script 태그를 만나는 순간을 생각해보자. 브라우저 렌더링 과정에 들어가기 전에 동작을 잠깐 멈추고 자바스크립트 코드를 읽기 시작한다. 자바스크립트 코드가 DOM 트리를 수정할 수 있기 때문이다. 이 과정에서 코드들이 콜 스택에 올라가 동작을 수행하게 되고 Promise나 setTimeout과 같은 비동기 관련 콜백들이 queue에 등록된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"2. Promise.then 콜백이 microtask queue에 등록되어 있다면 실행"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"처음 콜 스택에 있는 코드들이 모두 실행되고 난 후부터는 Promise가 가장 높은 우선순위를 차지한다. Promise.then 콜백이 등록된 microtask queue는 특징이 하나 있는데, queue에 등록된 모든 콜백이 처리될 때까지 계속 수행한다는 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"function"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"loop"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"function"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"infinityThen"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    Promise"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"resolve"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"infinityThen"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  Promise"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"resolve"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"infinityThen"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"loop"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"궁금하다면 개발자 도구에 위 코드를 넣어보자. Promise가 resolve 될 때 Promise.then 콜백을 재귀적으로 등록하면 앞서 예시와 비슷하게 브라우저는 먹통이 되어버린다. Promise를 처리하느라 바쁜 나머지 다른 작업을 아무것도 못 하게 되는 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"3. 화면 갱신이 필요하다면 렌더링 파이프라인으로 이동 (requestAnimationFrame(rAF))"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"화면 갱신이 필요하다면"}]},{"type":"text","value":" 이라고 했는데 이는 이벤트 루프가 판단하는 것이다. 사용자가 스크롤 이동을 했거나, 어떤 요소를 클릭했거나 등등 화면을 갱신해야 될 필요가 있다면 렌더링 파이프라인으로 이동한다. (그림 1에서 오른쪽 path)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"여기서 자바스크립트 코드 상에 rAF api를 사용하면 이벤트 루프가 모니터 주사율(Hz)에 맞춰 렌더링 파이프라인으로 들어가려고 노력한다. (싱글 스레드이기 때문에 반드시 주기가 지켜지는 것은 아님) 보통은 모니터 주사율이 60Hz기 때문에 화면 갱신 속도도 60fps이고 이는 1프레임이 16ms 정도 나와야 함을 의미한다. 여기서 1프레임이란, 렌더링 파이프라인에 진입했을 때부터 다음 파이프라인 진입까지를 의미한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/48755175/131212408-7e079272-136d-4e2e-be6f-607e57b1799b.png","style":"width:200px"},"children":[]},{"type":"text","value":"\nrAF를 동작시켰을 때 1프레임이 16ms로 지켜지는 모습.\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"4. task queue에 있는 콜백을 하나씩 실행. (setTimeout)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 드디어 setTimeout과 사용자 이벤트 콜백의 시간이다. 그런데 queue에 있는 콜백을 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"하나씩"}]},{"type":"text","value":" 실행한다는 것은 무슨 뜻일까.\nPromise와는 다르게 task queue는 콜백을 하나 실행하고 이벤트 루프를 놓아주어 다른 동작을 수행할 수 있도록 한다는 것이다. 앞서 Promise의 예시와 같이 재귀적으로 setTimeout 콜백을 task queue에 집어넣어도, 브라우저는 정상 작동한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"requestAnimationFrame vs setTimeout"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"지금까지 이벤트 루프를 알아보았다. 생각보다 복잡한 일을 하는 녀석인데 마지막으로 rAF와 setTimeout의 동작 차이를 알아보며 마무리하도록 하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"rAF와 setTimeout의 가장 큰 차이점은 1프레임 당 호출이 보장되느냐 되지 않느냐의 차이가 있다.\n흔히 웹에서 애니메이션을 보여주기 위해 setTimeout 대신 rAF 사용을 권장한다. 그 이유는 애니메이션을 위해 setTimeout을 16ms마다 동작하도록 코드를 작성하여도, 다른 task에 의해서 지연될 가능성이 있어 1프레임 당 1번의 호출이 보장되지 않기 때문이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그림 1을 보면 setTimeout은 task queue에 올라가 동작하고, rAF는 렌더링 파이프라인과 붙어 동작하는 것을 확인할 수 있다. 이런 구조 상 rAF는 무조건 1프레임 당 1번의 호출이 보장되고 setTimeout은 지연되어 2프레임 당 1번, 또는 3프레임 당 1번 호출될 가능성도 있다. 이런 현상은 버벅거리는 애니메이션을 제공하여 사용자 경험을 떨어뜨린다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"참고"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.youtube.com/watch?v=cCOL7MC4Pl0"},"children":[{"type":"text","value":"Jake Archibald: 루프 속 - JSConf.Asia"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://medium.com/@francesco_rizzi/javascript-main-thread-dissected-43c85fce7e23"},"children":[{"type":"text","value":"JavaScript main thread. Dissected"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"최근 requestAnimationFrame(이하 rAF)과 setTimeout을 공부하면서 브라우저의 싱글 스레드 동작이 정확히 어떻게 이루어지는지 잘 모른다는 생각이 들었다.\n이번 기회에 이벤트 루프의 동작을 공부하고 추가로 rAF…","timeToRead":4,"frontmatter":{"title":"이벤트 루프, 넌 누구냐","userDate":"28 August 2021","date":"2021-08-28T12:00:00.000Z","tags":["event-loop","javascript"],"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAcDBggJ/8QAFwEAAwEAAAAAAAAAAAAAAAAABAUGB//aAAwDAQACEAMQAAAB6RWhZSGL2+Z9M7rP/8QAGhABAAMAAwAAAAAAAAAAAAAABAIDBQYSE//aAAgBAQABBQJ7Lpyz6o+d7zQtFq6aAcdXGBNB/Vf/xAAhEQADAAIBAwUAAAAAAAAAAAABAgMEESEABRIGEyIxQf/aAAgBAwEBPwFOyOtMmlFVRhZHsUcOWLNu40wJPl88cgMoVdHZUcdQ9MYVoyrTOE6UmjugSp8SwBI4xmHH7pmG/okaPX//xAAiEQACAgEDBAMAAAAAAAAAAAACAwEEEQAFBgcSFCEjQlH/2gAIAQIBAT8BPmimI2xVcjbO80ou11EkVQtc+FPcBQPx4XeGSBhMOTjEGUZ1d6hcirW7NetsoPrpexaXE9AyxYFgSmJvLL3EfYAL9GJ9a//EACYQAAMAAQMDAwUBAAAAAAAAAAECAxIEESEAEyIUMTIzQVFhZHH/2gAIAQEABj8CcT02r1sps6PWSOZo6Hz25yqZj6izSjA8ctx1p7ChtKqikljRfIfI8Er4D3zfEL9xnwWVtOdwf56Hjjlg4/Htt1sl4RGh1N4bjTZUsstr7591e07d3HKYBGOQ5PR1Xp59wwbUg4z3UU9RRoilJVphvvsS5PP6HVBSQs3gc2Kj5IrYqqy2VRvwB/pJJJP/xAAaEAEBAAMBAQAAAAAAAAAAAAABEQAhUTFB/9oACAEBAAE/IZOv5mKUGfBDsyRDV8JHLwtipCzDQpjdX02NU0EJ0zpZn4/emyhVUEmpcQuLSZCzqGotv8XpH2G8wZf/2gAMAwEAAgADAAAAEGzP/8QAGBEBAQADAAAAAAAAAAAAAAAAAREAIUH/2gAIAQMBAT8Q1HnVeOX3i2ABHxKF/UlKRITMP//EABURAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EBp2eYUECphPWpZ1tdOxFKhV9H//xAAXEAEBAQEAAAAAAAAAAAAAAAABEQAh/9oACAEBAAE/EGgHrGiawSu54xj7dowDEAKT1SUFkrrzrpStoiLeRCJh4At+zUTb4LwkJY1GqssnZIxJVusSslP/2Q=="},"images":{"fallback":{"src":"/static/47f6850b9133d3076d6d3070fb2034fe/5267c/event-loop.jpg","srcSet":"/static/47f6850b9133d3076d6d3070fb2034fe/7284f/event-loop.jpg 750w,\n/static/47f6850b9133d3076d6d3070fb2034fe/29ba9/event-loop.jpg 1080w,\n/static/47f6850b9133d3076d6d3070fb2034fe/c8896/event-loop.jpg 1366w,\n/static/47f6850b9133d3076d6d3070fb2034fe/5267c/event-loop.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/47f6850b9133d3076d6d3070fb2034fe/b0356/event-loop.avif 750w,\n/static/47f6850b9133d3076d6d3070fb2034fe/48f75/event-loop.avif 1080w,\n/static/47f6850b9133d3076d6d3070fb2034fe/a5094/event-loop.avif 1366w,\n/static/47f6850b9133d3076d6d3070fb2034fe/f46cf/event-loop.avif 1920w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/47f6850b9133d3076d6d3070fb2034fe/57584/event-loop.webp 750w,\n/static/47f6850b9133d3076d6d3070fb2034fe/984df/event-loop.webp 1080w,\n/static/47f6850b9133d3076d6d3070fb2034fe/4a276/event-loop.webp 1366w,\n/static/47f6850b9133d3076d6d3070fb2034fe/9c00f/event-loop.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6666666666666666}}},"author":[{"name":"3기_미키","bio":"우아한테크코스 3기 미키(권세진)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#a8c8e8","images":{"fallback":{"src":"/static/fa7f6a0c3d11e8c67baa396cbd962e43/ce903/mickey.jpg","srcSet":"/static/fa7f6a0c3d11e8c67baa396cbd962e43/75695/mickey.jpg 40w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/6e519/mickey.jpg 80w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/ce903/mickey.jpg 120w","sizes":"100vw"},"sources":[{"srcSet":"/static/fa7f6a0c3d11e8c67baa396cbd962e43/40b58/mickey.webp 40w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/a06b5/mickey.webp 80w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/43b57/mickey.webp 120w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.75}}}}],"source":null}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"b8e94aa8-badc-5a6d-87a0-a3566384831e","timeToRead":4,"excerpt":"최근 requestAnimationFrame(이하 rAF)과 setTimeout을 공부하면서 브라우저의 싱글 스레드 동작이 정확히 어떻게 이루어지는지 잘 모른다는 생각이 들었다.\n이번 기회에 이벤트 루프의 동작을 공부하고 추가로 rAF…","frontmatter":{"title":"이벤트 루프, 넌 누구냐","date":"2021-08-28T12:00:00.000Z"},"fields":{"slug":"/post/2021-08-28-event-loop/"}}}]}},"pageContext":{"slug":"/post/2021-08-28-event-loop/","prev":{"excerpt":"Web Event…","timeToRead":3,"frontmatter":{"title":"Web Event 다루기","tags":["event","web"],"date":"2021-08-26T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABy0lEQVR42pWT/0tTYRSH9/dGP6ggpRJZFmyBRQS2hi1SExauNtFs5tCYqbmhy7ZdzQnOeb3Tu2tN13Vf7t3Te8cclpdtHTic856X9zmHl89xYGO1Wq3pV2udmKMd0DTNul/mds1aAg3DQFEUZFkmJ6Ku61SrVVRVrd9fbWAHtQV63C/o6erG5XTy1ucj8D7AI6eLZCKBlEqxtLhIqVRqP+HvcqUeJ8fGeDh4F+eDIe4NDDDY14dr6D7ukRGeDA/zyutlbWWVTCZz7X8dZuMQPdLond9kRztnL5cnnlFIHh6zvpclnNzFF02SFYCXo6M8FlD/1BT7dkCjcQilFXo+bvBOOuDmXIwbszH6w9+4LfzWpzjuLZlwKMTExBtmp6fp7+7CqFauAy9z+UwnsH2IpBZYy+b5cqDyef+YuHLKVu4n66KmnRcJ+v1Eoht45yN4FlZIFy4a0Fayabhl5eIZyZNf3FneoXdJ4nniCOmkwLPVFOObacI/ss03fwGtDlVTaE1E618NIQ3LNE0j8jXG64VlnvqCTAY/sJ34TvE0T1lIqiNh/7sdczMzjHs87KYSVC50ocNacyrzf4CtGnUsbFuAmMgSvGmabXf5Dwuiy2aIyyi5AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/7b5bb55a48597b6efbfa177b38e0fb18/f3920/web-event.png","srcSet":"/static/7b5bb55a48597b6efbfa177b38e0fb18/f3920/web-event.png 340w","sizes":"100vw"},"sources":[{"srcSet":"/static/7b5bb55a48597b6efbfa177b38e0fb18/162e4/web-event.webp 340w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6588235294117647}}},"author":[{"name":"3기_카일","bio":"우아한테크코스 3기 카일(임광열)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAbABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAgFBgkK/8QAFwEAAwEAAAAAAAAAAAAAAAAAAwQGBf/aAAwDAQACEAMQAAAB2CyO1JWpPVbopwVDnjmJ1gjTDtFZA1H/xAAcEAACAgMBAQAAAAAAAAAAAAAFBgMEAQIHEgD/2gAIAQEAAQUCK3cDh8T51mmQzZ0+Yj4QBUi1osLNNJr7aWQ05nh6O3RyIJQodWud58t5wndrFeVzSZCf/8QAIxEAAgICAQMFAQAAAAAAAAAAAQIEEQMSIQAFEwYUJDFB8P/aAAgBAwEBPwHtSQcyzvdPTR4/kAFErsGo0LYMxoJYCk8Wb6CrQ+/6uuyeno0+C8yTnk35ziZceSmYnnytkcOz5HykFi3AAJrISAIjfGwhtmKroWY2zaHTZjxbHWyaFnmh+f/EACERAAEDAwUBAQAAAAAAAAAAAAECAxEEEiEABSIxQSNS/9oACAECAQE/Aa5x5tVMGQPq5bmcxbIHWP0ZkdiM6vWPRrc9zepapFO021ybCwpYJA5RbCSm1IR1HZxxAypJUbhACoXA8uAVA7iJxk+Z1//EACgQAAICAQMDAwQDAAAAAAAAAAECAwQRBRITACEiBhQxMlFhgRVBcf/aAAgBAQAGPwK7fZGlWjSt3DEn1yCrXknMa9j5Px7R2OM5weo/Ud6ZWq2tSoM/o4CtJAmk6hAbQhjJT3ENyGriRAtg2d4zOjZ4h8/kZ+x79Gzrup0tNrESeVuYI0y4AdYIRmeww3AFII3YZGR1Qs6fqUEmlti7GkUkTwXHgijCCoVfMsvDGHIALRpyM48Oj36msXTYtWp+XhgRWk2CNdypWijXwWOLx2xrjYm45wzdZrV3rWayxXuNdQirWaosc3DPt519vO3A3wyzAPGHwX29VJ9VLfy9KW1pWqlwA7XdPneB3kC+PI8YieXb2MjMf760+QfXFofqKZD9pBRnTd37HxOMNlfx0eGVV91Voc5MFeQuOUtjMkTFQGkdlCkBWYlcHrWCXOT6q1pj/rmu7H9uzH99f//EABwQAQADAQEBAQEAAAAAAAAAAAEAESExYUFRkf/aAAgBAQABPyH4TR8clQbQy4FIpYQWA1RQzNKV/MIUC+C/ad9uFZWA4TgpkrR2cWkKfG7Bu9jMF7/qwc8hK4XTWg2LgqZZVWIgRKpswxoYnLuAty/QajYWgY1ui2tWofrZnZGrM2TdNnJcTQQGt5u619VZP//aAAwDAQACAAMAAAAQCze8/8QAHREBAQACAQUAAAAAAAAAAAAAAREAIVExQWGRwf/aAAgBAwEBPxBfiCAAGlDbuJAD07o9PlnPvzugUP1BuEhVTwiFAeERqE5UwdgMf//EABsRAQEBAQADAQAAAAAAAAAAAAERIQAxcZHh/9oACAECAQE/EF504NKyABCuIGAfKEBjgeDT8++oowuxAMopAKoFc9YsaQICUWFAYAKl7//EABkQAQEBAQEBAAAAAAAAAAAAAAERADEhcf/aAAgBAQABPxB38Jo6igIJerZZ/cXpZgLcCwIvD4EYlCEAgARDmqVZ1DqBcWhIV3E7RZlI+uKiLxBq+rfvq68vUKKZ156E8yoH+GI4OHMGUuSDb2i5BOIAZYRxIHIJbMiuMNnKJSM8l6g3DnLRancxGQJhAf/Z"},"images":{"fallback":{"src":"/static/360bed096e3511555856e1aec316ffb5/c1100/kyle_2.jpg","srcSet":"/static/360bed096e3511555856e1aec316ffb5/b0c6e/kyle_2.jpg 750w,\n/static/360bed096e3511555856e1aec316ffb5/c1100/kyle_2.jpg 960w","sizes":"100vw"},"sources":[{"srcSet":"/static/360bed096e3511555856e1aec316ffb5/4c1cf/kyle_2.webp 750w,\n/static/360bed096e3511555856e1aec316ffb5/ff0ed/kyle_2.webp 960w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.3333333333333333}}}}]},"fields":{"layout":"post","slug":"/post/2021-08-26-web-event/"}},"next":{"excerpt":"Java 로 작성된 코드는 어떻게 돌아가는 걸까? 해당 물음에 답을 찾기 위한 JVM 시리즈 4편, JVM 의 구성요소 중 GC 에 관한 글입니다.\n이번 글에서는 JVM 의 GC 에 대한 기초 지식에 대해서 알아봅시다. JVM…","timeToRead":4,"frontmatter":{"title":"JVM에 관하여 - Part 4, Garbage Collection 기초","tags":["jvm"],"date":"2021-08-30T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABG0lEQVR42q1S206DQBDt5/sJPpv4C/jmqxZNKolApILUclko9IKlwN6OW0DSpvpiO8lkMmdnzpyZ7AgnJgFBu/gPG50gikxmpuITFyCUEsK7g/i8P5OwbxbxM+jjFXj8hEN8WF5ySFq23p3lT4WybRL1BvJDa52pnDE2KG8HLh1w8wbcuAa3bn8nlH3xNFxAd0LMkxwBIfCTFaxZ0r41lIFydY5tCvpFUK0C1LkLxoXCBX44jm4oFPhg+dB0GxM3Qlk3qBqGvCgxeQ/x4oYYOxE8soYd5NCnBE6QwlC18bLoF5EdYbGrWzWGF0Eb2zBnBNlmi11Nh2F7b9QJ9lH2uTzwI4VcCMzTNdwoU1MXePUJ3tT0irIL/MMz7Rv6hwt1RRiuGwAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/bada49a3395d2b1adaede46a24505ef0/c491c/jvm-garbage-collection.png","srcSet":"/static/bada49a3395d2b1adaede46a24505ef0/2bb29/jvm-garbage-collection.png 750w,\n/static/bada49a3395d2b1adaede46a24505ef0/934a0/jvm-garbage-collection.png 1080w,\n/static/bada49a3395d2b1adaede46a24505ef0/c491c/jvm-garbage-collection.png 1289w","sizes":"100vw"},"sources":[{"srcSet":"/static/bada49a3395d2b1adaede46a24505ef0/351fa/jvm-garbage-collection.webp 750w,\n/static/bada49a3395d2b1adaede46a24505ef0/00662/jvm-garbage-collection.webp 1080w,\n/static/bada49a3395d2b1adaede46a24505ef0/ccae0/jvm-garbage-collection.webp 1289w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4918541505042669}}},"author":[{"name":"3기_와이비","bio":"우아한테크코스 3기 와이비(허영범)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAYIAgUHCf/EABYBAQEBAAAAAAAAAAAAAAAAAAUGBP/aAAwDAQACEAMQAAAB8q9vjFSWr5uvMidc5YQ1baEWQH//xAAeEAACAgICAwAAAAAAAAAAAAADBQEEAgcGERMWJP/aAAgBAQABBQI9ssGH5x5a+TwxTGRmY8jN2PHUMz6iv+W2mQp2hVtOtQpf/8QAJhEBAAECBAQHAAAAAAAAAAAAARECAwASISIEE0FxFSMyQkNRgf/aAAgBAwEBPwF4G1RLXblakpcxkWl3GnqISEcqakiOLPC2+Vb2UG00jFdmz4c+Vb+H2U9WmenWWe794qDM94/JMf/EACURAAEDBAAFBQAAAAAAAAAAAAECAxEAEiExBBQVMmEiI1GRsf/aAAgBAgEBPwHn31wlD0C0SLCFi6LDCu0j1SCLpwYINLddK1ErWozkzvXmm3nero91zfEDvVoJwN+B9D4prLaCd2j8r//EACkQAAIBAgUCBQUAAAAAAAAAAAECAwQRAAUSISITMSMyQlFhFCUzQXH/2gAIAQEABj8CnjsvgPIhtx/FIYbkD1X83uThY6rVS64xNGZEI6kUsfUikXuXjl2CEAhrjdbG1TUHl9zmjvpPopKL3/t/i+M0oqCWGUCvzBlqJmaGECOd2qEbg7K9MDIX2OqKGSSLWBuEldjO0KCJ9TaVpmAkpXhZ+RSaPnHYKixMvrJC9aayvU5rmE3wy3jhBF77eDbbbbGaGDwtedy1LaQBeYfWqrH9nT1HIHa7E4rJ8zy+DMJRRZfZ6oFzdnkUniV3svfv39ziCjoolpqWnDpDBELIimR3sL3PmYnvj//EABoQAQEBAQEBAQAAAAAAAAAAAAERIQAxQWH/2gAIAQEAAT8hgNcgAe5CgVKxdXniO/FT5srnCxxu14KX8FSqgzD0eXnVDmmDHClyODAeF/6IzzJQ5zpzfBAHb+o1Cw0eOHXv4spgdLXDedd8BBXjYZgsoE2I4gZB9yVVXv/aAAwDAQACAAMAAAAQfwd//8QAGhEBAQEAAwEAAAAAAAAAAAAAAREhADFBsf/aAAgBAwEBPxAUWqEQ7qPpIUMWwRQBgMQN6n179uN4rvRK7oNe6WqAQAGAAACAGAGAYGGc/8QAGhEBAQEBAQEBAAAAAAAAAAAAAREhMQBBUf/aAAgBAgEBPxAYeTyCEkFRjAgIvBjqlQhVAPGwLv76GwyZ6IfAuHBQ4iVip1VVUKq6q6rq+//EABcQAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQEAAT8QVjGzwQXRLHNRlQRcO5cAGDbR5mFAoDRMEWCEmpCp4hMNgLkVKsZcJaPuCfmyyHFpvP5UcRCEpj0tSn7kIuMVil4b9gkbZzft0GhAAmpBqQlVVX//2Q=="},"images":{"fallback":{"src":"/static/bfb773c24f06294935406a14cb053e4e/37851/whybe.jpg","srcSet":"/static/bfb773c24f06294935406a14cb053e4e/37851/whybe.jpg 460w","sizes":"100vw"},"sources":[{"srcSet":"/static/bfb773c24f06294935406a14cb053e4e/b5c5b/whybe.webp 460w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}]},"fields":{"layout":"post","slug":"/post/2021-08-30-jvm-gc/"}},"primaryTag":"event-loop"}},"staticQueryHashes":["2337738035"],"slicesMap":{}}