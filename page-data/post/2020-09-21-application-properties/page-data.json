{"componentChunkName":"component---src-templates-post-tsx","path":"/post/2020-09-21-application-properties/","result":{"data":{"logo":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png","srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png 400w","sizes":"400px"},"sources":[{"srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/65935/tecoble.webp 400w","type":"image/webp","sizes":"400px"}]},"width":500,"height":110}}},"markdownRemark":{"html":"<p>특정 데이터의 조회 기능을 구현하려는데 테스트에서 자꾸 의도와는 다른 데이터가 출력된다.\n이런, <code class=\"language-text\">data.sql</code>을 통해 주입되고 있는 기본 데이터가 자꾸만 방해한다.\n프로덕션 코드의 실행에는 필요하지만, 테스트에는 필요하지 않은 데이터인데…\n어떻게 제거할 수 없을까?</p>\n<h2>테스트 환경 분리하기</h2>\n<p><code class=\"language-text\">data.sql</code>이 적용되는 부분은 <code class=\"language-text\">application.properties</code>의 <code class=\"language-text\">spring.datasource.data</code>를 통해 제어할 수 있다.</p>\n<p><code class=\"language-text\">spring.datasource.data=</code>과 같이 data가 할당되는 부분을 아예 비워둔다면 더는 <code class=\"language-text\">data.sql</code>을 읽어 들이지 않을 것이다.\n하지만 <code class=\"language-text\">data.sql</code>이 application에는 필요하다면?\n매번 테스트마다 해당 설정을 넣었다가 테스트가 끝나고 뺄 수는 없는 노릇이다.\n이제 mysql도 도입하기로 했는데…\n테스트 때만 h2로 바꿨다가 다시 mysql로 돌리기도 이상하다.\n무엇보다도, 매번 그러기에는 너무 귀찮다.</p>\n<p>간단한 방법으로 귀찮음을 제거할 수 있다.</p>\n<p>바로 테스트용 프로퍼티를 만들면 그만이다.</p>\n<p>test 폴더 하위에 main 폴더와 같이 resources 폴더를 생성하자.\n그 아래에 테스트에 필요한 설정을 담은 <code class=\"language-text\">application.properties</code>를 생성하면 끝난다.\n이젠 테스트를 실행할 때 마다 매번 설정을 바꿔주지 않아도 된다.\n테스트 시에는 알아서 <code class=\"language-text\">test/resources/application.properties</code>를 인식하고 실행할 것이다.\n프로덕션 코드 실행 시에는 당연히 원래의 프로퍼티를 불러온다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 481px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/48fb3a3269bc94eac8b87bab0c0a1a2f/213b2/2020-09-21-application-properties-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.33679833679834%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADEElEQVR42pVU227TQBD1ryDxABJCSFBo7ontxI7j+z1OfEkaUAmlopSWq5BAIP6EN0AgARVIfAAgISiIzznMbmpUHqDh4WRm1+vjM3NmI/hhDC/JcGX3HmzXRxAPsVpv4gKh2myj1ur8F4Tz1TpkVUPfsGAFMTSKiqbDcDxIPZUfqrdFjqUImQpRUaEoCrz5NqSrt5AmCS7NN6AODKxUagvFtQYqjebRhOyHkVYbLZyjlxXbR76+ib5uwglCWJ4Pl2KUjGDY7nKEv8uiKGkGnCSHF0aw/QC65cD2Alov2nFUX38rbEldeI6LM2aIY+t34RAJU9XtD3B2tQrWa1b60gprLZGXKesW1CiFSvmA1PWIUCRzGNhHl1LIVRI03YDuRrh2NYdl9knhmIOVOxxnMMl5pvJfjguHFxUyptIgg+p1pBfncOIRLGpDPBpzxWWvlyx5UXaZe2SM4YXcFD+KoQz0gw+2/ofwoHzqU0GjE2dr8MntcDhCTKWPsgJJmqPRkf7oJR+7g/UfhOWNYOPTNXXIxgBKX8fAdsggm98mZhQjPIy23CX0+LtC2btVwnka7ArdiHMXqmgORbjFEMVkhmJtRioTpPmEm+RHQ4zzAtlkinw64z2ezC5y04RKvcVV6KYNn0o0ohG8IKJDKdqSgqZIKtoSqRZ5LCsp9xh4uc0Oz4W62IGoKuipPRjkbPvyFgrqVZylqLRokDsdNCQilcQDHM4P7y32hV7Qh+wrUCINYR5DzEU0d6oIp0NMNtbgFcHiedgHO3sUhDJRQg1+EULLbJjzAE7uExmNTWKh66v8OSNdxL9DUPwuGHqejHASIJk4uLETIZ3FmG7MkF7Oka7nKK5M4eYBWib9gbhdiI68gL1A25YguzKE08UrlDiVvcSZ4jlWZs9xdv4U1c1nMHY/wLj5DoOd9zB330HdfovO5ht0t95CuU7Y2kN/e4/O7aE2fw3hRPERJU7y+AnHs89YufEC6q0PyJ78JHyHde8rhg/34d7fh3b7K4IH+4gefkfy6AeMO98wfvwD4vUv+AUB6/gec0R2egAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"테스트용 프로퍼티\"\n        title=\"\"\n        src=\"/static/48fb3a3269bc94eac8b87bab0c0a1a2f/213b2/2020-09-21-application-properties-1.png\"\n        srcset=\"/static/48fb3a3269bc94eac8b87bab0c0a1a2f/213b2/2020-09-21-application-properties-1.png 481w\"\n        sizes=\"(max-width: 481px) 100vw, 481px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p style=\"text-align:center;\">( 테스트 환경 분리 끝! )</p>\n<p>여러 테스트를 진행 하다보니까 이번에는 특정 테스트만 조금 다른 설정이 필요해졌다.</p>\n<p><code class=\"language-text\">data.sql</code>의 데이터값은 잘 들어가는지도 테스트해보고 싶어졌다.\n그럴 때는 별도의 설정이 들어간 프로퍼티 파일을 한가지 더 만들자.\n이름은 <code class=\"language-text\">application-data.properties</code>라고 짓도록 하자.\n마지막으로 별도 설정이 필요한 테스트를 위해 새로운 테스트 클래스를 만들어준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@TestPropertySource</span><span class=\"token punctuation\">(</span>locations <span class=\"token operator\">=</span> <span class=\"token string\">\"/application-data.properties\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@SpringBootTest</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SpecialServiceTest</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ... 생략</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p style=\"text-align:center;\">( 진짜로 테스트 환경 분리 끝! )</p>\n<p>이제 이 클래스 안에서는 우리가 <code class=\"language-text\">application-data.properties</code>안에서 설정한 것들이 적용될 것이다.</p>\n<hr>\n<p>모든 테스트 코드가 잘 통과한다.</p>\n<p>이제 프론트 페이지와의 연동은 잘 되었는지, 실제 작동은 잘 되는지를 확인해볼 차례다.<br>\n프로덕션 코드를 실행시키고 테스트를 위해 nignx를 통해 8081포트에 페이지를 띄운다.</p>\n<p>브라우저를 열어 확인하려는데 어째서인지 아무 데이터도 불러오질 못한다.\n조심스레 브라우저의 콘솔 창을 열어보니 CORS 오류가 반긴다.</p>\n<p>아차, 이번에는 Config 클래스에서 설정하는 CORS 개방 경로를 바꿔주질 않았다.</p>\n<p>배포 서버에는 해당 서버의 8000포트에 CORS를 열어뒀는데, localhost는 적용이 안 되어있으니 바꿔줘야 한다.\n하지만 매번 깜빡하니 일을 두 번씩 한다.\n설정을 바꾸고, 켜져 있던 서버를 끄고, 다시 켠다.\n여간 귀찮은 일이 아니다.\n간단하게 스위치 켜듯 알아서 변경해주면 좋으련만…</p>\n<h2>배포 환경 별로 별도의 설정 적용하기</h2>\n<p>이번에는 <code class=\"language-text\">application-prod.properties</code> 파일을 생성하자.</p>\n<p><code class=\"language-text\">cors.url</code>을 기존의 <code class=\"language-text\">application.properties</code> 파일과 새로 만든 파일 둘 다에 필요한 값으로 작성한다.\n<code class=\"language-text\">application.properties</code> 파일은 로컬 환경의 프로퍼티로, <code class=\"language-text\">application-prod.properties</code>는 배포 환경의 프로퍼티로 사용하자.\n각각 <code class=\"language-text\">cors.url=</code> <code class=\"language-text\">*</code>, <code class=\"language-text\">https://dorandoran.io</code>의 값을 갖도록 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">WebMvcConfig</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">WebMvcConfigurer</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${cors.url}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> url<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">addCorsMappings</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CorsRegistry</span> registry<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        registry<span class=\"token punctuation\">.</span><span class=\"token function\">addMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/**\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">allowedOrigins</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">allowedMethods</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이제 아무 설정 없이 실행하면 <code class=\"language-text\">application.properties</code>의 <code class=\"language-text\">cors.url</code> 값인 <code class=\"language-text\">*</code>을 받아 모든 접근 경로에 대해 CORS 정책 해제해 줄 것이다.</p>\n<p>배포 환경으로 실행할 때는 이제 <code class=\"language-text\">-Dspring.profiles.active=prod</code> 옵션을 붙여주도록 하자.\n우리가 원한대로 특정 url에만 CORS 정책을 해제해 줄 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1. 유저 홈 디렉토리에 있는 spring-boot-dev-tools.properties\n2. 테스트에 있는 @TestPropertySource\n3. @SpringBootTest 애노테이션의 properties 애트리뷰트\n4. 커맨드 라인 아규먼트\n5. SPRING_APPLICATION_JSON 내부의 프로퍼티\n6. ServletConfig 파라미터\n7. ServletContext 파라미터\n8. java:comp/env JNDI 애트리뷰트\n9. System.getProperties() 자바 시스템 프로퍼티\n10. OS 환경 변수\n11. RandomValuePropertySource\n12. JAR 밖에 있는 특정 프로파일용 application properties\n13. JAR 안에 있는 특정 프로파일용 application properties\n14. JAR 밖에 있는 application properties\n15. JAR 안에 있는 application properties\n16. @PropertySource\n17. 기본 프로퍼티</code></pre></div>\n<p style=\"text-align:center;\">( 프로퍼티 적용 우선순위 )</p>\n<p>프로퍼티 적용 우선순위를 확인해보면, 기본 프로퍼티는 가장 하위에 있고 실행 시 적용하는 커맨드 라인 아규먼트는 보다 상위에 있다.\n이 덕분에 우리는 <code class=\"language-text\">application.properties</code>를 로컬 환경으로 사용하고, 별도의 배포 환경에 <code class=\"language-text\">application-prod.properties</code>를 적용할 수 있는 것이다.</p>\n<p>로컬 환경과 배포 환경을 분리했으니, 이젠 데이터베이스도 별도로 가질 수 있게 되었다.</p>\n<p>더는 실행 시마다 개발 시의 설정인지 배포 시의 설정인지 확인하거나, 테스트 하는 동안 만든 데이터를 일일이 삭제할 필요가 없어졌다.</p>\n<hr>\n<p>프로젝트가 조금씩 커가면서, 프로퍼티 안의 내용이 많아졌다.\nSpring Security도 추가하면서 Github같은 외부에는 숨기고 싶은 설정들도 생겨났다.</p>\n<p>프로퍼티를 조금 더 정갈하게 정리하고, 특정 부분은 <code class=\"language-text\">.gitignore</code>로 관리할 수는 없을까?</p>\n<h2>속성 별로 파일 분리하기</h2>\n<p>물론 가능하다.\n<code class=\"language-text\">spring.profiles.include=</code> 속성을 사용하면, 프로퍼티 파일을 원하는 만큼 분리하고 한 번에 사용할 수 있다.</p>\n<p>숨기고 싶은 Security 관련 설정을 위해 <code class=\"language-text\">application-security.properties</code> 파일을 만들자.\n<code class=\"language-text\">application.properties</code> 안에 <code class=\"language-text\">spring.profiles.include=security</code>를 추가하면 끝!</p>\n<p><code class=\"language-text\">prod</code>같은 별도의 프로퍼티 파일이 있더라도, 기본 프로퍼티 파일이 적용된 후에 오버라이드 되는 형식이기 때문에 모든 실행 환경에 include가 적용될 것이다.\n만약 특정 실행 환경에만 적용하고 싶다면 해당 실행 환경의 프로퍼티에만 include 속성을 적용하면 될 일이다.</p>\n<hr>\n<p>참고 자료</p>\n<p><a href=\"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8\">스프링 부트 개념과 활용</a></p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"특정 데이터의 조회 기능을 구현하려는데 테스트에서 자꾸 의도와는 다른 데이터가 출력된다.\n이런, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"data.sql"}]},{"type":"text","value":"을 통해 주입되고 있는 기본 데이터가 자꾸만 방해한다.\n프로덕션 코드의 실행에는 필요하지만, 테스트에는 필요하지 않은 데이터인데…\n어떻게 제거할 수 없을까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"테스트 환경 분리하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"data.sql"}]},{"type":"text","value":"이 적용되는 부분은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application.properties"}]},{"type":"text","value":"의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"spring.datasource.data"}]},{"type":"text","value":"를 통해 제어할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"spring.datasource.data="}]},{"type":"text","value":"과 같이 data가 할당되는 부분을 아예 비워둔다면 더는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"data.sql"}]},{"type":"text","value":"을 읽어 들이지 않을 것이다.\n하지만 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"data.sql"}]},{"type":"text","value":"이 application에는 필요하다면?\n매번 테스트마다 해당 설정을 넣었다가 테스트가 끝나고 뺄 수는 없는 노릇이다.\n이제 mysql도 도입하기로 했는데…\n테스트 때만 h2로 바꿨다가 다시 mysql로 돌리기도 이상하다.\n무엇보다도, 매번 그러기에는 너무 귀찮다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"간단한 방법으로 귀찮음을 제거할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"바로 테스트용 프로퍼티를 만들면 그만이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"test 폴더 하위에 main 폴더와 같이 resources 폴더를 생성하자.\n그 아래에 테스트에 필요한 설정을 담은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application.properties"}]},{"type":"text","value":"를 생성하면 끝난다.\n이젠 테스트를 실행할 때 마다 매번 설정을 바꿔주지 않아도 된다.\n테스트 시에는 알아서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"test/resources/application.properties"}]},{"type":"text","value":"를 인식하고 실행할 것이다.\n프로덕션 코드 실행 시에는 당연히 원래의 프로퍼티를 불러온다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 481px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/48fb3a3269bc94eac8b87bab0c0a1a2f/213b2/2020-09-21-application-properties-1.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 98.33679833679834%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADEElEQVR42pVU227TQBD1ryDxABJCSFBo7ontxI7j+z1OfEkaUAmlopSWq5BAIP6EN0AgARVIfAAgISiIzznMbmpUHqDh4WRm1+vjM3NmI/hhDC/JcGX3HmzXRxAPsVpv4gKh2myj1ur8F4Tz1TpkVUPfsGAFMTSKiqbDcDxIPZUfqrdFjqUImQpRUaEoCrz5NqSrt5AmCS7NN6AODKxUagvFtQYqjebRhOyHkVYbLZyjlxXbR76+ib5uwglCWJ4Pl2KUjGDY7nKEv8uiKGkGnCSHF0aw/QC65cD2Alov2nFUX38rbEldeI6LM2aIY+t34RAJU9XtD3B2tQrWa1b60gprLZGXKesW1CiFSvmA1PWIUCRzGNhHl1LIVRI03YDuRrh2NYdl9knhmIOVOxxnMMl5pvJfjguHFxUyptIgg+p1pBfncOIRLGpDPBpzxWWvlyx5UXaZe2SM4YXcFD+KoQz0gw+2/ofwoHzqU0GjE2dr8MntcDhCTKWPsgJJmqPRkf7oJR+7g/UfhOWNYOPTNXXIxgBKX8fAdsggm98mZhQjPIy23CX0+LtC2btVwnka7ArdiHMXqmgORbjFEMVkhmJtRioTpPmEm+RHQ4zzAtlkinw64z2ezC5y04RKvcVV6KYNn0o0ohG8IKJDKdqSgqZIKtoSqRZ5LCsp9xh4uc0Oz4W62IGoKuipPRjkbPvyFgrqVZylqLRokDsdNCQilcQDHM4P7y32hV7Qh+wrUCINYR5DzEU0d6oIp0NMNtbgFcHiedgHO3sUhDJRQg1+EULLbJjzAE7uExmNTWKh66v8OSNdxL9DUPwuGHqejHASIJk4uLETIZ3FmG7MkF7Oka7nKK5M4eYBWib9gbhdiI68gL1A25YguzKE08UrlDiVvcSZ4jlWZs9xdv4U1c1nMHY/wLj5DoOd9zB330HdfovO5ht0t95CuU7Y2kN/e4/O7aE2fw3hRPERJU7y+AnHs89YufEC6q0PyJ78JHyHde8rhg/34d7fh3b7K4IH+4gefkfy6AeMO98wfvwD4vUv+AUB6/gec0R2egAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"테스트용 프로퍼티","title":"","src":"/static/48fb3a3269bc94eac8b87bab0c0a1a2f/213b2/2020-09-21-application-properties-1.png","srcSet":["/static/48fb3a3269bc94eac8b87bab0c0a1a2f/213b2/2020-09-21-application-properties-1.png 481w"],"sizes":"(max-width: 481px) 100vw, 481px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{"style":"text-align:center;"},"children":[{"type":"text","value":"( 테스트 환경 분리 끝! )"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"여러 테스트를 진행 하다보니까 이번에는 특정 테스트만 조금 다른 설정이 필요해졌다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"data.sql"}]},{"type":"text","value":"의 데이터값은 잘 들어가는지도 테스트해보고 싶어졌다.\n그럴 때는 별도의 설정이 들어간 프로퍼티 파일을 한가지 더 만들자.\n이름은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application-data.properties"}]},{"type":"text","value":"라고 짓도록 하자.\n마지막으로 별도 설정이 필요한 테스트를 위해 새로운 테스트 클래스를 만들어준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@TestPropertySource"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"locations "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/application-data.properties\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@SpringBootTest"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"SpecialServiceTest"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// ... 생략"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{"style":"text-align:center;"},"children":[{"type":"text","value":"( 진짜로 테스트 환경 분리 끝! )"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 이 클래스 안에서는 우리가 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application-data.properties"}]},{"type":"text","value":"안에서 설정한 것들이 적용될 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"모든 테스트 코드가 잘 통과한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 프론트 페이지와의 연동은 잘 되었는지, 실제 작동은 잘 되는지를 확인해볼 차례다."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n프로덕션 코드를 실행시키고 테스트를 위해 nignx를 통해 8081포트에 페이지를 띄운다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"브라우저를 열어 확인하려는데 어째서인지 아무 데이터도 불러오질 못한다.\n조심스레 브라우저의 콘솔 창을 열어보니 CORS 오류가 반긴다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"아차, 이번에는 Config 클래스에서 설정하는 CORS 개방 경로를 바꿔주질 않았다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"배포 서버에는 해당 서버의 8000포트에 CORS를 열어뒀는데, localhost는 적용이 안 되어있으니 바꿔줘야 한다.\n하지만 매번 깜빡하니 일을 두 번씩 한다.\n설정을 바꾸고, 켜져 있던 서버를 끄고, 다시 켠다.\n여간 귀찮은 일이 아니다.\n간단하게 스위치 켜듯 알아서 변경해주면 좋으련만…"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"배포 환경 별로 별도의 설정 적용하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번에는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application-prod.properties"}]},{"type":"text","value":" 파일을 생성하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"cors.url"}]},{"type":"text","value":"을 기존의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application.properties"}]},{"type":"text","value":" 파일과 새로 만든 파일 둘 다에 필요한 값으로 작성한다.\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application.properties"}]},{"type":"text","value":" 파일은 로컬 환경의 프로퍼티로, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application-prod.properties"}]},{"type":"text","value":"는 배포 환경의 프로퍼티로 사용하자.\n각각 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"cors.url="}]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"https://dorandoran.io"}]},{"type":"text","value":"의 값을 갖도록 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"WebMvcConfig"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"implements"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"WebMvcConfigurer"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Value"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"${cors.url}\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" url"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Override"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"void"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"addCorsMappings"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"CorsRegistry"}]},{"type":"text","value":" registry"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        registry"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"addMapping"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/**\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"allowedOrigins"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"url"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"allowedMethods"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"*\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 아무 설정 없이 실행하면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application.properties"}]},{"type":"text","value":"의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"cors.url"}]},{"type":"text","value":" 값인 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":"을 받아 모든 접근 경로에 대해 CORS 정책 해제해 줄 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"배포 환경으로 실행할 때는 이제 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-Dspring.profiles.active=prod"}]},{"type":"text","value":" 옵션을 붙여주도록 하자.\n우리가 원한대로 특정 url에만 CORS 정책을 해제해 줄 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"1. 유저 홈 디렉토리에 있는 spring-boot-dev-tools.properties\n2. 테스트에 있는 @TestPropertySource\n3. @SpringBootTest 애노테이션의 properties 애트리뷰트\n4. 커맨드 라인 아규먼트\n5. SPRING_APPLICATION_JSON 내부의 프로퍼티\n6. ServletConfig 파라미터\n7. ServletContext 파라미터\n8. java:comp/env JNDI 애트리뷰트\n9. System.getProperties() 자바 시스템 프로퍼티\n10. OS 환경 변수\n11. RandomValuePropertySource\n12. JAR 밖에 있는 특정 프로파일용 application properties\n13. JAR 안에 있는 특정 프로파일용 application properties\n14. JAR 밖에 있는 application properties\n15. JAR 안에 있는 application properties\n16. @PropertySource\n17. 기본 프로퍼티"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{"style":"text-align:center;"},"children":[{"type":"text","value":"( 프로퍼티 적용 우선순위 )"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"프로퍼티 적용 우선순위를 확인해보면, 기본 프로퍼티는 가장 하위에 있고 실행 시 적용하는 커맨드 라인 아규먼트는 보다 상위에 있다.\n이 덕분에 우리는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application.properties"}]},{"type":"text","value":"를 로컬 환경으로 사용하고, 별도의 배포 환경에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application-prod.properties"}]},{"type":"text","value":"를 적용할 수 있는 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"로컬 환경과 배포 환경을 분리했으니, 이젠 데이터베이스도 별도로 가질 수 있게 되었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"더는 실행 시마다 개발 시의 설정인지 배포 시의 설정인지 확인하거나, 테스트 하는 동안 만든 데이터를 일일이 삭제할 필요가 없어졌다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"프로젝트가 조금씩 커가면서, 프로퍼티 안의 내용이 많아졌다.\nSpring Security도 추가하면서 Github같은 외부에는 숨기고 싶은 설정들도 생겨났다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"프로퍼티를 조금 더 정갈하게 정리하고, 특정 부분은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".gitignore"}]},{"type":"text","value":"로 관리할 수는 없을까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"속성 별로 파일 분리하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"물론 가능하다.\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"spring.profiles.include="}]},{"type":"text","value":" 속성을 사용하면, 프로퍼티 파일을 원하는 만큼 분리하고 한 번에 사용할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"숨기고 싶은 Security 관련 설정을 위해 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application-security.properties"}]},{"type":"text","value":" 파일을 만들자.\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"application.properties"}]},{"type":"text","value":" 안에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"spring.profiles.include=security"}]},{"type":"text","value":"를 추가하면 끝!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"prod"}]},{"type":"text","value":"같은 별도의 프로퍼티 파일이 있더라도, 기본 프로퍼티 파일이 적용된 후에 오버라이드 되는 형식이기 때문에 모든 실행 환경에 include가 적용될 것이다.\n만약 특정 실행 환경에만 적용하고 싶다면 해당 실행 환경의 프로퍼티에만 include 속성을 적용하면 될 일이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"참고 자료"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8"},"children":[{"type":"text","value":"스프링 부트 개념과 활용"}]}]}],"data":{"quirksMode":false}},"excerpt":"…","timeToRead":3,"frontmatter":{"title":"프로퍼티 파일을 활용해 쉽게 실행 환경 분리하기","userDate":"21 September 2020","date":"2020-09-21T12:00:00.000Z","tags":["properties"],"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3UlEQVR42m2SwWsTQRTG9+8UDz3p3f+gUESq4KG9S0ERIVQQPVptCz1IjWkxQY3RWtNtmk03m+zMzu7sTD7nm2VCLD0Ms/vNvN+8974Xaa1RVRWKooBSCmVZ+nVTD2fUVnXuXOEsklL6AwKMMX6nJoRwF+V/OjUhhQfcvD+bzTCfzxGRGl4KWWhdwdYWixoolXu51Ki1gTULGG1RVwZlUbkzF1uqJTTPc0T8ISSkTqg1FufpD/QuP2E6nyDJRhhlQ0xEjN+THuLpHwyTM1ylsYtpgIwjNCLVQ6xF5TMDvsVfsLl/D+vv72D36zb2B7t43n6E1sk2XnWe4l3vGV52njj9NZSskKbXvlxyotB8/rA/cMDW6Ra2jh5g5/MGHh/cx/H5Hr6P2khmMS7SM6R5gs7wEN3hMWReeNjSlLqul65JB7R6gf74BA8/rmFj7y5etDfxod/yWR0M3uCt238lXUADIm/MYKlkMLmocbNxjWX7fsgS/dEpOn8PkasM4/wCg3EXP2OuHq6uLx2k8IYQREaWZX7d6jI177JpXC6Em03pWqOcgYVzVEgfTFCIudXlMJNNG5ymmpKm2dTtmW8J+0xQmLsQw3jqfrAJ5JASFF4LL4bv1bKCo6s67xL6DzTMPi/CtHFKAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/516a73681232b8ef2340bd0196ec5b8c/ea178/spring-boot.png","srcSet":"/static/516a73681232b8ef2340bd0196ec5b8c/5b584/spring-boot.png 750w,\n/static/516a73681232b8ef2340bd0196ec5b8c/c1f05/spring-boot.png 1080w,\n/static/516a73681232b8ef2340bd0196ec5b8c/9f70c/spring-boot.png 1366w,\n/static/516a73681232b8ef2340bd0196ec5b8c/ea178/spring-boot.png 1800w","sizes":"100vw"},"sources":[{"srcSet":"/static/516a73681232b8ef2340bd0196ec5b8c/4814e/spring-boot.avif 750w,\n/static/516a73681232b8ef2340bd0196ec5b8c/acf79/spring-boot.avif 1080w,\n/static/516a73681232b8ef2340bd0196ec5b8c/28a6e/spring-boot.avif 1366w,\n/static/516a73681232b8ef2340bd0196ec5b8c/d963d/spring-boot.avif 1800w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/516a73681232b8ef2340bd0196ec5b8c/73e0d/spring-boot.webp 750w,\n/static/516a73681232b8ef2340bd0196ec5b8c/9fede/spring-boot.webp 1080w,\n/static/516a73681232b8ef2340bd0196ec5b8c/d6ece/spring-boot.webp 1366w,\n/static/516a73681232b8ef2340bd0196ec5b8c/8fb7c/spring-boot.webp 1800w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.525}}},"author":[{"name":"2기_우","bio":"우아한테크코스 2기 우(김현우)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#080818","images":{"fallback":{"src":"/static/d41f66eeb2f104d64b6d7b0b37a9093a/73bb6/woo.jpg","srcSet":"/static/d41f66eeb2f104d64b6d7b0b37a9093a/2f28c/woo.jpg 40w,\n/static/d41f66eeb2f104d64b6d7b0b37a9093a/499f6/woo.jpg 80w,\n/static/d41f66eeb2f104d64b6d7b0b37a9093a/73bb6/woo.jpg 120w","sizes":"100vw"},"sources":[{"srcSet":"/static/d41f66eeb2f104d64b6d7b0b37a9093a/e73fe/woo.webp 40w,\n/static/d41f66eeb2f104d64b6d7b0b37a9093a/61ca6/woo.webp 80w,\n/static/d41f66eeb2f104d64b6d7b0b37a9093a/507b0/woo.webp 120w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}],"source":null}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"36dc2fba-53c0-5ee7-a9d3-4353280500e4","timeToRead":3,"excerpt":"…","frontmatter":{"title":"프로퍼티 파일을 활용해 쉽게 실행 환경 분리하기","date":"2020-09-21T12:00:00.000Z"},"fields":{"slug":"/post/2020-09-21-application-properties/"}}}]}},"pageContext":{"slug":"/post/2020-09-21-application-properties/","prev":{"excerpt":"웹 개발을 처음 배우기 시작했다면 서버와 클라이언트의 통신은 모두 HTTP 프로토콜만 이용해서 이루어진다고 생각할 수 있습니다.\n하지만 웹 개발을 하면서 채팅, 게임, 주식 차트 등의 실시간 통신이 필요한 서비스를 구현하려 하면 HTTP…","timeToRead":2,"frontmatter":{"title":"웹소켓에 대해 알아보자","tags":["websocket"],"date":"2020-09-20T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAcBCAn/xAAUAQEAAAAAAAAAAAAAAAAAAAAH/9oADAMBAAIQAxAAAAHadK22UhwoOMkRy/8A/8QAGhAAAgMBAQAAAAAAAAAAAAAAAwQAAgYFFf/aAAgBAQABBQLXDc83NbHp2NDCGcS+KRVvP//EAB4RAAICAgIDAAAAAAAAAAAAAAEDBAUCEwYSABEi/9oACAEDAQE/AeJz6aXx2zpbWqXLkKzLIMrUOyBIU4e9wet2DVO+l9AVnFjNq2ZBJV5//8QAHREAAgICAwEAAAAAAAAAAAAAAgMBBAUSABETBv/aAAgBAgEBPwH6ellquex+XxuROsloiu7W9S1dNdip68vFiiBiuhZtMHsAaGAyyGc//8QAIxAAAgIBAgYDAAAAAAAAAAAAAgMBBAUREgATFCEiIwYQFf/aAAgBAQAGPwILNM8sM1LKm2Rw1sa1wqMztuGtZpeFpiFe5dfaJnIzAHEztKpUeDbuOfmpxta/f2hlJr2Ys9J1nJ9EXqzapxbrtWl/TOquiJ13Fw1LR3qcs1MCddCWwZAx7aT5DMx2nXhR18r8iXCWLatX7DjTEp7KiVsExYIB6o5m+eV4TOn1/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARITEQ/9oACAEBAAE/IXdXQgODYbO8ikxOaKuLBB3j+QFkCBQCgEiAHEdi4B1TQPAAdhjbn//aAAwDAQACAAMAAAAQdw//xAAXEQEAAwAAAAAAAAAAAAAAAAABEBEh/9oACAEDAQE/ENraPbdRGuOkHX//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QYX0AIQSPFtqUn//EABkQAQEBAAMAAAAAAAAAAAAAAAEAETFRkf/aAAgBAQABPxAMCpYmiKqRXMbI0h7AYQ6w2joPYPpsqXtCm/VZRTgHZtQGLds6YG5xf//Z"},"images":{"fallback":{"src":"/static/e01b4670fcf725ab86f6ab0d5f32cc5c/9a429/web-socket.gif","srcSet":"/static/e01b4670fcf725ab86f6ab0d5f32cc5c/9a429/web-socket.gif 650w","sizes":"100vw"},"sources":[{"srcSet":"/static/e01b4670fcf725ab86f6ab0d5f32cc5c/5cffb/web-socket.webp 650w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6153846153846154}}},"author":[{"name":"2기_유안","bio":"우아한테크코스 2기 유안(김성규)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAcIBQYJCv/EABgBAAIDAAAAAAAAAAAAAAAAAAYHAAMF/9oADAMBAAIQAxAAAAHs9ANTdJtEoMUhTf6z50XhV53Qwhf/xAAcEAADAQACAwAAAAAAAAAAAAADBQYEAggBBxX/2gAIAQEAAQUC3MMa4VDtXVQX3Z32XAurF2d/aBJlILsEy+pbOl+bxx4TKhUalaa37r//xAAjEQACAgIBBAIDAAAAAAAAAAABAgMEBRESAAYTIRQxFTJx/9oACAEDAQE/AVn70e1at4uji6lfGWpIoquWe4l7JiFgjSRrDA8dWCxsrWM53JtXIWBkmkx9uPKUKeSEZjF+rBcEbDTJ8iNZeJAAHrlr0B/B9dY53aPuHk7HxZqZY9sT41/FY1tJv9ByJbS6HIk/fVEBadRVAVVrVwqgaAAijAAA9AAegB1//8QAIhEAAgEDBAIDAAAAAAAAAAAAAQIDBBETAAUSIRRBQnOy/9oACAECAQE/AZn2Voo6aokqqjy0GSeiMGCmLLk43kkVppIhZpMfS2KgtIrIs0PiyyU1+Xju0PIG4OM8L3JJ9e76rVVdx2kBVAl22lMgAAEhNZUglx8iR1dr9dam7ml+x/0df//EACYQAAICAQQCAQQDAAAAAAAAAAIDAQQFERITIQAGFCIjMUIWJEP/2gAIAQEABj8C5rjoUGkzH5Iy29ltCO9B/Yp0Af2KNY8qU8dbELFe0NoTsOJCdm2RkohE2IlwdEqbSYUH1fXEz5k/VfYPTMB8zF2iWj5b8lLix8gE0m/KrXIr5ELCv7C76QWDltEYWPHp4uhWs64uwcoTE3HUkWwrKKJW9orNqq5yEmIITLrT3wtMiw+ReVmnSo4q1hSGqbkZW7Fu3aKw1AFhpYxqMpShy+ICtogrNzkohFZ6Sd5j3FO5yvVMJXsfnWHrm3JDrPcwMGMBM/57PPS7/GJfyitfTkqhgs6QqiUsEayzCWBtaItiWtcUMiC16jRmTp1tlmim38bfPKtXGl1seJbIKK/3UD1V4I2SQRpGm27k8gQlZYS1TxxsWIVVBWVADMlt+2qJnvs5KetdPP/EABkQAQEBAQEBAAAAAAAAAAAAAAERIQAQMf/aAAgBAQABPyFWTiQA0Cot1c+sDLIGB+RmEZi40AAWNK2A8wkovqEJJ3GrLnAdpG84keZAZ1WHuhdoghYFQOamHWxysL8wz5tC9CH5LncDynlYIlourELYBBD/2gAMAwEAAgADAAAAEJ/Hv//EABkRAQEBAQEBAAAAAAAAAAAAAAERIQAxYf/aAAgBAwEBPxCS2kRtBY2fpgSFKChoIfMDPgQ00rQFdMTIEGlR8BSPZhgAAMAO/8QAGBEBAQEBAQAAAAAAAAAAAAAAAREhADH/2gAIAQIBAT8Q8U20hiXYc9vfQaQyAuAoELUnaq1Oc3sLkASME6MzkoVVdVqq6q6q6r73/8QAGBABAQEBAQAAAAAAAAAAAAAAAREAEDH/2gAIAQEAAT8Q8H4IrWWccVgcsCyek9KQJCD/AIFVHnXne4eH9TUoUrx9yrUAxXQ7ltDTS3lWSrGpIyLWWa+YORIiTvKEHJYLxYWzAb5wXQ2FY2EeKeOf/9k="},"images":{"fallback":{"src":"/static/2f987f5d00781c4cb2aed3ed923e77df/a89ca/you.jpg","srcSet":"/static/2f987f5d00781c4cb2aed3ed923e77df/a89ca/you.jpg 600w","sizes":"100vw"},"sources":[{"srcSet":"/static/2f987f5d00781c4cb2aed3ed923e77df/6d09e/you.webp 600w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}]},"fields":{"layout":"post","slug":"/post/2020-09-20-websocket/"}},"next":{"excerpt":"해당 게시글은 JUnit5.x를 기준으로 작성되었습니다. 우아한테크코스 레벨2 미션 중에 의문이 생긴 적이 있었다. 테스트 코드를 작성하려는데 어떤 부분에서는 mock 객체를 을 통해 사용하고, 어떤 부분에서는 을 통해 사용하는 것이었다. import…","timeToRead":3,"frontmatter":{"title":"Mockito와 BDDMockito는 뭐가 다를까?","tags":["spring","test"],"date":"2020-09-29T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIUlEQVR42pVR20rDQBDNv/oH/oIIFh/1xSftgy8iFF8slBpiqJde7NqiaS7NiiZSjW3SZDcmJtnVTatrkRTqYRjOMMycw4zwuRoopTxzCKsPZyRdOhyGoe/7rusGQeB5HuNxHLPScRzWbfSqt/qlbb8gjLkFgTPPm0L4wGJomIoyUFVN1wyWTRNG8bvcrVv287ncSdK0QJm5ihKUZR9JGhGaoWgy9i2MEQAgjhIZ1HZPNiQgLRr/VX50+vLd4dXguGueXmsVAGuSUq6KR6Wt7YP9cmlvc31nraHU5xdYVM6LKX4dTaD9pul2B456hnXz5CjqsN9qtUXx7KLZvLesMQqXXju3kMf3Qkpm+UeHUt4rfhWdB+VkBkLInyf978+F+AIFjzf6+/Kb7wAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/59b49d402cde3507f22159a21b3f7a69/c2a7b/mockito.png","srcSet":"/static/59b49d402cde3507f22159a21b3f7a69/da04c/mockito.png 750w,\n/static/59b49d402cde3507f22159a21b3f7a69/c2a7b/mockito.png 774w","sizes":"100vw"},"sources":[{"srcSet":"/static/59b49d402cde3507f22159a21b3f7a69/bcdb5/mockito.webp 750w,\n/static/59b49d402cde3507f22159a21b3f7a69/44075/mockito.webp 774w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4909560723514212}}},"author":[{"name":"2기_스티치","bio":"우아한테크코스 2기 스티치(이준영)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAgGBwn/xAAWAQEBAQAAAAAAAAAAAAAAAAAEBQP/2gAMAwEAAhADEAAAAe67WR55Mz1XYVqaVIxCMoMUJ3//xAAeEAACAwABBQAAAAAAAAAAAAAEBQIDBgcBERIUFf/aAAgBAQABBQI4w0OCvoJfRT28+RXcVibjjSTBOXNY3x2VPuZ4ZgwtlmH7L5n/xAAiEQABAwMDBQAAAAAAAAAAAAABAgMRAAQhIjHwMkFRcbH/2gAIAQMBAT8Bu227Z9bbapBTO2wxCZ9Z4KC8Cr8kXjUE6kNpVnqSVmQryD3Bwa58r//EAB8RAAECBwEBAAAAAAAAAAAAAAECEQADBBIhMUFRYv/aAAgBAgEBPwGlWuolCbM3da+GLbNvMwUFzFEAaOY4BtWtSflQSGUPCOEZgkvuP//EACUQAAMAAQMEAgIDAAAAAAAAAAECAwQREhMAISIxFCRBYQVjsf/aAAgBAQAGPwKONm5bPY42HSmPyIMYO0QzHIpM7cpcQY4CEk8hiXYTWbBhnSuuaMorQZSOlZNou3WTJuT8exqfx29dZegJ+0/fX+uQ/fXOkKWyMqhw0sqM88eZVmatqoNJshOuJvbysxGhXfqyUzM2UeP6+GXouDlUrVRVqIRx8kI61gZ7SWJY7gunWTQFQGy6EeevYzkf1/nWdvpafxDO6CFDIUZKAKtwO1UB8wp9OAw0I6xv4+uflVw7XY/HdwUjR97c2P46workuOMhdSQysrMp8qhjzuNzA7m2pNQT396Adf/EABoQAQADAQEBAAAAAAAAAAAAAAEAESFRMUH/2gAIAQEAAT8hMdWAYPGLJF8KI8RZp+gtsO4yzu7NuvRwHmfIAptlItrgYSQY2CNaiLbfg95YK4MCFCprKN8ebVwKW2ZD0iwD1+DSwWXJjeHLpQbha2rPIR0kAX5P/9oADAMBAAIAAwAAABDI/wCD/8QAHBEBAQACAwEBAAAAAAAAAAAAAREAIUFRcTFh/9oACAEDAQE/EHABHYWUkRJUbqFKjD+k5nqPBN/nZ0YMCDIgDGGGAoABGZAYEKaPc//EAB0RAQABBAMBAAAAAAAAAAAAAAERACExUUFh0XH/2gAIAQIBAT8QHwiMBQABYFuEjDAzeW+utv3ymFBAgqdLdSsASwlSF3HLo8K//8QAGBABAQEBAQAAAAAAAAAAAAAAAREhADH/2gAIAQEAAT8Q56leCFFsEzp7LuuN+UQNiJJco3QAokYxCAQBNH0zvWnGRRx3dvIDC0vnHBhisdz7wdwGELWtBkEkflMWZh4PeEIIYxs3fdlmbR20iTskJhQWd//Z"},"images":{"fallback":{"src":"/static/956289f603f566be6276e5a77ff3ca9a/47930/stitch.jpg","srcSet":"/static/956289f603f566be6276e5a77ff3ca9a/47930/stitch.jpg 400w","sizes":"100vw"},"sources":[{"srcSet":"/static/956289f603f566be6276e5a77ff3ca9a/416c3/stitch.webp 400w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}]},"fields":{"layout":"post","slug":"/post/2020-09-29-compare-mockito-bddmockito/"}},"primaryTag":"properties"}},"staticQueryHashes":["2337738035"],"slicesMap":{}}