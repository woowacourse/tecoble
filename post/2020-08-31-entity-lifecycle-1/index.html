<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.27.0"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://tecoble.techcourse.co.kr/post/2020-08-31-entity-lifecycle-1/" data-baseprotocol="https:" data-basehost="tecoble.techcourse.co.kr"/><title data-react-helmet="true">Entity Lifecycle을 고려해 코드를 작성하자 1편</title><link data-react-helmet="true" rel="icon" href="data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjhJREFUeNrEV4uRgkAMzdmAlGAJdqDXgSVYgiXQgSVYgiWgFYAVYAdqBXv7kDAhhGVFPDOT8QObvPyzRDU55xLPqefSfY7KWkdCkmrlufs/yhnET/0l87ykCLper1QUBV0uF7rf79Xv5fJ5dLVa0Xq9pkgqPP9S7ZInrDx3m83GwSlJkrg0bR65LMucF149CzHObbdbV5ZRkUyJY3673arDWuBut6ve5N8QfjgcOgoAcL/fO++N5l1pQF9OUAPFv9xnFZRBQaRV1bsMBJ8wro8aAOx6iyFwDMFbQyCiPdBnKRi500cIF2Qgf4IAoMTKAXhGK7W8FUo+9oSVE9QqTm/JYrFoJRy7Dp8saKgKYLUmyMUzHQqKjWcoRyzWIOA5ywtkvaRjGsqPkCd0OOAFcC8AdrE82NcfYhjyLEOkgS0AyFSUjJXFY9nyMBoW00w259PpRN5FrYZ9Pp/pHYJMJp4Tj8ej+W+mD/BgkcNnapIyZ/Rl6gDAqJWkQzIFSZktAIiRdjlm/Dsk9wPOh/l8bgNA/OEBCcI3IPJlOEq5L0MzoVtLiyyT4/HYKZMpGxHKPNiI+rrVFK2YB54G1QHA1uqePXYYQQ53UjncgsOItxlrzr8yjq0uqtuzCQCKIRAcWjaGFhIL6GAOaPQAMXYlw0KrAehZE9wHUBUyfq8spagk9qQEAJkaQFAqlMr7QOxaDsUcTpwBa+W8lqexVn3iYvLy1QzXMbRUXM14drx1Nfv25ZS+fT3/E2AAsWMCdac8y9AAAAAASUVORK5CYII=" type="image/x-icon"/><meta data-react-helmet="true" name="description" content="서비스를 개발하다보면 생각하지도 못한 부분에서 버그가 발생하는 때가 있다. 특히 프로젝트 막바지에 이런 경험을 한다면? 생각하기도 싫은 상황일 것이다. 레벨…"/><meta data-react-helmet="true" property="og:site_name" content="Tecoble"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Entity Lifecycle을 고려해 코드를 작성하자 1편"/><meta data-react-helmet="true" property="og:description" content="서비스를 개발하다보면 생각하지도 못한 부분에서 버그가 발생하는 때가 있다. 특히 프로젝트 막바지에 이런 경험을 한다면? 생각하기도 싫은 상황일 것이다. 레벨…"/><meta data-react-helmet="true" property="og:url" content="https://post/2020-08-31-entity-lifecycle-1/"/><meta data-react-helmet="true" property="og:image" content="https://static/b9f10070e67a05a13265cb154b3a8858/7bcbe/cycle.png"/><meta data-react-helmet="true" property="article:published_time" content="2020-08-31T12:00:00.000Z"/><meta data-react-helmet="true" property="article:tag" content="jpa"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Entity Lifecycle을 고려해 코드를 작성하자 1편"/><meta data-react-helmet="true" name="twitter:description" content="서비스를 개발하다보면 생각하지도 못한 부분에서 버그가 발생하는 때가 있다. 특히 프로젝트 막바지에 이런 경험을 한다면? 생각하기도 싫은 상황일 것이다. 레벨…"/><meta data-react-helmet="true" name="twitter:url" content="https://post/2020-08-31-entity-lifecycle-1/"/><meta data-react-helmet="true" name="twitter:image" content="https://tecoble.techcourse.co.kr//static/b9f10070e67a05a13265cb154b3a8858/7bcbe/cycle.png"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="2기_라테"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="jpa"/><meta data-react-helmet="true" property="og:image:width" content="2454"/><meta data-react-helmet="true" property="og:image:height" content="1548.9225806451614"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-674180cef417bd6b6e8f.js"/><link as="script" rel="preload" href="/framework-2de79c8137b068b61a3a.js"/><link as="script" rel="preload" href="/app-7871a49fb71b5d2fd8af.js"/><link as="script" rel="preload" href="/commons-4c188b18bcaae3f07bde.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-a08628f9047d81b892e4.js"/><link as="fetch" rel="preload" href="/page-data/post/2020-08-31-entity-lifecycle-1/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2130001345.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4041952199.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion="css-global 8s70am">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:inherit;}a{background-color:transparent;}a:active,a:hover{outline:0;}b,strong{font-weight:bold;}i,em,dfn{font-style:italic;}h1{margin:0.67em 0;font-size:2em;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type='button'],input[type='reset'],input[type='submit']{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type='checkbox'],input[type='radio']{box-sizing:border-box;padding:0;}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{height:auto;}input[type='search']{box-sizing:content-box;-webkit-appearance:textfield;}input[type='search']::-webkit-search-cancel-button,input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{overflow:auto;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}body{overflow-x:hidden;color:#303a3e;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:'liga' on;}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed;}audio,canvas,iframe,img,svg,video{vertical-align:middle;}fieldset{margin:0;padding:0;border:0;}textarea{resize:vertical;}p,ul,ol,dl,blockquote{margin:0 0 1.5em 0;}ol,ul{padding-left:1.3em;padding-right:1.5em;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}ul{list-style:disc;}ol{list-style:decimal;}ul,ol{max-width:100%;}li{margin:0.5em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171A;font-weight:500;text-align:right;}dd{margin:0 0 5px 0;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em 0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:300;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote cite{font-weight:bold;}blockquote cite a{font-weight:normal;}a{color:#26a6ed;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:600;text-rendering:optimizeLegibility;}h1{margin:0 0 0.5em 0;font-size:5.5rem;font-weight:600;}@media (max-width: 500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em 0;font-size:2.2rem;}@media (max-width: 500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em 0;font-size:1.8rem;font-weight:500;}@media (max-width: 500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em 0;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}body{background:#fff;}@media (prefers-color-scheme: dark){body{color:rgba(255, 255, 255, 0.75);background:#191b1f;}img{opacity:0.9;}}</style><style data-emotion="css 12e1ozp">.css-12e1ozp .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-12e1ozp .site-main{background:#191b1f;}}</style><style data-emotion="css 159sn72">.css-159sn72{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-159sn72 .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-159sn72 .site-main{background:#191b1f;}}</style><div class="css-159sn72"><header class="site-header"><style data-emotion="css sdrsc">.css-sdrsc{position:relative;padding:0 5vw;position:fixed;top:0;right:0;left:0;z-index:1000;background:#0a0b0c;}@media (max-width: 700px){.css-sdrsc{padding-right:0;padding-left:0;}}</style><div class="css-sdrsc"><style data-emotion="css 1q5n7pp">.css-1q5n7pp{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-1q5n7pp"><style data-emotion="css 1phqi3w">.css-1phqi3w{position:relative;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;overflow-y:hidden;height:64px;font-size:1.3rem;}</style><nav class="css-1phqi3w"><style data-emotion="css vp1an1">.css-vp1an1{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;margin-right:10px;padding:10px 0 80px;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;white-space:nowrap;-ms-overflow-scrolling:touch;}@media (max-width: 700px){.css-vp1an1{margin-right:0;padding-left:5vw;}}</style><div class="site-nav-left css-vp1an1"><style data-emotion="css 1l8e9ha">.css-1l8e9ha{position:relative;z-index:100;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:inline-block;margin-right:32px;padding:12px 0;color:#fff;font-size:1.7rem;line-height:1.8rem;font-weight:bold;letter-spacing:-0.5px;text-transform:none;}.css-1l8e9ha:hover{-webkit-text-decoration:none;text-decoration:none;}.css-1l8e9ha img{display:block;width:auto;height:21px;}</style><a class="site-nav-logo css-1l8e9ha" href="/"><img src="/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png" alt="Tecoble"/></a><style data-emotion="css 1muigz5">.css-1muigz5{position:relative;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;}</style><div class="css-1muigz5"><style data-emotion="css 1gas2t1">.css-1gas2t1{position:absolute;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-1gas2t1 li{display:block;margin:0;padding:0;}.css-1gas2t1 li a{position:relative;display:block;padding:12px 12px;color:#fff;opacity:0.8;-webkit-transition:opacity 0.35s ease-in-out;transition:opacity 0.35s ease-in-out;}.css-1gas2t1 li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-1gas2t1 li a:before{content:'';position:absolute;right:100%;bottom:8px;left:12px;height:1px;background:#fff;opacity:0.25;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-1gas2t1 li a:hover:before{right:12px;opacity:0.5;}</style><ul role="menu" class="css-1gas2t1"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="https://woowacourse.github.io/">woowacourse</a></li></ul><style data-emotion="css ybggi6">.css-ybggi6{visibility:hidden;position:absolute;top:9px;color:#fff;font-size:1.7rem;font-weight:400;text-transform:none;opacity:0;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);-webkit-transform:translateY(175%);-moz-transform:translateY(175%);-ms-transform:translateY(175%);transform:translateY(175%);}.css-ybggi6 .dash{left:-25px;}.css-ybggi6 .dash:before{content:'– ';opacity:0.5;}</style><span class="nav-post-title css-ybggi6">Entity Lifecycle을 고려해 코드를 작성하자 1편</span></div></div><style data-emotion="css 19iu1ve">.css-19iu1ve{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:10px 0;height:64px;}@media (max-width: 700px){.css-19iu1ve{display:none;}}</style><div class="css-19iu1ve"><style data-emotion="css ienhkd">.css-ienhkd{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-ienhkd"></div></div></nav></div></div></header><style data-emotion="css zqbwy4">.css-zqbwy4{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 5vw;}@media (prefers-color-scheme: dark){.css-zqbwy4{background:#191b1f;}}</style><main id="site-main" class="site-main css-zqbwy4"><div class="css-1q5n7pp"><style data-emotion="css l1e7lw">.css-l1e7lw{position:relative;z-index:50;}</style><article class="css-l1e7lw"><style data-emotion="css rxh1cu">.css-rxh1cu{position:relative;margin:0 auto;padding:70px 170px 50px;border-top-left-radius:3px;border-top-right-radius:3px;}@media (max-width: 1170px){.css-rxh1cu{padding:60px 11vw 50px;}}@media (max-width: 800px){.css-rxh1cu{padding-right:5vw;padding-left:5vw;}}@media (max-width: 500px){.css-rxh1cu{padding:20px 0 35px;}}</style><header class="post-full-header css-rxh1cu"><style data-emotion="css 1ehbhhx">.css-1ehbhhx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:2.5rem;line-height:1.4em;font-weight:600;text-transform:uppercase;}</style><section class="post-full-tags css-1ehbhhx"><a href="/tags/jpa/">#jpa</a><a href="/tags/entity/">, <!-- -->#entity</a><a href="/tags/transaction/">, <!-- -->#transaction</a></section><style data-emotion="css qs7bhz">.css-qs7bhz{margin:0 0 0.2em;color:#0b0c0e;}@media (max-width: 500px){.css-qs7bhz{margin-top:0.2em;font-size:3.3rem;}}@media (prefers-color-scheme: dark){.css-qs7bhz{color:rgba(255, 255, 255, 0.9);}}</style><h1 class="post-full-title css-qs7bhz">Entity Lifecycle을 고려해 코드를 작성하자 1편</h1><style data-emotion="css 1v4p0ul">.css-1v4p0ul{margin:20px 0 0;color:var(--midgrey);font-family:Georgia,serif;font-size:2.3rem;line-height:1.4em;font-weight:300;}@media (max-width: 500px){.css-1v4p0ul{font-size:1.9rem;line-height:1.5em;}}@media (prefers-color-scheme: dark){.css-1v4p0ul{color:#90a2aa;}}</style><p class="post-full-custom-excerpt css-1v4p0ul"></p><style data-emotion="css cp69tq">.css-cp69tq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:35px 0 0;padding-top:15px;border-top:1px solid #e4eaed;}.css-cp69tq .post-full-byline-content{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-cp69tq .post-full-byline-content .author-list{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:0 12px 0 0;}.css-cp69tq .post-full-byline-meta{margin:2px 0 0;color:#90a2aa;font-size:1.2rem;line-height:1.2em;letter-spacing:0.2px;text-transform:uppercase;}.css-cp69tq .post-full-byline-meta h4{margin:0 0 3px;font-size:1.3rem;line-height:1.4em;font-weight:500;}.css-cp69tq .post-full-byline-meta h4 a{color:#2c3036;}.css-cp69tq .post-full-byline-meta h4 a:hover{color:#15171A;}.css-cp69tq .post-full-byline-meta .bull{display:inline-block;margin:0 4px;opacity:0.6;}@media (prefers-color-scheme: dark){.css-cp69tq{border-top-color:#3b4049;}.css-cp69tq .post-full-byline-meta h4 a{color:rgba(255, 255, 255, 0.75);}.css-cp69tq .post-full-byline-meta h4 a:hover{color:#fff;}}</style><div class="post-full-byline css-cp69tq"><section class="post-full-byline-content"><style data-emotion="css teqkql">.css-teqkql{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 0 0 4px;padding:0;list-style:none;}</style><ul class="author-list css-teqkql"><style data-emotion="css 1q168dw">.css-1q168dw{position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin:0;padding:0;}.css-1q168dw:hover .author-name-tooltip{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}</style><li class="author-list-item css-1q168dw"><style data-emotion="css 1xzzdyg">.css-1xzzdyg{position:absolute;bottom:130%;left:50%;z-index:600;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:-200px;width:400px;font-size:1.4rem;line-height:1.5em;background:white;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.06) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:scale(0.98) translateY(15px);-moz-transform:scale(0.98) translateY(15px);-ms-transform:scale(0.98) translateY(15px);transform:scale(0.98) translateY(15px);pointer-events:none;padding:20px 20px 22px;}.css-1xzzdyg:before{content:'';position:absolute;top:100%;left:50%;display:block;margin-left:-8px;width:0;height:0;border-top:8px solid #fff;border-right:8px solid transparent;border-left:8px solid transparent;}.css-1xzzdyg .author-info{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:0 0 0 20px;}.css-1xzzdyg .author-info h2{margin:8px 0 0;font-size:1.6rem;}.css-1xzzdyg .author-info p{margin:4px 0 0;color:color(var(--midgrey) l(-10%));}.css-1xzzdyg .author-info .bio h2{margin-top:0;}.css-1xzzdyg .author-info .bio p{margin-top:0.8em;}.css-1xzzdyg .author-profile-image{-webkit-flex:0 0 60px;-ms-flex:0 0 60px;flex:0 0 60px;margin:0;width:60px;height:60px;border:none;}@media (max-width: 1170px){.css-1xzzdyg{margin-left:-50px;width:430px;}.css-1xzzdyg:before{left:50px;}}@media (max-width: 650px){.css-1xzzdyg{display:none;}}@media (prefers-color-scheme: dark){.css-1xzzdyg{background:#22252a;box-shadow:0 12px 26px rgba(0, 0, 0, 0.4);}.css-1xzzdyg:before{border-top-color:#22252a;}}</style><div class="author-card css-1xzzdyg"><style data-emotion="css 121fnpm">.css-121fnpm{display:block;width:100%;height:100%;background:#e4eaed;border-radius:100%;object-fit:cover;}@media (prefers-color-scheme: dark){.css-121fnpm{background:#191b1f;}}</style><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADiklEQVQ4y62UXUybVRjHudm9F8YrE2925YXemWgmMwwKFOjHQhQXtyVOjUQNE7NsAmk32OychIZWrDI3s7nAJGuYMaILLmyATtgktJQWtsHcLIENqHyubz9/nveUti/djDdePDnvyXnP7/yf8/zPkxeNRtFGJBKRkf5W1FAihJXUmLueuz/v32DqZhWWTESBmIg4JGPEY1EJ10K14DwtLP2tblA3qzEzv85QIES/dwHfnWVW1hQJl4c+Bpr3OGWqolvBVZo671B53E9p47gIP2VN4+xzTHK+f1Yemoin/tcKytNOwhuwQV8I8zEfOyw+yq2jGD4awFh7BWPdELo6Dy/VjnLw9G2WVsMpqEZpJmVlI83AvRVMR31SlbnmMkbDSczlX1JR4KB0Wwt763o4PDiNye7DenZaAtMZZoDpibrYcGaKQquAfdCLobAVc5kL3fMWqiodOD0B3MkZLsTusdsxRsHHXq54F+WdhhVNyqpkVd3t4ArGo+NUWEYwVnwlYflPvclrr7xHa38fNQeaORe6ScvAdcp3uSk64qexYxoSMcnIKEzdXZzeP+YpPjKO6cM+ygucFD5bj+m5PXRFgzivDbBtSxGfX7/G27XnKSttR2/18JZzUlQ+LO30CPD73+6jU6u5r4eaY920jdzg7P1J3DygKyZSZZb9DS5KXrBh3nkaff0Ib7RMEFoOZ+5yE/Cq8JquwcPuz27whd9PV2JWQOb4TihUx9r6FvKfqMJU0oap8gwlFi/VbTdZW1eIaRXKFyFOmFkIY7Dd5dVWP9U1Lk4Fb3GRebpZxHqykxe3mESh7BiLHJire9ghitfs/lNaLf0sN/kwGl6l74Idjyuf0C8HuTTwLbbLwwI6x/5P3OhftmMqdmKs6sDQOIb+8BijU0sZYPbpRRQi4qlG533Q+SSMN4uJj0uf7uJdx680dQ9iMrRjNJ3C/M4PGBu9bBcG//rn4CZ1WWNHwkQSYml2iPi5p4n1vg7urdhO2Cg88Rf6A79TdmgYvWVUerTYOkb7T0FZWW2GWaDyEFmWwDckO54h8aOOZN9eLl6d5n3XFFXNAXYeD7DHPiF9Nzzxt/RtLkyTspAbFR1kbYHo0l3xnTpZOFYWbG5xneCDNRaXH6a6EFkj53aqVFHS0FhC3mUk08YUOaoOSIrXEN9oBLn98NEGKxWmRrVAqTF70cpG5Hbr/+zY/0f8AwerZodanHrxAAAAAElFTkSuQmCC" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/9b8401f8fe2bd979f155bd3fde782a94/22f7f/latte.png 40w,
/static/9b8401f8fe2bd979f155bd3fde782a94/587c9/latte.png 80w,
/static/9b8401f8fe2bd979f155bd3fde782a94/d966b/latte.png 120w,
/static/9b8401f8fe2bd979f155bd3fde782a94/bc8e0/latte.png 800w,
/static/9b8401f8fe2bd979f155bd3fde782a94/a1946/latte.png 944w" sizes="(max-width: 800px) 100vw, 800px" /><img loading="lazy" sizes="(max-width: 800px) 100vw, 800px" srcset="/static/9b8401f8fe2bd979f155bd3fde782a94/22f7f/latte.png 40w,
/static/9b8401f8fe2bd979f155bd3fde782a94/587c9/latte.png 80w,
/static/9b8401f8fe2bd979f155bd3fde782a94/d966b/latte.png 120w,
/static/9b8401f8fe2bd979f155bd3fde782a94/bc8e0/latte.png 800w,
/static/9b8401f8fe2bd979f155bd3fde782a94/a1946/latte.png 944w" src="/static/9b8401f8fe2bd979f155bd3fde782a94/bc8e0/latte.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="author-info"><div class="bio"><h2>2기_라테</h2><p>우아한테크코스 2기 라테(임민우)입니다 :)</p><p><a href="/author/2-기-라테/">More posts</a> by<!-- --> <!-- -->2기_라테<!-- -->.</p></div></div></div><style data-emotion="css cdhz0m">.css-cdhz0m{display:block;overflow:hidden;margin:0 -4px;width:40px;height:40px;border:#fff 2px solid;border-radius:100%;-webkit-transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;}@media (max-width: 500px){.css-cdhz0m{width:36px;height:36px;}}@media (prefers-color-scheme: dark){.css-cdhz0m{border-color:#1a1c20;}}</style><a class="author-avatar css-cdhz0m" href="/author/2-기-라테/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADiklEQVQ4y62UXUybVRjHudm9F8YrE2925YXemWgmMwwKFOjHQhQXtyVOjUQNE7NsAmk32OychIZWrDI3s7nAJGuYMaILLmyATtgktJQWtsHcLIENqHyubz9/nveUti/djDdePDnvyXnP7/yf8/zPkxeNRtFGJBKRkf5W1FAihJXUmLueuz/v32DqZhWWTESBmIg4JGPEY1EJ10K14DwtLP2tblA3qzEzv85QIES/dwHfnWVW1hQJl4c+Bpr3OGWqolvBVZo671B53E9p47gIP2VN4+xzTHK+f1Yemoin/tcKytNOwhuwQV8I8zEfOyw+yq2jGD4awFh7BWPdELo6Dy/VjnLw9G2WVsMpqEZpJmVlI83AvRVMR31SlbnmMkbDSczlX1JR4KB0Wwt763o4PDiNye7DenZaAtMZZoDpibrYcGaKQquAfdCLobAVc5kL3fMWqiodOD0B3MkZLsTusdsxRsHHXq54F+WdhhVNyqpkVd3t4ArGo+NUWEYwVnwlYflPvclrr7xHa38fNQeaORe6ScvAdcp3uSk64qexYxoSMcnIKEzdXZzeP+YpPjKO6cM+ygucFD5bj+m5PXRFgzivDbBtSxGfX7/G27XnKSttR2/18JZzUlQ+LO30CPD73+6jU6u5r4eaY920jdzg7P1J3DygKyZSZZb9DS5KXrBh3nkaff0Ib7RMEFoOZ+5yE/Cq8JquwcPuz27whd9PV2JWQOb4TihUx9r6FvKfqMJU0oap8gwlFi/VbTdZW1eIaRXKFyFOmFkIY7Dd5dVWP9U1Lk4Fb3GRebpZxHqykxe3mESh7BiLHJire9ghitfs/lNaLf0sN/kwGl6l74Idjyuf0C8HuTTwLbbLwwI6x/5P3OhftmMqdmKs6sDQOIb+8BijU0sZYPbpRRQi4qlG533Q+SSMN4uJj0uf7uJdx680dQ9iMrRjNJ3C/M4PGBu9bBcG//rn4CZ1WWNHwkQSYml2iPi5p4n1vg7urdhO2Cg88Rf6A79TdmgYvWVUerTYOkb7T0FZWW2GWaDyEFmWwDckO54h8aOOZN9eLl6d5n3XFFXNAXYeD7DHPiF9Nzzxt/RtLkyTspAbFR1kbYHo0l3xnTpZOFYWbG5xneCDNRaXH6a6EFkj53aqVFHS0FhC3mUk08YUOaoOSIrXEN9oBLn98NEGKxWmRrVAqTF70cpG5Hbr/+zY/0f8AwerZodanHrxAAAAAElFTkSuQmCC" alt="2기_라테" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/9b8401f8fe2bd979f155bd3fde782a94/22f7f/latte.png 40w,
/static/9b8401f8fe2bd979f155bd3fde782a94/587c9/latte.png 80w,
/static/9b8401f8fe2bd979f155bd3fde782a94/d966b/latte.png 120w,
/static/9b8401f8fe2bd979f155bd3fde782a94/bc8e0/latte.png 800w,
/static/9b8401f8fe2bd979f155bd3fde782a94/a1946/latte.png 944w" sizes="(max-width: 800px) 100vw, 800px" /><img loading="lazy" sizes="(max-width: 800px) 100vw, 800px" srcset="/static/9b8401f8fe2bd979f155bd3fde782a94/22f7f/latte.png 40w,
/static/9b8401f8fe2bd979f155bd3fde782a94/587c9/latte.png 80w,
/static/9b8401f8fe2bd979f155bd3fde782a94/d966b/latte.png 120w,
/static/9b8401f8fe2bd979f155bd3fde782a94/bc8e0/latte.png 800w,
/static/9b8401f8fe2bd979f155bd3fde782a94/a1946/latte.png 944w" src="/static/9b8401f8fe2bd979f155bd3fde782a94/bc8e0/latte.png" alt="2기_라테" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><a href="/author/2-기-라테/">2기_라테</a></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2020-08-31">31 Aug 2020</time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->7<!-- --> min read</span></div></section></section></div></header><style data-emotion="css 4wxe1t">.css-4wxe1t{margin:25px 0 50px;height:560px;background:#c5d2d9 center center;-webkit-background-size:cover;background-size:cover;border-radius:5px;}@media (max-width: 1170px){.css-4wxe1t{margin:25px -6vw 50px;border-radius:0;}.css-4wxe1t img{max-width:1170px;}}@media (max-width: 800px){.css-4wxe1t{height:400px;}}@media (max-width: 500px){.css-4wxe1t{margin-bottom:4vw;height:350px;}}</style><figure class="css-4wxe1t"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:63.11827956989248%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACYklEQVQ4y5WT7U/TYBTF+duMQ0B0imAAIYONsTcYe4Np1JD40fhFCQoZilMCbrCuXdun7fqytuvGYiJR3P9zvNkivgHqh5s0TZ5fzj33nIFs20TK05G0NSxZCuK6gqjGsKgwhGSGgCDjXkXG1JGEu6UaxvcF3N7jcbNYxY03VYzsVHFtm4Nv8whXNsoYOAM6GhIETBgKlk0VCU1DTFURJugMJ2PysA+cIODY5UCDgAaWSeGKrSLTsBCTm4jLLuYrLQRpYrKOWU7CREnAHQL63xGsyF2scKWpI+XWseo4CHGdHjBrGUjWTURF+lfxEOZNTJHK6RLZcChi7L2A668vAa55FpJam6ANZEnlbKmDmdIxEqyBJWZicu8Yq4qGp04N63UJKZG83a9hqHDOypmWjozlISLSI8fG2O4nXH3e7Y2/cIK4ZGH+yEaOacirDJGqggeKiHVNwPCO8Csw0zKQOzaworeRNjykTReDG18xtHmK4Zen9N1FuOogLtLKBy6yTEGhU0GgrOKJTp4WBfi2/lBokLImco0mAR2Mbn+G70W3Bxt59QWLgo1wxcFDVkeO4rTGJMR5hkxNgn9XwODW7x5SbPKeTRf9iHzTIt9c3No5gZ8mxHlI1XXMlV3cVzU81mU80iQ8swUEy+J5HvaPkiVo2miRj21SavWunDZ1LCkWAqUWrd2g6DAscJRTUjZ9IFJs+IuC3c9h2qGVbFqPb9MR2gR3ezlc4CiTtOL4h+855DH6lvtLUwiYMPstSRo6EqqJmGIgSpedExg1RfzP6v3U5Yja73JQYpjlf3R54h+A3wDIBs6lNbuYgwAAAABJRU5ErkJggg==" alt="Entity Lifecycle을 고려해 코드를 작성하자 1편" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/b9f10070e67a05a13265cb154b3a8858/3a443/cycle.png 930w,
/static/b9f10070e67a05a13265cb154b3a8858/4d929/cycle.png 1860w,
/static/b9f10070e67a05a13265cb154b3a8858/7bcbe/cycle.png 2454w" sizes="(max-width: 2454px) 100vw, 2454px" /><img loading="lazy" sizes="(max-width: 2454px) 100vw, 2454px" srcset="/static/b9f10070e67a05a13265cb154b3a8858/3a443/cycle.png 930w,
/static/b9f10070e67a05a13265cb154b3a8858/4d929/cycle.png 1860w,
/static/b9f10070e67a05a13265cb154b3a8858/7bcbe/cycle.png 2454w" src="/static/b9f10070e67a05a13265cb154b3a8858/7bcbe/cycle.png" alt="Entity Lifecycle을 고려해 코드를 작성하자 1편" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></figure><style data-emotion="css 1hzbvd8">.css-1hzbvd8{position:relative;margin:0 auto;padding:0 170px 6vw;min-height:230px;font-family:Georgia,serif;font-size:2rem;line-height:1.6em;background:#fff;}@media (max-width: 1170px){.css-1hzbvd8{padding:0 11vw;}}@media (max-width: 800px){.css-1hzbvd8{padding:0 5vw;font-size:1.8rem;}}@media (max-width: 500px){.css-1hzbvd8{padding:0;}}@media (max-width: 500px){.css-1hzbvd8 .post-full-custom-excerpt{font-size:1.9rem;line-height:1.5em;}}.css-1hzbvd8 .no-image{padding-top:0;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h5,.css-1hzbvd8 h6,.css-1hzbvd8 p,.css-1hzbvd8 ul,.css-1hzbvd8 ol,.css-1hzbvd8 dl,.css-1hzbvd8 pre,.css-1hzbvd8 blockquote,.css-1hzbvd8 .post-full-comments,.css-1hzbvd8 .footnotes{margin:0 0 1.5em 0;min-width:100%;}@media (max-width: 500px){.css-1hzbvd8 p,.css-1hzbvd8 ul,.css-1hzbvd8 ol,.css-1hzbvd8 dl,.css-1hzbvd8 pre,.css-1hzbvd8 .post-full-comments,.css-1hzbvd8 .footnotes{margin-bottom:1.28em;}}.css-1hzbvd8 li{word-break:break-word;}.css-1hzbvd8 li p{margin:0;}.css-1hzbvd8 a{color:#15171A;word-break:break-word;box-shadow:#15171A 0 -1px 0 inset;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1hzbvd8 a:hover{color:#3eb0ef;-webkit-text-decoration:none;text-decoration:none;box-shadow:#3eb0ef 0 -1px 0 inset;}.css-1hzbvd8 strong,.css-1hzbvd8 em{color:#0a0b0c;}.css-1hzbvd8 small{display:inline-block;line-height:1.6em;}.css-1hzbvd8 img,.css-1hzbvd8 video{display:block;margin:1.5em auto;width:100%;max-width:1040px;height:auto;}@media (max-width: 1040px){.css-1hzbvd8 img,.css-1hzbvd8 video{width:100%;}}.css-1hzbvd8 img[src$='#full']{max-width:none;width:100vw;}.css-1hzbvd8 img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1hzbvd8 iframe{margin:0 auto!important;}.css-1hzbvd8 blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:#3eb0ef 3px solid;}@media (max-width: 500px){.css-1hzbvd8 blockquote{padding:0 1.3em;}}.css-1hzbvd8 blockquote p{margin:0 0 1em 0;color:inherit;font-size:inherit;line-height:inherit;font-style:italic;}.css-1hzbvd8 blockquote p:last-child{margin-bottom:0;}.css-1hzbvd8 code{padding:0 5px 2px;font-size:0.8em;line-height:1em;font-weight:400!important;background:#e5eff5;border-radius:3px;}.css-1hzbvd8 p code{word-break:break-all;}.css-1hzbvd8 pre{overflow-x:auto;padding:20px;max-width:100%;color:#e5eff5;font-size:1.4rem;line-height:1.5em;border-radius:5px;}.css-1hzbvd8 pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1hzbvd8 pre code :not(span){color:inherit;}.css-1hzbvd8 .fluid-width-video-wrapper{margin:1.5em 0 3em;}.css-1hzbvd8 hr{margin:2em 0;}.css-1hzbvd8 hr:after{content:'';position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#e4eaed;box-shadow:#fff 0 0 0 5px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.css-1hzbvd8 hr+p{margin-top:1.2em;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h5,.css-1hzbvd8 h6{color:#0a0b0c;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.css-1hzbvd8 h1{margin:0.5em 0 0.4em;font-size:4.2rem;line-height:1.25em;font-weight:600;}.css-1hzbvd8 p+h1{margin-top:0.8em;}@media (max-width: 800px){.css-1hzbvd8 h1{font-size:3.2rem;line-height:1.25em;}}.css-1hzbvd8 h2{margin:0.5em 0 0.4em;font-size:3.2rem;line-height:1.25em;font-weight:600;}.css-1hzbvd8 p+h2{margin-top:0.8em;}@media (max-width: 800px){.css-1hzbvd8 h2{margin-bottom:0.3em;font-size:2.8rem;line-height:1.25em;}}.css-1hzbvd8 h3{margin:0.5em 0 0.2em;font-size:2.5rem;line-height:1.3em;font-weight:600;}.css-1hzbvd8 h2+h3{margin-top:0.7em;}@media (max-width: 800px){.css-1hzbvd8 h3{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1hzbvd8 h4{margin:0.5em 0 0.2em;font-size:2.5rem;font-weight:600;}.css-1hzbvd8 h2+h4{margin-top:0.7em;}.css-1hzbvd8 h3+h4{margin-top:0;}@media (max-width: 800px){.css-1hzbvd8 h4{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1hzbvd8 h5{display:block;margin:0.5em 0;padding:0.4em 1em 0.9em;border:0;color:#3eb0ef;font-family:Georgia,serif;font-size:3.2rem;line-height:1.35em;text-align:center;}@media (min-width: 1180px){.css-1hzbvd8 h5{max-width:1060px;}}@media (max-width: 800px){.css-1hzbvd8 h5{margin-bottom:1em;margin-left:1.3em;padding:0 0 0.5em;font-size:2.4rem;text-align:initial;}}.css-1hzbvd8 h6{margin:0.5em 0 0.2em 0;font-size:2rem;font-weight:700;}@media (max-width: 800px){.css-1hzbvd8 h6{font-size:1.8rem;line-height:1.4em;}}.css-1hzbvd8 table{display:inline-block;overflow-x:auto;margin:0.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;}.css-1hzbvd8 table{-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 0 center,radial-gradient(ellipse at right, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 100% center;background-attachment:scroll,scroll;-webkit-background-size:10px 100%,10px 100%;background-size:10px 100%,10px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table td:first-of-type{background-image:linear-gradient(
      to right,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table td:last-child{background-image:linear-gradient(
      to left,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-position:100% 0;background-position:100% 0;-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table th{color:#15171A;font-size:1.2rem;font-weight:700;letter-spacing:0.2px;text-align:left;text-transform:uppercase;background-color:#f4f8fb;}.css-1hzbvd8 table th,.css-1hzbvd8 table td{padding:6px 12px;border:#e1edf4 1px solid;}@media (prefers-color-scheme: dark){.css-1hzbvd8{background:#191b1f;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h6{color:rgba(255, 255, 255, 0.9);}.css-1hzbvd8 a{color:#fff;box-shadow:inset 0 -1px 0 #fff;}.css-1hzbvd8 strong{color:#fff;}.css-1hzbvd8 em{color:#fff;}.css-1hzbvd8 code{color:#fff;background:#000;}.css-1hzbvd8 hr{border-top-color:#2b2f36;}.css-1hzbvd8 figcaption{color:rgba(255, 255, 255, 0.6);}.css-1hzbvd8 table td:first-of-type{background-image:linear-gradient(to right, #191b1f 50%, #191b1f 100%);}.css-1hzbvd8 table td:last-child{background-image:linear-gradient(270deg, #191b1f 50%, rgba(25, 27, 31, 0));}.css-1hzbvd8 table th{color:rgba(255, 255, 255, 0.85);background-color:#2b2f36;}.css-1hzbvd8 table th,.css-1hzbvd8 table td{border:#2b2f36 1px solid;}.css-1hzbvd8 .kg-bookmark-container,.css-1hzbvd8 .kg-bookmark-container:hover{color:rgba(255, 255, 255, 0.75);box-shadow:0 0 1px rgba(255, 255, 255, 0.9);}}.css-1hzbvd8 code[class*='language-'],.css-1hzbvd8 pre[class*='language-']{color:white;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1hzbvd8 pre[class*='language-']{overflow:auto;}.css-1hzbvd8 *:not(pre)>code[class*='language-']{border-radius:0.3em;background:rgb(1, 22, 39);color:white;padding:0.15em 0.5em;white-space:normal;}.css-1hzbvd8 .token.attr-name{color:rgb(173, 219, 103);font-style:italic;}.css-1hzbvd8 .token.comment{color:rgb(128, 147, 147);}.css-1hzbvd8 .token.string,.css-1hzbvd8 .token.url{color:rgb(173, 219, 103);}.css-1hzbvd8 .token.variable{color:rgb(214, 222, 235);}.css-1hzbvd8 .token.number{color:rgb(247, 140, 108);}.css-1hzbvd8 .token.builtin,.css-1hzbvd8 .token.char,.css-1hzbvd8 .token.constant,.css-1hzbvd8 .token.function{color:rgb(130, 170, 255);}.css-1hzbvd8 .token.punctuation{color:rgb(199, 146, 234);}.css-1hzbvd8 .token.selector,.css-1hzbvd8 .token.doctype{color:rgb(199, 146, 234);font-style:'italic';}.css-1hzbvd8 .token.class-name{color:rgb(255, 203, 139);}.css-1hzbvd8 .token.tag,.css-1hzbvd8 .token.operator,.css-1hzbvd8 .token.keyword{color:#ffa7c4;}.css-1hzbvd8 .token.boolean{color:rgb(255, 88, 116);}.css-1hzbvd8 .token.property{color:rgb(128, 203, 196);}.css-1hzbvd8 .token.namespace{color:rgb(178, 204, 214);}.css-1hzbvd8 pre[data-line]{padding:1em 0 1em 3em;position:relative;}.css-1hzbvd8 .gatsby-highlight-code-line{background-color:hsla(207, 95%, 15%, 1);display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid #ffa7c4;}.css-1hzbvd8 .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto;}.css-1hzbvd8 .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}</style><section class="post-full-content css-1hzbvd8"><div><p>서비스를 개발하다보면 생각하지도 못한 부분에서 버그가 발생하는 때가 있다. 특히 프로젝트 막바지에 이런 경험을 한다면? 생각하기도 싫은 상황일 것이다. 레벨3 프로젝트를 진행하면서 이런 경험을 한 적이 있는데, 이 때 어려움을 겪은 부분을 공유해보고자 한다.</p>
<h2>문제 상황</h2>
<p>현재 로그인된 사용자의 정보를 Spring Security의 @AuthenticationPrincipal를 이용한 Annotation을 활용해 다음과 같이 받아 사용하고 있다.</p>
<blockquote>
<p>@AuthenticationPrincipal은 Security에서 미리 구현한 Annotation이다. 사용자 인증 정보를 통해 얻어진 유저 정보(UserDetails)를 가지고 올 수 있는 Annotation이며, 현재 유저 정보는 미리 구현한 CustomUserDetailsService 통해 load 된다.</p>
<p>@CurrentUser는 @AuthenticationPrincipal의 expression을 활용하여 유저 정보에서 실제로 구현한 User 클래스를 가지고 올 수 있는 Annotation이다.</p>
<p>쉽게 @CurrentUser는 로그인 유저 정보를 활용해 도메인에서 실제로 쓰이는 User 객체를 가져오는 일종의 ArgumentResolver를 생각하면 편할 것이다.</p>
</blockquote>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequiredArgsConstructor</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/me&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserResponse</span><span class="token punctuation">&gt;</span></span> <span class="token function">getCurrentUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@CurrentUser</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token class-name">UserResponse</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Entity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
   <span class="token annotation punctuation">@Id</span>
   <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
   <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

   <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

   <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

   <span class="token comment">// Getter, Setter...</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserResponse</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

    <span class="token comment">// Getter, static constructor</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>PARAMETER<span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token comment">// anonymousUser이면 EmptyUser를 반환하고, 아니면 구현 클래스에 있는 user 필드를 반환. EmptyUser는 비로그인 유저를 표현하기 위한 객체</span>
<span class="token annotation punctuation">@AuthenticationPrincipal</span><span class="token punctuation">(</span>expression <span class="token operator">=</span> <span class="token string">&quot;#this == &#x27;anonymousUser&#x27; ? new (...).EmptyUser() : user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">CurrentUser</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Service</span>
<span class="token annotation punctuation">@RequiredArgsConstructor</span><span class="token punctuation">(</span>access <span class="token operator">=</span> <span class="token class-name">AccessLevel</span><span class="token punctuation">.</span>PUBLIC<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomUserDetailsService</span> <span class="token keyword">implements</span> <span class="token class-name">UserDetailsService</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>readOnly <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDetails</span> <span class="token function">loadUserByUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> email<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">UsernameNotFoundException</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findByEmail</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token class-name">UsernameNotFoundException</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token class-name">UserPrincipal</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>이와 같이 현재 로그인 유저의 정보를 조회하는 로직을 구현하였다.</p>
<p>유저 기능과 관련된 개발을 하던 중 유저의 즐겨찾기를 구현하기 위해 User에 Favorites을 추가하고 User와 OneToMany 양방향 관계로 묶어주었다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Entity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Favorite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@ManyToOne</span>
    <span class="token keyword">private</span> <span class="token class-name">User</span> user<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
   <span class="token comment">// Getter, Setter...</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Entity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>cascade <span class="token operator">=</span> <span class="token class-name">CascadeType</span><span class="token punctuation">.</span>ALL<span class="token punctuation">,</span> orphanRemoval <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Favorite</span><span class="token punctuation">&gt;</span></span> favorites <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">// Getter, Setter...</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserResponse</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FavoriteResponse</span><span class="token punctuation">&gt;</span></span> favorites<span class="token punctuation">;</span>

    <span class="token comment">// Getter, static constructor</span>
<span class="token punctuation">}</span></code></pre></div>
<p>이와 같이 새롭게 기능을 추가하고 기존에 존재하는 인수 테스트를 수행하면 어떤 결과가 나올까?</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token comment">// UserAcceptanceTest.java</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@DisplayName</span><span class="token punctuation">(</span><span class="token string">&quot;현재 유저의 정보를 조회한다.&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">findme</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// given</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">// 사용자 회원가입 로직</span>
    <span class="token class-name">LoginRequest</span> loginRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LoginRequest</span><span class="token punctuation">(</span>TEST_EMAIL<span class="token punctuation">,</span> TEST_PASSWORD<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">AuthResponse</span> authResponse <span class="token operator">=</span> <span class="token function">requestTokenByLogin</span><span class="token punctuation">(</span>loginRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// when</span>
    <span class="token class-name">ExtractableResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Response</span><span class="token punctuation">&gt;</span></span> response <span class="token operator">=</span> <span class="token function">given</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span>AUTHORIZATION<span class="token punctuation">,</span> authResponse<span class="token punctuation">.</span><span class="token function">getTokenType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> authResponse<span class="token punctuation">.</span><span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/user/me&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// then</span>
    <span class="token function">assertThat</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">statusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEqualTo</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>OK<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:536px">
      <a class="gatsby-resp-image-link" href="/static/c1af30670b0b6fae93214a9534e50711/e52bb/2020-08-31-entity-lifecycle-02.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:54.400000000000006%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdElEQVQoz5WR3U7CQBCF+y4m0t9tsYVSAQX6s7RQBNLERAQjifENvPbNj2fbol4YAxenszu7882crfb5PsLbNkY1k9hlVCpxyOY4yjmqOEXOvVyUSJgryhVSmWOaZEgY58yv1lvIYgmZLzCezKB9vA5xWE1RTTPCMjwmKfaEHAnfzBLkLE7zAjOeFcsSMcETNlJRFguUD2tkhGW8M7qfQtMtD9e2gOEI6K06jlNHR7itBEQbT+vvvSN+8q4LTdgWxp6LITd3nodRHV2EwoFhGjBN8yJprm1jEQTY9PsoewEiAqswRB740HnBsqyLpBlt0ZLQXTRAxNGvdB0dw4A6O8msC5op/gXa/AS0N6Zd6fvocX3DN/SdJnp0oFxYtaUzJlSXC9pTVougsfwcRdiG/fpNVRMl1dg84wk0ZUXU0MbygJaNPx7bOheoOncJjG+6yDhJQJuqUOV/T3UuVPMI2N9GmBOmgC9cT7pdPNG2+lHOBTClL+ArX/Mdxyy8AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="2020 08 31 entity lifecycle 02" title="2020 08 31 entity lifecycle 02" src="/static/c1af30670b0b6fae93214a9534e50711/e52bb/2020-08-31-entity-lifecycle-02.png" srcSet="/static/c1af30670b0b6fae93214a9534e50711/0eb09/2020-08-31-entity-lifecycle-02.png 500w, /static/c1af30670b0b6fae93214a9534e50711/e52bb/2020-08-31-entity-lifecycle-02.png 536w" sizes="(max-width: 536px) 100vw, 536px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">// log
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: (...).domain.User.favorites, could not initialize proxy - no Session
    at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
    ...
    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]
    at (...).dto.UserResponse.of(UserResponse.java:42) ~[main/:na]
    at (...).controller.UserController.getCurrentUser(UserController.java:36) ~[main/:na]</code></pre></div>
<p>LazyInitializationException라는 Exception이 발생한다. 개발할 때 Lazy라는 단어를 본 적이 없는 것 같은데, 이 Exception은 어디서 발생하는 것일까? 우선 이 예외에 대해 파악해보도록 하자.</p>
<h2>LazyInitializationException은 무엇인가?</h2>
<p>JPA는 Entity에서 연관 Entity를 불러올 때(fetch) 두 가지 전략을 사용할 수 있다. Eager, Lazy가 그 것이다.</p>
<blockquote>
<p>Eager(즉시로딩) : Entity를 조회할 때 연관 Entity도 함께 조회한다.</p>
<p>Lazy(지연로딩) : Entity를 조회할 때 연관 Entity를 같이 조회하지 않으며, 연관 Entity가 <strong>실제로 사용</strong>될 때 조회한다.</p>
</blockquote>
<p>FetchType은 연관 Entity를 어떻게 조회할 것인지에 대한 설정값이다. 연관 Entity가 항상 같이 필요하면 즉시로딩, 필요할 때마다 쓰고 싶다면 지연로딩을 사용해야 적절할 것이다.</p>
<p>JPA의 구현체인 Hibernate에선 Lazy 로딩을 구현하기 위해 Proxy를 사용한다. Proxy에 대해 간단하게 살펴보면 다음과 같다.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:815px">
      <a class="gatsby-resp-image-link" href="/static/b361f70be7d7418962b4aaaa40a5f879/7190f/2020-08-31-entity-lifecycle-01.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:52%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6klEQVQoz5WQSWuFQBCE/f//yKN3Qb3oRRAX3Pdd45KPGXgv5IW8pMAZuuzqqmnlvu/jOJIkua5rXddlWaZpiqLI8zzf9ykh53nmzPPctu0gCCBvAYUPWdM0UEVRlGXpuq6qqpqm6bqeZRkMZ5qmlmWFYdj3Pc1SpUjnqqoo5Ly2bR3HoQ/Ntm2yj9MwDNM0CYX+KebC9voCyrquybnvu5wIgyFz4cdxfMZ+hbQahoFEowBKnk3GD4HfxBLsSRritgp8a3gjliucBB6GfxITnsBxHD829A8xICo75+Xneb7+fS8mdtd1P4o/AYABRBWIApA2AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="2020 08 31 entity lifecycle 01" title="2020 08 31 entity lifecycle 01" src="/static/b361f70be7d7418962b4aaaa40a5f879/7190f/2020-08-31-entity-lifecycle-01.png" srcSet="/static/b361f70be7d7418962b4aaaa40a5f879/0eb09/2020-08-31-entity-lifecycle-01.png 500w, /static/b361f70be7d7418962b4aaaa40a5f879/7190f/2020-08-31-entity-lifecycle-01.png 815w" sizes="(max-width: 815px) 100vw, 815px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<p>Proxy는 실제 Entity를 상속받아 만들어진다. Proxy 객체는 실제 Entity를 참조를 가지며 실제 Entity의 참조를 통해 기능을 수행한다.</p>
<p>지연로딩(Lazy loading)은 연관 Entity를 프록시 형태로 조회한다. 그리고 추후 연관 Entity가 필요할 경우, Proxy를 초기화하여 실제 Entity의 참조를 얻어내고 실제 Entity의 기능을 호출해 결과를 반환하는 형태로 기능을 수행한다. 초기화 과정을 살펴보면 실제 엔티티의 참조를 얻어내기 위해서는 영속성 컨텍스트의 도움이 필요하다는 것을 알 수 있고 영속성 컨텍스트가 존재하지 않을 경우, 실제 Entity에 대한 참조를 얻을 수 없기 때문에 문제가 생길 것을 예상해볼 수 있다.</p>
<p>위 Exception은 영속성 컨텍스트가 종료된 상황에서 지연로딩된 Proxy 객체에게 연관 Entity(Favorite)를 조회해달라고 요청한 부분이 문제였던 것이다. 영속성 컨텍스트 종료된 상황(no Session)에서 객체는 영속성 컨텍스트의 도움을 받을 수 없는 준영속 상태가 된다. User는 영속성 컨텍스트를 통해 연관 객체의 정보를 확인할 수 없기 때문에 Exception이 발생한 것이고, 그 Exception이 LazyInitializationException이었던 것이다.</p>
<p>정리하면 @CurrentUser라는 어노테이션을 통해 User를 편리하게 가지고 올 수 있었지만, Entity의 생명주기를 파악하지 못해 발생한 문제였다.</p>
<p>그렇다면 현재 LazyInitializationException을 방지하기 위해서 어떻게 해결해야 할까? 준영속 객체를 다시 영속화 시키던가, 아니면 필요한 Entity를 사전에 불러오면 될 것이다. 구체적인 방법에 대해 알아보자.</p>
<h2>생각해볼 수 있는 해결방안</h2>
<ol>
<li>Entity 다시 불러오기</li>
</ol>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token comment">// UserService.java</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@Transactional</span>
<span class="token keyword">public</span> <span class="token class-name">UserResponse</span> <span class="token function">findMe</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">UserResponse</span><span class="token operator">::</span><span class="token function">of</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token class-name">RuntimeException</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// UserContoller.java</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/me&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserResponse</span><span class="token punctuation">&gt;</span></span> <span class="token function">getCurrentUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@CurrentUser</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>userService<span class="token punctuation">.</span><span class="token function">findMe</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>
<p>기존에 받아온 User를 이용해 다시 한 번 정보를 조회한 후 영속성 컨텍스트 안에서 연관 Entity를 조회한다. 문제는 해결되지만 기존에 한 번 찾았던 Entity를 다시 한 번 불러오는 건 어색해보인다.</p>
<ol start="2">
<li>Entity 강제로 초기화 : 영속성 컨텍스트가 존재하는 상황에서 미리 필요한 Entity를 초기화하면 준영속 상태에서도 사용할 수 있다.</li>
</ol>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token comment">// CustomUserDetailsService.java</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@Override</span>
<span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>readOnly <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">UserDetails</span> <span class="token function">loadUserByUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> email<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">UsernameNotFoundException</span> <span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findByEmail</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token class-name">UsernameNotFoundException</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    user<span class="token punctuation">.</span><span class="token function">getFavorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 사용하는 시점에 연관 entity(Favorite) 초기화, Collection은 직접 요소를 사용해야 초기화가 수행됨</span>

    <span class="token keyword">return</span> <span class="token class-name">UserPrincipal</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>
<p>Spring Data Jpa는 Hibernate를 사용하기 때문에 <code class="language-text">Hibernate.initialize(user.getFavorites());</code>를 통해 직접 연관 Entity를 초기화를 해주는 방법도 있다. 하지만 @CurrentUser가 UserController에서 유저 정보를 조회하는 데에만 그치지 않고 유저 정보를 활용하는 또 다른 Controller에서 사용된다면, User가 가지고 있는 Favorites는 불필요한 정보가 될 것이다.</p>
<ol start="3">
<li>FetchType.EAGER : User Entity를 가지고 올 때 항상 Favorite도 같이 조회한다.</li>
</ol>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>cascade <span class="token operator">=</span> <span class="token class-name">CascadeType</span><span class="token punctuation">.</span>ALL<span class="token punctuation">,</span> orphanRemoval <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> fetch <span class="token operator">=</span> <span class="token class-name">FetchType</span><span class="token punctuation">.</span>EAGER<span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Favorite</span><span class="token punctuation">&gt;</span></span> favorites <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>사실 Fetch 전략을 Eager로 설정하면 간단하게 문제는 해결된다. 영속성 컨텍스트가 없어도 상위 Entity를 조회할 때 미리 연관 Entity도 같이 조회하기에 사용할 수 있게 되는 것이다. 하지만 다음과 같은 단점을 가진다.</p>
<ol>
<li>
<p>사용하지 않는 엔티티를 로딩한다.</p>
<ul>
<li>2)와 같은 문제로 Favorites는 불필요한 정보가 될 것이다.</li>
</ul>
</li>
<li>
<p>N+1 문제가 발생한다.</p>
<ul>
<li>현재 내정보를 조회하는 로직에서는 하나의 User만 조회하지만 추후 전체 User를 조회하는 기능이 생길 경우 즉시 로딩을 통해 연관 Entity까지 모두 조회하면, <a href="https://jojoldu.tistory.com/165">N+1</a> 문제가 발생한다. 자세한 내용은 너무 내용이 길어지기에 링크를 참조하길 바란다. 간단하게 요약하면 불필요하게 쿼리가 많이 발생하기에 Application 성능이 저하되는 문제가 생긴다는 것이다.</li>
</ul>
</li>
<li>join fetch 사용 : UserRepository에서 @Query를 통해 JPQL fetch join을 사용하면 Fetch 전략을 Eager로 가져가지 않고도 연관 Entity를 조회할 수 있다.</li>
</ol>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token comment">// UserRepository.java</span>

<span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT u FROM User u JOIN FETCH u.favorites WHERE u.email = :email&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByEmail</span><span class="token punctuation">(</span><span class="token class-name">String</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>다만 Repository의 findByEmail을 사용해 조회하는 모든 User는 불필요하게 Favorites를 불러온다 문제점이 있다. 즉 @CurrentUser를 통해 불러오는 User Entity는 항상 Favorites를 불러오게 된다는 것이다. Repository에서 불러올 Entity에 따라 메소드를 분리하면 되겠지만 연관 Entity가 많아진다면 경우의 수에 따라 메소드가 늘어나는 문제가 존재한다. 또 필요한 View에서 필요한 연관 Entity에 따라 find와 관련된 기능이 Repository 메소드에까지 추가되야 한다는 문제도 존재한다.</p>
<h2>그런데 말입니다.</h2>
<p>위에서 나온 해결방법은 결국 Controller에서 준영속 상태인 Entity가 지연로딩이 불가능하기 때문에 미리 연관 Entity를 불러오는 방식을 채택하고 있다. 이는 불필요한 정보를 항상 함께 조회한다는 문제점을 가지고 있다. 그렇다면 영속성 컨텍스트를 Controller까지 살아있도록 해주면 되지 않을까?</p>
<p>OSIV(Open Session In View)를 활용한다면 Controller에서도 영속성 컨텍스트가 존재해 지연 로딩이 가능해진다. 그런데 <a href="https://tecoble.techcourse.co.kr/post/2020-09-11-osiv">Spring Boot에서 OSIV 설정(spring.jpa.open-in-view) Default 값</a>은 <strong>true</strong>다! 이 말은 즉 현재 상황에서 Controller에는 여태까지의 설명과는 다르게 영속성 컨텍스트가 존재한다는 말과 같다.</p>
<p>하지만 기존에 작성해놓은 테스트에서는 분명히 LazyInitializationException이 발생했고, Proxy 초기화를 통해서 연관 Entity를 가지고 오는 것이 가능해졌다. 왜 이런 일이 발생했을까?</p>
<p>이 부분은 Spring Security가 어떤 방식으로 사용자 정보를 가지고 오는지, 그리고 JPA에서 OSIV가 어떤 방식으로 작동하는 지 이해가 필요하다.</p>
<p>다만 이 부분까지 다루기에는 글이 너무 길어져 다음에 다루도록 하겠다.</p>
<h2>이게 끝인가?</h2>
<p>위에서 나온 예시처럼 여러가지 방법을 통해 해결책을 꺼내볼 수 있었다. 하지만 과연 위에서 소개한 해결책이 위 상황에서 적절했을까? 현재 User Entity의 구조를 다시 한 번 살펴보자.</p>
<p>현재 Entity를 조회하는 로직에는 항상 Favorite도 조회하는 부분도 같이 존재한다. 서비스를 어떻게 구현하는 지에 따라 다르긴 하겠지만, 보통 User의 즐겨찾기가 User를 조회할 때 항상 같이 존재해야 한다고 생각하는 경우는 드물 것이다.</p>
<p>즉, 이 경우에는 fetch 타입을 Eager 혹은 Lazy로 할지, 혹은 LazyInitializationException을 어떻게 해결해야 하는 지 고민하는 것보다, 먼저 만들어놓은 Entity 구조나 API가 우리가 의도했던 기능에 적합한지에 대해 먼저 고민할 필요가 있었을 것이다.</p>
<p>때로는 log 메세지의 Exception에만 빠지지 말고 전체적인 설계를 살펴봐야 한다는 점을 이야기하며 글을 마치고자 한다.</p>
<h3>참고자료</h3>
<p><a href="http://www.acornpub.co.kr/book/jpa-programmig">김영한, 자바 ORM 표준 JPA 프로그래밍 [스프링 데이터 예제 프로젝트로 배우는 전자정부 표준 데이터베이스 프레임워크]</a></p>
<p><a href="https://jojoldu.tistory.com/165">창천향로, JPA N+1 문제 및 해결방안</a></p></div></section></article></div><div></div></main><style data-emotion="css 3pb1mm">.css-3pb1mm{position:relative;padding:0 5vw;}</style><style data-emotion="css rtegya">.css-rtegya{border-bottom:1px solid rgba(255, 255, 255, 0.1);background:#0a0b0c;position:relative;padding:0 5vw;}.css-rtegya .post-card{padding-bottom:0;border-bottom:none;}.css-rtegya .post-card:after{display:none;}.css-rtegya .post-card-primary-tag{color:#fff;opacity:0.6;}.css-rtegya .post-card-title{color:#fff;opacity:0.8;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-rtegya .post-card:hover .post-card-image{opacity:1;}.css-rtegya .post-card-excerpt{color:rgba(255, 255, 255, 0.6);}.css-rtegya .static-avatar{border-color:#000;}.css-rtegya .post-card-byline-content{color:rgba(255, 255, 255, 0.6);}.css-rtegya .post-card-byline-content a{color:rgba(255, 255, 255, 0.8);}.css-rtegya .author-avatar{border-color:#0a0b0c;}.css-rtegya .author-profile-image{background:#0a0b0c;}@media (max-width: 650px){.css-rtegya .post-card{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:25px;padding:25px 0 0;border-bottom:1px solid rgba(255, 255, 255, 0.1);}}</style><aside class="read-next css-rtegya"><div class="css-1q5n7pp"><style data-emotion="css si41tf">.css-si41tf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -25px;padding:60px 0 0 0;}</style><div class="read-next-feed css-si41tf"><style data-emotion="css 9rmdm3">.css-9rmdm3{position:relative;-webkit-flex:0 1 326px;-ms-flex:0 1 326px;flex:0 1 326px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 25px 50px;padding:25px;background:linear-gradient(
    #1a1c20,
    #0a0b0c
  );border-radius:3px;}.css-9rmdm3 a{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-9rmdm3 a:hover{-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 1170px){.css-9rmdm3{-webkit-flex:1 1 261px;-ms-flex:1 1 261px;flex:1 1 261px;margin-bottom:5vw;}}@media (max-width: 650px){.css-9rmdm3{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:0 25px;padding:0;background:none;}}</style><article class="read-next-card css-9rmdm3"><header class="read-next-card-header"><style data-emotion="css e6nomv">.css-e6nomv{margin:0;color:rgba(255, 255, 255, 0.6);font-size:1.2rem;line-height:1em;font-weight:300;letter-spacing:0.4px;text-transform:uppercase;}.css-e6nomv a{color:#fff;font-weight:500;-webkit-text-decoration:none;text-decoration:none;opacity:0.8;}.css-e6nomv a:hover{opacity:1;}</style><h3 class="css-e6nomv"><span>More in</span> <a href="/tags/jpa/">jpa</a></h3></header><style data-emotion="css 1omyahg">.css-1omyahg{font-size:1.7rem;}.css-1omyahg ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0;padding:0;list-style:none;}.css-1omyahg li{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin:0;padding:20px 0;border-bottom:rgba(255, 255, 255, 0.1);}.css-1omyahg li:last-of-type{padding-bottom:5px;border:none;}.css-1omyahg h4{margin:0;font-size:1.6rem;line-height:1.35em;font-weight:600;}.css-1omyahg li a{display:block;color:#fff;opacity:0.8;}.css-1omyahg li a:hover{opacity:1;}</style><div class="read-next-card-content css-1omyahg"><ul><li><h4><a href="/post/2021-08-15-jpa-cascadetype-remove-vs-orphanremoval-true/">JPA CascadeType.REMOVE vs orphanRemoval = true</a></h4><style data-emotion="css k775aa">.css-k775aa{margin-top:2px;font-size:1.2rem;line-height:1.4em;font-weight:400;}.css-k775aa p{margin:0;color:rgba(255, 255, 255, 0.6);}</style><div class="read-next-card-meta css-k775aa"><p><time dateTime="2021-08-15">15 Aug 2021</time> - <!-- -->6<!-- --> min read</p></div></li><li><h4><a href="/post/2021-08-15-pageable/">Pageable을 이용한 Pagination을 처리하는 다양한 방법</a></h4><div class="read-next-card-meta css-k775aa"><p><time dateTime="2021-08-15">15 Aug 2021</time> - <!-- -->6<!-- --> min read</p></div></li><li><h4><a href="/post/2021-08-08-basic-querydsl/">Spring Boot에 QueryDSL을 사용해보자</a></h4><div class="read-next-card-meta css-k775aa"><p><time dateTime="2021-08-08">08 Aug 2021</time> - <!-- -->7<!-- --> min read</p></div></li></ul></div><style data-emotion="css z3frum">.css-z3frum{position:relative;margin:40px 0 5px;}.css-z3frum a{padding:7px 12px 8px 14px;border:1px solid rgba(255, 255, 255, 0.6);color:rgba(255, 255, 255, 0.6);font-size:1.3rem;border-radius:999px;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-z3frum a:hover{border-color:#fecd35;color:#fecd35;-webkit-text-decoration:none;text-decoration:none;}</style><footer class="read-next-card-footer css-z3frum"><a href="/tags/jpa/">See all 9 posts<!-- --> →</a></footer></article><style data-emotion="css 1pe6fj0">.css-1pe6fj0{position:relative;-webkit-flex:1 1 301px;-ms-flex:1 1 301px;flex:1 1 301px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 0 40px;padding:0 20px 40px;min-height:220px;border-bottom:1px solid #eaeff1;-webkit-background-size:cover;background-size:cover;}@media (prefers-color-scheme: dark){.css-1pe6fj0{border-bottom-color:#2b2f36;}}</style><article class="post-card   css-1pe6fj0"><style data-emotion="css 19py1iz">.css-19py1iz{position:relative;display:block;overflow:hidden;border-radius:5px 5px 0 0;}</style><a class="post-card-image-link css-19py1iz" href="/post/2020-08-19-rest-assured-vs-mock-mvc/"><style data-emotion="css zj03fh">.css-zj03fh{width:auto;height:200px;background:#c5d2d9 no-repeat center center;-webkit-background-size:cover;background-size:cover;}</style><div class="post-card-image css-zj03fh"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:58.387096774193544%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAADFElEQVQoz4WTXUyTVxjHe+PNNBPRTWXK+9IioFQnpR1zzmjTbLKBLbRQWloo0FaQKh+CXxHjhSy72WKybPMjxK+LXWxhRgGJRhGKfEzdBzZDBZTGC2alnUrmkkXjz9PXJSbLEi9++T/nOf/8c85z3lfFkB6uCa7+H4ZXel3Ps773mLpgI9bnIiqIBd087C8T6uHv3g3Cp0P157ls7nfoedCpJ9IZVwMRsY50vKyVfoeBWJeOgbYcLrV/zkjvUUL9bfw+cJxbQycZHf6O4CkrU6e1qPwlWhbJatRpMinLUpA0Epp0NakZqUotp8pIqZLYk1m+Opsf2ru51HOFK4O/MHztBlevhxgJjWGxuxSfymHO5H1TAcXuCjYVlWIv92L8xMIa40YcHj82V4VQH+tzzUgZWj770sOP3fu52NNG6IYIG/mV27dGKSwp5c1FItBdqCXH+CnOcg95hUXUNe2gems9ldVbFC2wOyjz+smz2pHS08l1vkFTaxatX6/nTNdBJsbD3Lkzjs3pJvEdEegq0DJ7oZqFkpq3kjWYix3U1DVSva2eD00bmZeUzIKlKYo5U7eG2h1GrN7Z1OxKo3aPhqGBc0xHYhSVuhWvqmRTBsnL9dRtb6aqJoCzwou7arM4Ya2iWxub2VK/nbRVOjJWGwgGL1PdoMfum0egRcMX3xZyLzyO0+Nl7uKlYoYi0OyoZHfLPhHgExtVNO9pYXOgDn9gG407dxNoaOKjfAvLVmYxNjZBKPQzTXtN+Bok6g8kc7brK5xlfhKSRGCpZQWmfDvmIjvG3DyFYlc5+TY7FnH9+LBzLVbWmj5mRZaemzdHiUVjhCfv0n3+JN+fOSBe/Rhmq435S2RUTouWWYmymFEcNYlL1MprJSTJJCyWxTUkpT9X9DQrDYxNTDIdfch07BEzM//w5Mlz7v8xJb6GSua8LU7426kser7R0XdYR++hl8TrvkP/ovSz6T/8LidaPyA8PsLjaJhH05OKzkTv8tfjCO1HfJw/mIaKQfFr/SQYfg1xz5CBp/3rePYfngbXwWCO4nkBsU5BlwqsFSYAAAAASUVORK5CYII=" alt="MockMvc VS RestAssured cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/8b68c7125a79583f2ad00e00e928ba59/3a443/mockmvc.png 930w,
/static/8b68c7125a79583f2ad00e00e928ba59/4d929/mockmvc.png 1860w,
/static/8b68c7125a79583f2ad00e00e928ba59/e4dda/mockmvc.png 2378w" sizes="(max-width: 2378px) 100vw, 2378px" /><img loading="lazy" sizes="(max-width: 2378px) 100vw, 2378px" srcset="/static/8b68c7125a79583f2ad00e00e928ba59/3a443/mockmvc.png 930w,
/static/8b68c7125a79583f2ad00e00e928ba59/4d929/mockmvc.png 1860w,
/static/8b68c7125a79583f2ad00e00e928ba59/e4dda/mockmvc.png 2378w" src="/static/8b68c7125a79583f2ad00e00e928ba59/e4dda/mockmvc.png" alt="MockMvc VS RestAssured cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><style data-emotion="css susx73">.css-susx73{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="post-card-content css-susx73"><style data-emotion="css 11xyrw0">.css-11xyrw0{position:relative;display:block;color:#15171A;}.css-11xyrw0:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="post-card-content-link css-11xyrw0" href="/post/2020-08-19-rest-assured-vs-mock-mvc/"><style data-emotion="css 1s5mbbt">.css-1s5mbbt{margin:15px 0 0;}</style><header class="post-card-header css-1s5mbbt"><style data-emotion="css 1ws4skr">.css-1ws4skr{height:25px;margin:0 0 0.2em;color:#3eb0ef;font-size:1.7rem;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;}</style><div class="post-card-primary-tag css-1ws4skr">#spring</div><style data-emotion="css 1pqz7yn">.css-1pqz7yn{margin:0 0 0.4em;line-height:1.15em;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}@media (prefers-color-scheme: dark){.css-1pqz7yn{color:rgba(255, 255, 255, 0.85);}}</style><h2 class="post-card-title css-1pqz7yn">MockMvc VS RestAssured</h2></header><style data-emotion="css eyqgbm">.css-eyqgbm{font-family:Georgia,serif;}@media (prefers-color-scheme: dark){.css-eyqgbm{color:#90a2aa!important;}}</style><section class="post-card-excerpt css-eyqgbm"><p>MockMvc와 RestAssured…</p></section></a><style data-emotion="css k6f2l9">.css-k6f2l9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0;}</style><footer class="post-card-meta css-k6f2l9"><ul class="author-list css-teqkql"><li class="author-list-item css-1q168dw"><style data-emotion="css 1o16atw">.css-1o16atw{position:absolute;bottom:105%;z-index:999;display:block;padding:2px 8px;color:white;font-size:1.2rem;letter-spacing:0.2px;white-space:nowrap;background:#15171A;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.03) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:translateY(6px);-moz-transform:translateY(6px);-ms-transform:translateY(6px);transform:translateY(6px);pointer-events:none;}@media (max-width: 700px){.css-1o16atw{display:none;}}</style><div class="author-name-tooltip css-1o16atw">2기_둔덩</div><a class="author-avatar css-cdhz0m" href="/author/2-기-둔덩/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAcICQUG/8QAGQEAAgMBAAAAAAAAAAAAAAAABQYAAQME/9oADAMBAAIQAxAAAAGL74Z2zyLlqnjl4Z/XXORq7wJqn//EABwQAAMAAgMBAAAAAAAAAAAAAAQFBgIHAAEDFP/aAAgBAQABBQJNbVk+cBs2+RtGG4W+BjpozUBavZeNOjOisBStj0TNJemWrnJf9ZXfP//EACYRAAEDAwMCBwAAAAAAAAAAAAECAxEEEiEAEzEiUQUUFSMyQWH/2gAIAQMBAT8BaomqWgccZuUtzaDcFzYpw3fvK9wlZv6UmUD43dAuSryterIRVEHIISmDxxEY7Y14MB6XdAkLYAMZALmYP7999KqH1KJU+8olRklxZJyOSTr/xAAoEQACAQMCAgsAAAAAAAAAAAABAgMEESEAEgUTIjEyQUJRYWJxk7H/2gAIAQIBAT8BoVqhSo8KwxLJzESOZ5TaxAikG9OjjwDtLtJLXwaqdTZp6bcDY2fv+5fwfA1xZmEkABIBR72Jzg9fnpI4wqgIgFlwFHt9Nf/EACkQAAICAQMBBwUBAAAAAAAAAAIDAQQFERITAAYUISMkMlEVIiUxQrH/2gAIAQEABj8CqTTHNzLQ5bdaqi3Y0YsPKU5Kaz6bpIxKN8pIpbGosJJqYSK/bLC0n4q+iJx1qgDV23NgZmQZsUS1WNBmXVbC1mvWI1XJCPT4qYWmFKT9FNxjptNr+0XOBDYFBsKDnu5RvVGkFr7pxVWos6P1BN1iJHvNZvEo0+KZssm3G1lgPM3CJTECmdA65e09u3mc/Uy+Vx4JtX2StfCyu87zFJkOPyn8FmwcE186Qn1LNwtD8lPJMPjkxlOxAi4YYAKZZCShILkQWsZIVRHGRE0Wz12JzFJgd7xY1H14euHILnyhqsLcovepyo4zjUS2+IEJwJRkr9YMZjrUsslz4/F0kt3w3j5JcSmPYzQp+9rTmZ/evjHWrLDnn/TXtNrTn5IynWf8+I6//8QAGxABAAMBAAMAAAAAAAAAAAAAAQARITFBUWH/2gAIAQEAAT8hVZ1ILSWAMvfNIA+MMLZOKgLocIy/ZhmCPMNQnooyTyQaS5BppCl2cxaP7Cy4IjW5rtbf+sfXQYDiAq3BBv4AKRf3yeo+2FNCY35ADtH5Q4Bk/9oADAMBAAIAAwAAABDX8P8A/8QAGREBAQEBAQEAAAAAAAAAAAAAAREhADFB/9oACAEDAQE/ELMFb0n60sgEinA0dcJFQ4KPgZIYV5TMELNKFBggQQW8kwhcIVFWZr3/xAAaEQEBAAMBAQAAAAAAAAAAAAABEQAhMVGR/9oACAECAQE/EAwCDREwNpSEEyMoD0DAAlA0ByLlijADMxAEQAIAdlscIyCAwJoAA6/X3P/EABkQAQEBAQEBAAAAAAAAAAAAAAEAESEQUf/aAAgBAQABPxBIZQ6xJUgPeSItYR0HWypxY702ZvvoqAbuJhA9Ku7siwCMuYr5ZMuBnaisZigasreGlglssgGqDWkVKt4dXQfT2SexBkc1ddkNEl3PjiH/2Q==" alt="2기_둔덩" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/bf066f4bbef9e9297e8f2a6e551f4748/fd013/dundung.jpg 200w,
/static/bf066f4bbef9e9297e8f2a6e551f4748/25252/dundung.jpg 400w,
/static/bf066f4bbef9e9297e8f2a6e551f4748/f86e8/dundung.jpg 460w" sizes="(max-width: 460px) 100vw, 460px" /><img loading="lazy" sizes="(max-width: 460px) 100vw, 460px" srcset="/static/bf066f4bbef9e9297e8f2a6e551f4748/fd013/dundung.jpg 200w,
/static/bf066f4bbef9e9297e8f2a6e551f4748/25252/dundung.jpg 400w,
/static/bf066f4bbef9e9297e8f2a6e551f4748/f86e8/dundung.jpg 460w" src="/static/bf066f4bbef9e9297e8f2a6e551f4748/f86e8/dundung.jpg" alt="2기_둔덩" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><style data-emotion="css 12ys16c">.css-12ys16c{-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:4px 0 0 10px;color:#90a2aa;font-size:1.2rem;line-height:1.4em;font-weight:400;letter-spacing:0.2px;text-transform:uppercase;}.css-12ys16c span{margin:0;}.css-12ys16c a{color:#434952;font-weight:600;}@media (prefers-color-scheme: dark){.css-12ys16c a{color:rgba(255, 255, 255, 0.75);}}</style><div class="post-card-byline-content css-12ys16c"><span><a href="/author/2-기-둔덩/">2기_둔덩</a></span><span class="post-card-byline-date"><time dateTime="2020-08-19">19 Aug 2020</time> <span class="bull">•</span> <!-- -->3<!-- --> min read</span></div></footer></div></article><article class="post-card   css-1pe6fj0"><a class="post-card-image-link css-19py1iz" href="/post/2020-08-31-dto-vs-entity/"><div class="post-card-image css-zj03fh"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:66.23655913978494%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAADpUlEQVQ4yy2TW0wTBhSG+7anPe5te2EhBB0ClqtAoRBgpMzBKmxc5BJkgrJOgmECQgURYYAMWrCNtbWIMmRDlBlKGYVCuTXhIsONIoIonYphUYabCOxbmXs4yf9yvnw5f47A1FRDj6yI4awTmJNFDEhdaU8NIO+bEI5U5nO49jyS0hJkSiXrG5usWm/xqPFzftdlsHYtk7tyKcVOH5D87jtkO72PoP9qDYaCowzExWP9MovBI2m0S5Ppb9Nit99DoaglNEhMckQs5jMVLP34FfPy/SzJRdjq4rEUSJAFfEhudBTKa0YEvzXEsXIpibunPuZOTBiTx4oYUqgZ6+9mbn6SbnkpbfFpmGUFWGJDsTe48rfBj8WvXVhriWHU1IZa20SzZZHmUTuCX+u/YFWfwX1VCoawvcyUlfNi4xW2uUms1j70J49RGiKkSSpGE+bGgsILJgLZuuPLqjEIdZcRneUpV8wLaE1zCMwVB3l8KZV5ZTLDOWJG6nJ49defvHyxzuREH8WJgVSEe1Af60d5sBu3Ct3YGTkAowEsdQr5TlVEw+3p/2B6ywqCvvoY7Np0xqul9JWI6T1/iNmpIV6/2WbugRmdNhNlejiKxBAqY/1pTHLloUrIcrM3zw1CNB16WsfX0BhnUXX1IOg6HYC1MIgbJ8Ox3KhiulePzTbN1HAn+uoY1OckXNVkoHeAL5wRYa4SYlcIGZN7MNPgzvTNIl6u/UHXTyUUyN0RKPP38n2RGx1nPfj5hxxsC/eY6G3B6oBdPr6HC2nO6PK8aaqK5uZFX2wXPZmp3M9A7h5+ORfJmi6NZX0m4+1COvQ+CKYuC7G2+2DW+TOidafv9rcMNp5gRRWPsSwCU3kkmmw3ilOdMV33ZtngzVj+PkZP+fGgKYGN1iyeKOO43+bJkyEvR8t1Xjzt8mV70HFoiw+PumMYrE5kWXWYJVUqK5p0jMVBtCiOY+hIYlThxJQ8hGdX0nmoTmGkPoGmvGBqKzyZ7PZF8Nrk72jsgAPo/z/UmyX9JzxrPsqKY8muTWH1ugw2t9hcn2KsQcx4SajDLJvWsk+JSvAiNDaIwKh9xB1yQrBl9uefobfA3bwLf6yJYCRDzGCqiNnTETwfa2N9CxbWdujv6aS3MJRFZTy5WYGIApyROD5JEiwmzM8PwRvzrtVbux3HbDuyJScEk0RCb7gXwxEfYamVoR+0oTYtUqPvpKZMSu1ZEZIYF4Jc3iPcy53oyM84GBnLv+kXuLlRQ8NdAAAAAElFTkSuQmCC" alt="요청과 응답으로 엔티티(Entity) 대신 DTO를 사용하자 cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/943da662b142360a24c82c034a7a7038/3a443/sample3.png 930w,
/static/943da662b142360a24c82c034a7a7038/4d929/sample3.png 1860w,
/static/943da662b142360a24c82c034a7a7038/76326/sample3.png 2376w" sizes="(max-width: 2376px) 100vw, 2376px" /><img loading="lazy" sizes="(max-width: 2376px) 100vw, 2376px" srcset="/static/943da662b142360a24c82c034a7a7038/3a443/sample3.png 930w,
/static/943da662b142360a24c82c034a7a7038/4d929/sample3.png 1860w,
/static/943da662b142360a24c82c034a7a7038/76326/sample3.png 2376w" src="/static/943da662b142360a24c82c034a7a7038/76326/sample3.png" alt="요청과 응답으로 엔티티(Entity) 대신 DTO를 사용하자 cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><div class="post-card-content css-susx73"><a class="post-card-content-link css-11xyrw0" href="/post/2020-08-31-dto-vs-entity/"><header class="post-card-header css-1s5mbbt"><div class="post-card-primary-tag css-1ws4skr">#dto</div><h2 class="post-card-title css-1pqz7yn">요청과 응답으로 엔티티(Entity) 대신 DTO를 사용하자</h2></header><section class="post-card-excerpt css-eyqgbm"><p>…</p></section></a><footer class="post-card-meta css-k6f2l9"><ul class="author-list css-teqkql"><li class="author-list-item css-1q168dw"><div class="author-name-tooltip css-1o16atw">2기_보스독</div><a class="author-avatar css-cdhz0m" href="/author/2-기-보스독/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAkDBwgK/8QAFwEAAwEAAAAAAAAAAAAAAAAABQYIB//aAAwDAQACEAMQAAABpLzZn4scBlcWtR1Fl1O0nq7PQuBmO//EABsQAAIDAQEBAAAAAAAAAAAAAAMEAgUGBwEA/9oACAEBAAEFAoqS+y+/R02miIkfHugWFIop2G3o7setZKLtYxwmUs/GE6MY0//EACoRAAEDAQYDCQAAAAAAAAAAAAIBAwQRAAUGEyEiBxIxIyQyM0FCUmJy/9oACAEDAQE/AcL8NpWIbvlyROKDjyJHuUZc9mIcuYLoi6IR3SGQra+QEkmUiHIqznIQPEzki3sz3x5NvLlydOXSmjVNLYf7PDt2ZezvyeDb0mNl6U9yqX6VV6rZ274CuuKsGGqq4VVWMz8k+lv/xAAmEQABAwQBAQkAAAAAAAAAAAABAgMRBAUSIQATBiIjMTJCYWLT/9oACAECAQE/Abr2oeo6qjQ2fBDilXEpbLhbp+kS2rISJziUJPUCSF44+rrrV3sWTO5LjEmY+88t+6Vud6c89+9zgudyGhcK0D4q3/05/8QAKBAAAgIBBAAGAQUAAAAAAAAAAQMCBBEABRIhBhMUIjFBIzJRYXGB/9oACAEBAAY/AgB99D/etbn4aVsu80J0l3H079+oxVbckbfZjUtshyXEJw6cDXj5jC9MuZ8uXs1gdD+tVru5potTZs+lT6ZToh7gtjZwW03WxjwWlszPjP4xxJIGr+7t23anbduNjgaSi2NmMZsnOM1znOUq8uER5yuHAnDCOsaU2O1rEWrgyPK37uLIiYzhBGcHvB+deE0pWuuph3SU114QRGUlLrhZIWB+mJlEftGUgMZ0ufXsk7Ax17Ynoj7B+D/GqgjuG649LVIBuZEQa6/ZH8fUI/ER9DX/xAAaEAEBAQEBAQEAAAAAAAAAAAABESEAQTGR/9oACAEBAAE/IWOJR5fQK+G6+F5XGAdb6NONffC8zyP3qZJ5kkCxHiShXu9l7T52XNYRZq6IDTAmUEMUj1ABWzWDejMDI0hq+V4AoNuCZ1gnlQnXMmuEr3//2gAMAwEAAgADAAAAEA8Hg//EABkRAQEBAQEBAAAAAAAAAAAAAAERIQBBUf/aAAgBAwEBPxBVbuMw+4FQnxmxbEsGNCPoCZmCYMIsDlRcFL5H/BdFewCjVUVW1XVde//EABwRAQEBAAMAAwAAAAAAAAAAAAERIQAxUUFhcf/aAAgBAgEBPxBVjCdNA30s5Jzj6z6LQquj20tdKFTb1f5MdtuAfgHXAAEwAgeAQdHXnP/EABkQAQEBAQEBAAAAAAAAAAAAAAERIQAxQf/aAAgBAQABPxBbtLMEkhEQJ9DnAxKR0PFQ3xB2ywHBorVOVbVdeCX7jn8BWJj4ufamaK7uobpYyMXxGwgNDKansx0uTGo5DsOQVPYJcNGbabEg5I9MI1EcVBqKv//Z" alt="2기_보스독" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/87a3c66b92045802d34b84f5d45152f9/fd013/bossdog.jpg 200w,
/static/87a3c66b92045802d34b84f5d45152f9/25252/bossdog.jpg 400w,
/static/87a3c66b92045802d34b84f5d45152f9/f86e8/bossdog.jpg 460w" sizes="(max-width: 460px) 100vw, 460px" /><img loading="lazy" sizes="(max-width: 460px) 100vw, 460px" srcset="/static/87a3c66b92045802d34b84f5d45152f9/fd013/bossdog.jpg 200w,
/static/87a3c66b92045802d34b84f5d45152f9/25252/bossdog.jpg 400w,
/static/87a3c66b92045802d34b84f5d45152f9/f86e8/bossdog.jpg 460w" src="/static/87a3c66b92045802d34b84f5d45152f9/f86e8/bossdog.jpg" alt="2기_보스독" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><div class="post-card-byline-content css-12ys16c"><span><a href="/author/2-기-보스독/">2기_보스독</a></span><span class="post-card-byline-date"><time dateTime="2020-08-31">31 Aug 2020</time> <span class="bull">•</span> <!-- -->4<!-- --> min read</span></div></footer></div></article></div></div></aside><style data-emotion="css 1snipao">.css-1snipao{position:relative;padding:0 5vw;position:relative;padding-top:20px;padding-bottom:60px;color:#fff;background:#000;}</style><footer class="css-1snipao"><style data-emotion="css 1fhv7oo">.css-1fhv7oo{margin:0 auto;max-width:1040px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(255, 255, 255, 0.7);font-size:1.3rem;}.css-1fhv7oo a{color:rgba(255, 255, 255, 0.7);}.css-1fhv7oo a:hover{color:rgba(255, 255, 255, 1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 650px){.css-1fhv7oo{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-1fhv7oo"><section class="copyright"><a href="/">Tecoble</a> © <!-- -->2023<!-- --> <a href="/">| <!-- -->Tecoble<!-- --> <!-- -->is based on woowacourse</a></section><style data-emotion="css 29c7f9">.css-29c7f9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-29c7f9 a{position:relative;margin-left:20px;}.css-29c7f9 a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-29c7f9 a:first-of-type:before{display:none;}@media (max-width: 650px){.css-29c7f9 a:first-of-type{margin-left:0;}}</style><nav class="css-29c7f9"><a href="/">Latest Posts</a><a href="https://github.com/scttcper/gatsby-casper" target="_blank" rel="noopener noreferrer">Casper</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7YLT36LV0M"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7YLT36LV0M', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/2020-08-31-entity-lifecycle-1/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f33cc994945b2249d5ee.js"],"app":["/app-7871a49fb71b5d2fd8af.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-f7da68947e50ce346751.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-947f5f80f30345c8f7f8.js"],"component---src-templates-author-tsx":["/component---src-templates-author-tsx-e3b8ed1aaa2c94077bfa.js"],"component---src-templates-index-tsx":["/component---src-templates-index-tsx-ead65a5aeec7d773bee7.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-a08628f9047d81b892e4.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-a3927cd825a62272db18.js"]};/*]]>*/</script><script src="/polyfill-f33cc994945b2249d5ee.js" nomodule=""></script><script src="/component---src-templates-post-tsx-a08628f9047d81b892e4.js" async=""></script><script src="/commons-4c188b18bcaae3f07bde.js" async=""></script><script src="/app-7871a49fb71b5d2fd8af.js" async=""></script><script src="/framework-2de79c8137b068b61a3a.js" async=""></script><script src="/webpack-runtime-674180cef417bd6b6e8f.js" async=""></script></body></html>