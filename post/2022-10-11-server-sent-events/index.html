<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.27.0"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://tecoble.techcourse.co.kr/post/2022-10-11-server-sent-events/" data-baseprotocol="https:" data-basehost="tecoble.techcourse.co.kr"/><title data-react-helmet="true">Spring에서 Server-Sent-Events 구현하기</title><link data-react-helmet="true" rel="icon" href="data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjhJREFUeNrEV4uRgkAMzdmAlGAJdqDXgSVYgiXQgSVYgiWgFYAVYAdqBXv7kDAhhGVFPDOT8QObvPyzRDU55xLPqefSfY7KWkdCkmrlufs/yhnET/0l87ykCLper1QUBV0uF7rf79Xv5fJ5dLVa0Xq9pkgqPP9S7ZInrDx3m83GwSlJkrg0bR65LMucF149CzHObbdbV5ZRkUyJY3673arDWuBut6ve5N8QfjgcOgoAcL/fO++N5l1pQF9OUAPFv9xnFZRBQaRV1bsMBJ8wro8aAOx6iyFwDMFbQyCiPdBnKRi500cIF2Qgf4IAoMTKAXhGK7W8FUo+9oSVE9QqTm/JYrFoJRy7Dp8saKgKYLUmyMUzHQqKjWcoRyzWIOA5ywtkvaRjGsqPkCd0OOAFcC8AdrE82NcfYhjyLEOkgS0AyFSUjJXFY9nyMBoW00w259PpRN5FrYZ9Pp/pHYJMJp4Tj8ej+W+mD/BgkcNnapIyZ/Rl6gDAqJWkQzIFSZktAIiRdjlm/Dsk9wPOh/l8bgNA/OEBCcI3IPJlOEq5L0MzoVtLiyyT4/HYKZMpGxHKPNiI+rrVFK2YB54G1QHA1uqePXYYQQ53UjncgsOItxlrzr8yjq0uqtuzCQCKIRAcWjaGFhIL6GAOaPQAMXYlw0KrAehZE9wHUBUyfq8spagk9qQEAJkaQFAqlMr7QOxaDsUcTpwBa+W8lqexVn3iYvLy1QzXMbRUXM14drx1Nfv25ZS+fT3/E2AAsWMCdac8y9AAAAAASUVORK5CYII=" type="image/x-icon"/><meta data-react-helmet="true" name="description" content="…"/><meta data-react-helmet="true" property="og:site_name" content="Tecoble"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Spring에서 Server-Sent-Events 구현하기"/><meta data-react-helmet="true" property="og:description" content="…"/><meta data-react-helmet="true" property="og:url" content="https://post/2022-10-11-server-sent-events/"/><meta data-react-helmet="true" property="og:image" content="https://static/c11416e98630e81fd9bc53992d021bf8/10b9d/sse.png"/><meta data-react-helmet="true" property="article:published_time" content="2022-10-11T12:00:00.000Z"/><meta data-react-helmet="true" property="article:tag" content="sse"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Spring에서 Server-Sent-Events 구현하기"/><meta data-react-helmet="true" name="twitter:description" content="…"/><meta data-react-helmet="true" name="twitter:url" content="https://post/2022-10-11-server-sent-events/"/><meta data-react-helmet="true" name="twitter:image" content="https://tecoble.techcourse.co.kr//static/c11416e98630e81fd9bc53992d021bf8/10b9d/sse.png"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="4기_어썸오"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="sse"/><meta data-react-helmet="true" property="og:image:width" content="423"/><meta data-react-helmet="true" property="og:image:height" content="276"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-674180cef417bd6b6e8f.js"/><link as="script" rel="preload" href="/framework-2de79c8137b068b61a3a.js"/><link as="script" rel="preload" href="/app-7871a49fb71b5d2fd8af.js"/><link as="script" rel="preload" href="/commons-4c188b18bcaae3f07bde.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-a08628f9047d81b892e4.js"/><link as="fetch" rel="preload" href="/page-data/post/2022-10-11-server-sent-events/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2130001345.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4041952199.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion="css-global 8s70am">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:inherit;}a{background-color:transparent;}a:active,a:hover{outline:0;}b,strong{font-weight:bold;}i,em,dfn{font-style:italic;}h1{margin:0.67em 0;font-size:2em;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type='button'],input[type='reset'],input[type='submit']{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type='checkbox'],input[type='radio']{box-sizing:border-box;padding:0;}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{height:auto;}input[type='search']{box-sizing:content-box;-webkit-appearance:textfield;}input[type='search']::-webkit-search-cancel-button,input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{overflow:auto;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}body{overflow-x:hidden;color:#303a3e;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:'liga' on;}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed;}audio,canvas,iframe,img,svg,video{vertical-align:middle;}fieldset{margin:0;padding:0;border:0;}textarea{resize:vertical;}p,ul,ol,dl,blockquote{margin:0 0 1.5em 0;}ol,ul{padding-left:1.3em;padding-right:1.5em;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}ul{list-style:disc;}ol{list-style:decimal;}ul,ol{max-width:100%;}li{margin:0.5em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171A;font-weight:500;text-align:right;}dd{margin:0 0 5px 0;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em 0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:300;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote cite{font-weight:bold;}blockquote cite a{font-weight:normal;}a{color:#26a6ed;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:600;text-rendering:optimizeLegibility;}h1{margin:0 0 0.5em 0;font-size:5.5rem;font-weight:600;}@media (max-width: 500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em 0;font-size:2.2rem;}@media (max-width: 500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em 0;font-size:1.8rem;font-weight:500;}@media (max-width: 500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em 0;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}body{background:#fff;}@media (prefers-color-scheme: dark){body{color:rgba(255, 255, 255, 0.75);background:#191b1f;}img{opacity:0.9;}}</style><style data-emotion="css 12e1ozp">.css-12e1ozp .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-12e1ozp .site-main{background:#191b1f;}}</style><style data-emotion="css 159sn72">.css-159sn72{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-159sn72 .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-159sn72 .site-main{background:#191b1f;}}</style><div class="css-159sn72"><header class="site-header"><style data-emotion="css sdrsc">.css-sdrsc{position:relative;padding:0 5vw;position:fixed;top:0;right:0;left:0;z-index:1000;background:#0a0b0c;}@media (max-width: 700px){.css-sdrsc{padding-right:0;padding-left:0;}}</style><div class="css-sdrsc"><style data-emotion="css 1q5n7pp">.css-1q5n7pp{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-1q5n7pp"><style data-emotion="css 1phqi3w">.css-1phqi3w{position:relative;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;overflow-y:hidden;height:64px;font-size:1.3rem;}</style><nav class="css-1phqi3w"><style data-emotion="css vp1an1">.css-vp1an1{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;margin-right:10px;padding:10px 0 80px;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;white-space:nowrap;-ms-overflow-scrolling:touch;}@media (max-width: 700px){.css-vp1an1{margin-right:0;padding-left:5vw;}}</style><div class="site-nav-left css-vp1an1"><style data-emotion="css 1l8e9ha">.css-1l8e9ha{position:relative;z-index:100;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:inline-block;margin-right:32px;padding:12px 0;color:#fff;font-size:1.7rem;line-height:1.8rem;font-weight:bold;letter-spacing:-0.5px;text-transform:none;}.css-1l8e9ha:hover{-webkit-text-decoration:none;text-decoration:none;}.css-1l8e9ha img{display:block;width:auto;height:21px;}</style><a class="site-nav-logo css-1l8e9ha" href="/"><img src="/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png" alt="Tecoble"/></a><style data-emotion="css 1muigz5">.css-1muigz5{position:relative;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;}</style><div class="css-1muigz5"><style data-emotion="css 1gas2t1">.css-1gas2t1{position:absolute;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-1gas2t1 li{display:block;margin:0;padding:0;}.css-1gas2t1 li a{position:relative;display:block;padding:12px 12px;color:#fff;opacity:0.8;-webkit-transition:opacity 0.35s ease-in-out;transition:opacity 0.35s ease-in-out;}.css-1gas2t1 li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-1gas2t1 li a:before{content:'';position:absolute;right:100%;bottom:8px;left:12px;height:1px;background:#fff;opacity:0.25;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-1gas2t1 li a:hover:before{right:12px;opacity:0.5;}</style><ul role="menu" class="css-1gas2t1"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="https://woowacourse.github.io/">woowacourse</a></li></ul><style data-emotion="css ybggi6">.css-ybggi6{visibility:hidden;position:absolute;top:9px;color:#fff;font-size:1.7rem;font-weight:400;text-transform:none;opacity:0;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);-webkit-transform:translateY(175%);-moz-transform:translateY(175%);-ms-transform:translateY(175%);transform:translateY(175%);}.css-ybggi6 .dash{left:-25px;}.css-ybggi6 .dash:before{content:'– ';opacity:0.5;}</style><span class="nav-post-title css-ybggi6">Spring에서 Server-Sent-Events 구현하기</span></div></div><style data-emotion="css 19iu1ve">.css-19iu1ve{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:10px 0;height:64px;}@media (max-width: 700px){.css-19iu1ve{display:none;}}</style><div class="css-19iu1ve"><style data-emotion="css ienhkd">.css-ienhkd{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-ienhkd"></div></div></nav></div></div></header><style data-emotion="css zqbwy4">.css-zqbwy4{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 5vw;}@media (prefers-color-scheme: dark){.css-zqbwy4{background:#191b1f;}}</style><main id="site-main" class="site-main css-zqbwy4"><div class="css-1q5n7pp"><style data-emotion="css l1e7lw">.css-l1e7lw{position:relative;z-index:50;}</style><article class="css-l1e7lw"><style data-emotion="css rxh1cu">.css-rxh1cu{position:relative;margin:0 auto;padding:70px 170px 50px;border-top-left-radius:3px;border-top-right-radius:3px;}@media (max-width: 1170px){.css-rxh1cu{padding:60px 11vw 50px;}}@media (max-width: 800px){.css-rxh1cu{padding-right:5vw;padding-left:5vw;}}@media (max-width: 500px){.css-rxh1cu{padding:20px 0 35px;}}</style><header class="post-full-header css-rxh1cu"><style data-emotion="css 1ehbhhx">.css-1ehbhhx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:2.5rem;line-height:1.4em;font-weight:600;text-transform:uppercase;}</style><section class="post-full-tags css-1ehbhhx"><a href="/tags/sse/">#sse</a><a href="/tags/spring/">, <!-- -->#spring</a></section><style data-emotion="css qs7bhz">.css-qs7bhz{margin:0 0 0.2em;color:#0b0c0e;}@media (max-width: 500px){.css-qs7bhz{margin-top:0.2em;font-size:3.3rem;}}@media (prefers-color-scheme: dark){.css-qs7bhz{color:rgba(255, 255, 255, 0.9);}}</style><h1 class="post-full-title css-qs7bhz">Spring에서 Server-Sent-Events 구현하기</h1><style data-emotion="css 1v4p0ul">.css-1v4p0ul{margin:20px 0 0;color:var(--midgrey);font-family:Georgia,serif;font-size:2.3rem;line-height:1.4em;font-weight:300;}@media (max-width: 500px){.css-1v4p0ul{font-size:1.9rem;line-height:1.5em;}}@media (prefers-color-scheme: dark){.css-1v4p0ul{color:#90a2aa;}}</style><p class="post-full-custom-excerpt css-1v4p0ul"></p><style data-emotion="css cp69tq">.css-cp69tq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:35px 0 0;padding-top:15px;border-top:1px solid #e4eaed;}.css-cp69tq .post-full-byline-content{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-cp69tq .post-full-byline-content .author-list{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:0 12px 0 0;}.css-cp69tq .post-full-byline-meta{margin:2px 0 0;color:#90a2aa;font-size:1.2rem;line-height:1.2em;letter-spacing:0.2px;text-transform:uppercase;}.css-cp69tq .post-full-byline-meta h4{margin:0 0 3px;font-size:1.3rem;line-height:1.4em;font-weight:500;}.css-cp69tq .post-full-byline-meta h4 a{color:#2c3036;}.css-cp69tq .post-full-byline-meta h4 a:hover{color:#15171A;}.css-cp69tq .post-full-byline-meta .bull{display:inline-block;margin:0 4px;opacity:0.6;}@media (prefers-color-scheme: dark){.css-cp69tq{border-top-color:#3b4049;}.css-cp69tq .post-full-byline-meta h4 a{color:rgba(255, 255, 255, 0.75);}.css-cp69tq .post-full-byline-meta h4 a:hover{color:#fff;}}</style><div class="post-full-byline css-cp69tq"><section class="post-full-byline-content"><style data-emotion="css teqkql">.css-teqkql{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 0 0 4px;padding:0;list-style:none;}</style><ul class="author-list css-teqkql"><style data-emotion="css 1q168dw">.css-1q168dw{position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin:0;padding:0;}.css-1q168dw:hover .author-name-tooltip{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}</style><li class="author-list-item css-1q168dw"><style data-emotion="css 1xzzdyg">.css-1xzzdyg{position:absolute;bottom:130%;left:50%;z-index:600;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:-200px;width:400px;font-size:1.4rem;line-height:1.5em;background:white;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.06) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:scale(0.98) translateY(15px);-moz-transform:scale(0.98) translateY(15px);-ms-transform:scale(0.98) translateY(15px);transform:scale(0.98) translateY(15px);pointer-events:none;padding:20px 20px 22px;}.css-1xzzdyg:before{content:'';position:absolute;top:100%;left:50%;display:block;margin-left:-8px;width:0;height:0;border-top:8px solid #fff;border-right:8px solid transparent;border-left:8px solid transparent;}.css-1xzzdyg .author-info{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:0 0 0 20px;}.css-1xzzdyg .author-info h2{margin:8px 0 0;font-size:1.6rem;}.css-1xzzdyg .author-info p{margin:4px 0 0;color:color(var(--midgrey) l(-10%));}.css-1xzzdyg .author-info .bio h2{margin-top:0;}.css-1xzzdyg .author-info .bio p{margin-top:0.8em;}.css-1xzzdyg .author-profile-image{-webkit-flex:0 0 60px;-ms-flex:0 0 60px;flex:0 0 60px;margin:0;width:60px;height:60px;border:none;}@media (max-width: 1170px){.css-1xzzdyg{margin-left:-50px;width:430px;}.css-1xzzdyg:before{left:50px;}}@media (max-width: 650px){.css-1xzzdyg{display:none;}}@media (prefers-color-scheme: dark){.css-1xzzdyg{background:#22252a;box-shadow:0 12px 26px rgba(0, 0, 0, 0.4);}.css-1xzzdyg:before{border-top-color:#22252a;}}</style><div class="author-card css-1xzzdyg"><style data-emotion="css 121fnpm">.css-121fnpm{display:block;width:100%;height:100%;background:#e4eaed;border-radius:100%;object-fit:cover;}@media (prefers-color-scheme: dark){.css-121fnpm{background:#191b1f;}}</style><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE1klEQVQ4y22Td0zUdxiH+aOJbWMFKhiraetAOTjkZB13svVOliAgnAgypFIBQUWwnICLDS6GDItYwKJ1cVTUUjG2BVGwEesgAq64Eout1mobRODpDRyNvsmb/N788j75fN/38+oNDw8zPDSEJn6/3UPzRh9acuZzviiE9qJIGnOiuLIrns6KOI7kR9NRo6R77zLa8+Q8vHBc2zc8NIiGowm9N4F/3r/BsRRXmlIcacmQkxvhQNhcMeXx7uRGuREiF1MSJ6dzmx8taRIenKsfAb54N/Dx/V6a0uSc3iRjvcKG0WPGMcZgPOOMx/P+h/qM/sgIfX0jSqIdOZ/pzN3T+3TAwbeAg9qir/dXjqa40JYhI97TgvdGGWBkaMRaf0uWyU0ZM9qQUR8YkhEq4UKWMzebSt/95KER4N3OE5xMdaY1w52T6+UUhNlR+KUbpcowSpMVlMU4sSNawrl8b9o3uXBDlakDDg9pgZrUAdWSNXGzrR5VnIiGVbOoXyHlWKI9NXEOpEd4siFchirRkR+SJNSvkqBKsKZxvR8P+/peQV8rHNQp7Dn7IwslJsgdpLg7SXGRSpllZ4ejrZU2JTa2OEmkyJ2dkM2yJ87PlY6zZ7S9g4ODbygcWUrfrasonGYyU2SLyMyc2TMtCHW2Vc/TgZQgT1Ys8MHPUYLYYgZyqT1h3i6caD75NvDlQPufPiZSZoPlZxNJdrehLiGQ1vJs/v7lEP+0qrisquHKoa+pTFqKu7U5wR4u/HbpsrZXI+p/QB0SEkN9We7hyO3qAroP7OJOz1XuqfNudxd/3LvD48tn6e84RmrofI4e2jvSNfx6KboSXjzv1/4q3PgVSfOc6S7fQEtVIVcuXqS3vZWu1p+53nuN680qHtSXU7QyiucDAzp1mqW+so1G6sgMB/r/JX/1UoTGBtTEBNGQFMH3mSk0Za3hVJ6Sn4qz6Nyu5EBiBApnMZea9/Ok797Ilt9QqL3jrjZO5IaTPV+AxzR9ltt/StVCMd8ullLgb8X2QFuOx6rPMmY2qW4mhIjGcjjBgTN5C+k5UqS1zdBL4IC62BnnQdxsE3ICRZQEC0iQTSXadQrKeaZk+AtI8xOS6GVGfoApZcHTKVCYURw6g3A3odr8MrVEnZf1uvK2cCZ+FcqVK5njHYink4QUz2lkBwrJDzRng68Zyd7mrJtrwjrPyWQEWpAZJSM/yJxQx+mIxG4si41H1aDi0aNH6NU6y9g33ZKd6zfi5+dDkPUEqsKF1EbOoC7OgtPpAjqSJlFR5k3GGgWVX9hTvDmT4jBroqQTsLYwI1W5lqTViWpoPXrb0tMo8w2g1t2LMOlUlkonkj5PwLYFAooWm7E1xorDy0Xk5CiITVjClhAbgoMCUPqLCLUT4DnNhMq8ZEp3FNPY2IDe1Ws9tNXsYc/nk4hxEZGdEEle7CJKkiNQ+ggQhlmxTiEky9+OJb5u5AQIsJ88llQfU1ZHBBHu48Wp8jU8efIXz549fb3l3WkJzBFOwFVih5tUjJfYAoWlgfoijFlsY0yI3Sf4iCYSavUxi0SGRNgaqe9+Col+9nSdOvgSo/OhJm7dvEHF1nwKczIozs+mdHMu1RU7OPhNJd9VV2lzv/q7bncl+6t3c7iuluMH99F1ro2BF4OvfPgf4+pLUAZpFDYAAAAASUVORK5CYII=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/14efb647556ef87026e0cb15a72496a7/22f7f/awesomeo.png 40w,
/static/14efb647556ef87026e0cb15a72496a7/587c9/awesomeo.png 80w,
/static/14efb647556ef87026e0cb15a72496a7/d966b/awesomeo.png 120w,
/static/14efb647556ef87026e0cb15a72496a7/c30f4/awesomeo.png 521w" sizes="(max-width: 521px) 100vw, 521px" /><img loading="lazy" sizes="(max-width: 521px) 100vw, 521px" srcset="/static/14efb647556ef87026e0cb15a72496a7/22f7f/awesomeo.png 40w,
/static/14efb647556ef87026e0cb15a72496a7/587c9/awesomeo.png 80w,
/static/14efb647556ef87026e0cb15a72496a7/d966b/awesomeo.png 120w,
/static/14efb647556ef87026e0cb15a72496a7/c30f4/awesomeo.png 521w" src="/static/14efb647556ef87026e0cb15a72496a7/c30f4/awesomeo.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="author-info"><div class="bio"><h2>4기_어썸오</h2><p>우아한테크코스 4기 어썸오(정수현)입니다 :)</p><p><a href="/author/4-기-어썸오/">More posts</a> by<!-- --> <!-- -->4기_어썸오<!-- -->.</p></div></div></div><style data-emotion="css cdhz0m">.css-cdhz0m{display:block;overflow:hidden;margin:0 -4px;width:40px;height:40px;border:#fff 2px solid;border-radius:100%;-webkit-transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;}@media (max-width: 500px){.css-cdhz0m{width:36px;height:36px;}}@media (prefers-color-scheme: dark){.css-cdhz0m{border-color:#1a1c20;}}</style><a class="author-avatar css-cdhz0m" href="/author/4-기-어썸오/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE1klEQVQ4y22Td0zUdxiH+aOJbWMFKhiraetAOTjkZB13svVOliAgnAgypFIBQUWwnICLDS6GDItYwKJ1cVTUUjG2BVGwEesgAq64Eout1mobRODpDRyNvsmb/N788j75fN/38+oNDw8zPDSEJn6/3UPzRh9acuZzviiE9qJIGnOiuLIrns6KOI7kR9NRo6R77zLa8+Q8vHBc2zc8NIiGowm9N4F/3r/BsRRXmlIcacmQkxvhQNhcMeXx7uRGuREiF1MSJ6dzmx8taRIenKsfAb54N/Dx/V6a0uSc3iRjvcKG0WPGMcZgPOOMx/P+h/qM/sgIfX0jSqIdOZ/pzN3T+3TAwbeAg9qir/dXjqa40JYhI97TgvdGGWBkaMRaf0uWyU0ZM9qQUR8YkhEq4UKWMzebSt/95KER4N3OE5xMdaY1w52T6+UUhNlR+KUbpcowSpMVlMU4sSNawrl8b9o3uXBDlakDDg9pgZrUAdWSNXGzrR5VnIiGVbOoXyHlWKI9NXEOpEd4siFchirRkR+SJNSvkqBKsKZxvR8P+/peQV8rHNQp7Dn7IwslJsgdpLg7SXGRSpllZ4ejrZU2JTa2OEmkyJ2dkM2yJ87PlY6zZ7S9g4ODbygcWUrfrasonGYyU2SLyMyc2TMtCHW2Vc/TgZQgT1Ys8MHPUYLYYgZyqT1h3i6caD75NvDlQPufPiZSZoPlZxNJdrehLiGQ1vJs/v7lEP+0qrisquHKoa+pTFqKu7U5wR4u/HbpsrZXI+p/QB0SEkN9We7hyO3qAroP7OJOz1XuqfNudxd/3LvD48tn6e84RmrofI4e2jvSNfx6KboSXjzv1/4q3PgVSfOc6S7fQEtVIVcuXqS3vZWu1p+53nuN680qHtSXU7QyiucDAzp1mqW+so1G6sgMB/r/JX/1UoTGBtTEBNGQFMH3mSk0Za3hVJ6Sn4qz6Nyu5EBiBApnMZea9/Ok797Ilt9QqL3jrjZO5IaTPV+AxzR9ltt/StVCMd8ullLgb8X2QFuOx6rPMmY2qW4mhIjGcjjBgTN5C+k5UqS1zdBL4IC62BnnQdxsE3ICRZQEC0iQTSXadQrKeaZk+AtI8xOS6GVGfoApZcHTKVCYURw6g3A3odr8MrVEnZf1uvK2cCZ+FcqVK5njHYink4QUz2lkBwrJDzRng68Zyd7mrJtrwjrPyWQEWpAZJSM/yJxQx+mIxG4si41H1aDi0aNH6NU6y9g33ZKd6zfi5+dDkPUEqsKF1EbOoC7OgtPpAjqSJlFR5k3GGgWVX9hTvDmT4jBroqQTsLYwI1W5lqTViWpoPXrb0tMo8w2g1t2LMOlUlkonkj5PwLYFAooWm7E1xorDy0Xk5CiITVjClhAbgoMCUPqLCLUT4DnNhMq8ZEp3FNPY2IDe1Ws9tNXsYc/nk4hxEZGdEEle7CJKkiNQ+ggQhlmxTiEky9+OJb5u5AQIsJ88llQfU1ZHBBHu48Wp8jU8efIXz549fb3l3WkJzBFOwFVih5tUjJfYAoWlgfoijFlsY0yI3Sf4iCYSavUxi0SGRNgaqe9+Col+9nSdOvgSo/OhJm7dvEHF1nwKczIozs+mdHMu1RU7OPhNJd9VV2lzv/q7bncl+6t3c7iuluMH99F1ro2BF4OvfPgf4+pLUAZpFDYAAAAASUVORK5CYII=" alt="4기_어썸오" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/14efb647556ef87026e0cb15a72496a7/22f7f/awesomeo.png 40w,
/static/14efb647556ef87026e0cb15a72496a7/587c9/awesomeo.png 80w,
/static/14efb647556ef87026e0cb15a72496a7/d966b/awesomeo.png 120w,
/static/14efb647556ef87026e0cb15a72496a7/c30f4/awesomeo.png 521w" sizes="(max-width: 521px) 100vw, 521px" /><img loading="lazy" sizes="(max-width: 521px) 100vw, 521px" srcset="/static/14efb647556ef87026e0cb15a72496a7/22f7f/awesomeo.png 40w,
/static/14efb647556ef87026e0cb15a72496a7/587c9/awesomeo.png 80w,
/static/14efb647556ef87026e0cb15a72496a7/d966b/awesomeo.png 120w,
/static/14efb647556ef87026e0cb15a72496a7/c30f4/awesomeo.png 521w" src="/static/14efb647556ef87026e0cb15a72496a7/c30f4/awesomeo.png" alt="4기_어썸오" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><a href="/author/4-기-어썸오/">4기_어썸오</a></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2022-10-11">11 Oct 2022</time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->9<!-- --> min read</span></div></section></section></div></header><style data-emotion="css 4wxe1t">.css-4wxe1t{margin:25px 0 50px;height:560px;background:#c5d2d9 center center;-webkit-background-size:cover;background-size:cover;border-radius:5px;}@media (max-width: 1170px){.css-4wxe1t{margin:25px -6vw 50px;border-radius:0;}.css-4wxe1t img{max-width:1170px;}}@media (max-width: 800px){.css-4wxe1t{height:400px;}}@media (max-width: 500px){.css-4wxe1t{margin-bottom:4vw;height:350px;}}</style><figure class="css-4wxe1t"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:65.2482269503546%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVQ4y61RXUsCQRTdn+mP8CXoH4hPPviipLAIPiiE5sdCUWY+SbqGH6CZSxYqrlrabpHtrO6OJ3ZMEcsv6MCdO3PnzplzZjj8I2azGbhCoYBgMIhcLodKpQJJkiCKIqrVKhqNBnieZ+t8Po9isYhYLIZ0Oo1arYZyuYxMJsP2LDILXKlUQiAQgNPpRCQSgSAIcDgcSCaTaLVa8Pv9cLlcLGezWSQSCYRCIbjdbni9XoTDYXg8HozH4znhNgu6rkNVVRBCWN7LsjVQSmGaJstWTKdT1mA9gc1mg+/EB7vdDrEgsrphGKx/EdaZpeVV9kVxkalJoYwUqB8qFFUB0civ3nVwm6TTGWXzlHSNo/gx6i8P80t+6pvArROt3k4MHfxtAM3hE9pKByY1/3Syl8IF2qM2ouUzyKq8sWenQguv+hCy1kOP9HH/Xkdz/IyuJqNPBkvbOxWuEopvdzjtRHHeu8RF/wqpwQ3iXQFxWcCETg4n1EzC1HwZGlNkhTJR8PjZ3PrTO9/w0P1vurjXpIJOJMgAAAAASUVORK5CYII=" alt="Spring에서 Server-Sent-Events 구현하기" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/c11416e98630e81fd9bc53992d021bf8/10b9d/sse.png 423w" sizes="(max-width: 423px) 100vw, 423px" /><img loading="lazy" sizes="(max-width: 423px) 100vw, 423px" srcset="/static/c11416e98630e81fd9bc53992d021bf8/10b9d/sse.png 423w" src="/static/c11416e98630e81fd9bc53992d021bf8/10b9d/sse.png" alt="Spring에서 Server-Sent-Events 구현하기" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></figure><style data-emotion="css 1hzbvd8">.css-1hzbvd8{position:relative;margin:0 auto;padding:0 170px 6vw;min-height:230px;font-family:Georgia,serif;font-size:2rem;line-height:1.6em;background:#fff;}@media (max-width: 1170px){.css-1hzbvd8{padding:0 11vw;}}@media (max-width: 800px){.css-1hzbvd8{padding:0 5vw;font-size:1.8rem;}}@media (max-width: 500px){.css-1hzbvd8{padding:0;}}@media (max-width: 500px){.css-1hzbvd8 .post-full-custom-excerpt{font-size:1.9rem;line-height:1.5em;}}.css-1hzbvd8 .no-image{padding-top:0;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h5,.css-1hzbvd8 h6,.css-1hzbvd8 p,.css-1hzbvd8 ul,.css-1hzbvd8 ol,.css-1hzbvd8 dl,.css-1hzbvd8 pre,.css-1hzbvd8 blockquote,.css-1hzbvd8 .post-full-comments,.css-1hzbvd8 .footnotes{margin:0 0 1.5em 0;min-width:100%;}@media (max-width: 500px){.css-1hzbvd8 p,.css-1hzbvd8 ul,.css-1hzbvd8 ol,.css-1hzbvd8 dl,.css-1hzbvd8 pre,.css-1hzbvd8 .post-full-comments,.css-1hzbvd8 .footnotes{margin-bottom:1.28em;}}.css-1hzbvd8 li{word-break:break-word;}.css-1hzbvd8 li p{margin:0;}.css-1hzbvd8 a{color:#15171A;word-break:break-word;box-shadow:#15171A 0 -1px 0 inset;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1hzbvd8 a:hover{color:#3eb0ef;-webkit-text-decoration:none;text-decoration:none;box-shadow:#3eb0ef 0 -1px 0 inset;}.css-1hzbvd8 strong,.css-1hzbvd8 em{color:#0a0b0c;}.css-1hzbvd8 small{display:inline-block;line-height:1.6em;}.css-1hzbvd8 img,.css-1hzbvd8 video{display:block;margin:1.5em auto;width:100%;max-width:1040px;height:auto;}@media (max-width: 1040px){.css-1hzbvd8 img,.css-1hzbvd8 video{width:100%;}}.css-1hzbvd8 img[src$='#full']{max-width:none;width:100vw;}.css-1hzbvd8 img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1hzbvd8 iframe{margin:0 auto!important;}.css-1hzbvd8 blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:#3eb0ef 3px solid;}@media (max-width: 500px){.css-1hzbvd8 blockquote{padding:0 1.3em;}}.css-1hzbvd8 blockquote p{margin:0 0 1em 0;color:inherit;font-size:inherit;line-height:inherit;font-style:italic;}.css-1hzbvd8 blockquote p:last-child{margin-bottom:0;}.css-1hzbvd8 code{padding:0 5px 2px;font-size:0.8em;line-height:1em;font-weight:400!important;background:#e5eff5;border-radius:3px;}.css-1hzbvd8 p code{word-break:break-all;}.css-1hzbvd8 pre{overflow-x:auto;padding:20px;max-width:100%;color:#e5eff5;font-size:1.4rem;line-height:1.5em;border-radius:5px;}.css-1hzbvd8 pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1hzbvd8 pre code :not(span){color:inherit;}.css-1hzbvd8 .fluid-width-video-wrapper{margin:1.5em 0 3em;}.css-1hzbvd8 hr{margin:2em 0;}.css-1hzbvd8 hr:after{content:'';position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#e4eaed;box-shadow:#fff 0 0 0 5px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.css-1hzbvd8 hr+p{margin-top:1.2em;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h5,.css-1hzbvd8 h6{color:#0a0b0c;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.css-1hzbvd8 h1{margin:0.5em 0 0.4em;font-size:4.2rem;line-height:1.25em;font-weight:600;}.css-1hzbvd8 p+h1{margin-top:0.8em;}@media (max-width: 800px){.css-1hzbvd8 h1{font-size:3.2rem;line-height:1.25em;}}.css-1hzbvd8 h2{margin:0.5em 0 0.4em;font-size:3.2rem;line-height:1.25em;font-weight:600;}.css-1hzbvd8 p+h2{margin-top:0.8em;}@media (max-width: 800px){.css-1hzbvd8 h2{margin-bottom:0.3em;font-size:2.8rem;line-height:1.25em;}}.css-1hzbvd8 h3{margin:0.5em 0 0.2em;font-size:2.5rem;line-height:1.3em;font-weight:600;}.css-1hzbvd8 h2+h3{margin-top:0.7em;}@media (max-width: 800px){.css-1hzbvd8 h3{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1hzbvd8 h4{margin:0.5em 0 0.2em;font-size:2.5rem;font-weight:600;}.css-1hzbvd8 h2+h4{margin-top:0.7em;}.css-1hzbvd8 h3+h4{margin-top:0;}@media (max-width: 800px){.css-1hzbvd8 h4{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1hzbvd8 h5{display:block;margin:0.5em 0;padding:0.4em 1em 0.9em;border:0;color:#3eb0ef;font-family:Georgia,serif;font-size:3.2rem;line-height:1.35em;text-align:center;}@media (min-width: 1180px){.css-1hzbvd8 h5{max-width:1060px;}}@media (max-width: 800px){.css-1hzbvd8 h5{margin-bottom:1em;margin-left:1.3em;padding:0 0 0.5em;font-size:2.4rem;text-align:initial;}}.css-1hzbvd8 h6{margin:0.5em 0 0.2em 0;font-size:2rem;font-weight:700;}@media (max-width: 800px){.css-1hzbvd8 h6{font-size:1.8rem;line-height:1.4em;}}.css-1hzbvd8 table{display:inline-block;overflow-x:auto;margin:0.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;}.css-1hzbvd8 table{-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 0 center,radial-gradient(ellipse at right, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 100% center;background-attachment:scroll,scroll;-webkit-background-size:10px 100%,10px 100%;background-size:10px 100%,10px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table td:first-of-type{background-image:linear-gradient(
      to right,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table td:last-child{background-image:linear-gradient(
      to left,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-position:100% 0;background-position:100% 0;-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table th{color:#15171A;font-size:1.2rem;font-weight:700;letter-spacing:0.2px;text-align:left;text-transform:uppercase;background-color:#f4f8fb;}.css-1hzbvd8 table th,.css-1hzbvd8 table td{padding:6px 12px;border:#e1edf4 1px solid;}@media (prefers-color-scheme: dark){.css-1hzbvd8{background:#191b1f;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h6{color:rgba(255, 255, 255, 0.9);}.css-1hzbvd8 a{color:#fff;box-shadow:inset 0 -1px 0 #fff;}.css-1hzbvd8 strong{color:#fff;}.css-1hzbvd8 em{color:#fff;}.css-1hzbvd8 code{color:#fff;background:#000;}.css-1hzbvd8 hr{border-top-color:#2b2f36;}.css-1hzbvd8 figcaption{color:rgba(255, 255, 255, 0.6);}.css-1hzbvd8 table td:first-of-type{background-image:linear-gradient(to right, #191b1f 50%, #191b1f 100%);}.css-1hzbvd8 table td:last-child{background-image:linear-gradient(270deg, #191b1f 50%, rgba(25, 27, 31, 0));}.css-1hzbvd8 table th{color:rgba(255, 255, 255, 0.85);background-color:#2b2f36;}.css-1hzbvd8 table th,.css-1hzbvd8 table td{border:#2b2f36 1px solid;}.css-1hzbvd8 .kg-bookmark-container,.css-1hzbvd8 .kg-bookmark-container:hover{color:rgba(255, 255, 255, 0.75);box-shadow:0 0 1px rgba(255, 255, 255, 0.9);}}.css-1hzbvd8 code[class*='language-'],.css-1hzbvd8 pre[class*='language-']{color:white;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1hzbvd8 pre[class*='language-']{overflow:auto;}.css-1hzbvd8 *:not(pre)>code[class*='language-']{border-radius:0.3em;background:rgb(1, 22, 39);color:white;padding:0.15em 0.5em;white-space:normal;}.css-1hzbvd8 .token.attr-name{color:rgb(173, 219, 103);font-style:italic;}.css-1hzbvd8 .token.comment{color:rgb(128, 147, 147);}.css-1hzbvd8 .token.string,.css-1hzbvd8 .token.url{color:rgb(173, 219, 103);}.css-1hzbvd8 .token.variable{color:rgb(214, 222, 235);}.css-1hzbvd8 .token.number{color:rgb(247, 140, 108);}.css-1hzbvd8 .token.builtin,.css-1hzbvd8 .token.char,.css-1hzbvd8 .token.constant,.css-1hzbvd8 .token.function{color:rgb(130, 170, 255);}.css-1hzbvd8 .token.punctuation{color:rgb(199, 146, 234);}.css-1hzbvd8 .token.selector,.css-1hzbvd8 .token.doctype{color:rgb(199, 146, 234);font-style:'italic';}.css-1hzbvd8 .token.class-name{color:rgb(255, 203, 139);}.css-1hzbvd8 .token.tag,.css-1hzbvd8 .token.operator,.css-1hzbvd8 .token.keyword{color:#ffa7c4;}.css-1hzbvd8 .token.boolean{color:rgb(255, 88, 116);}.css-1hzbvd8 .token.property{color:rgb(128, 203, 196);}.css-1hzbvd8 .token.namespace{color:rgb(178, 204, 214);}.css-1hzbvd8 pre[data-line]{padding:1em 0 1em 3em;position:relative;}.css-1hzbvd8 .gatsby-highlight-code-line{background-color:hsla(207, 95%, 15%, 1);display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid #ffa7c4;}.css-1hzbvd8 .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto;}.css-1hzbvd8 .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}</style><section class="post-full-content css-1hzbvd8"><div><p>웹 애플리케이션을 개발하다보면 클라이언트의 요청이 없어도 서버에서 데이터를 전달해줘야 하는 경우가 있습니다.</p>
<p>대표적으로 뉴스피드나 댓글 알림처럼 실시간으로 서버의 변경사항을 웹 브라우저에 갱신해줘야 하는 경우를 예로 들 수 있을 것 같습니다.  </p>
<p>제가 참여한 <a href="https://github.com/woowacourse-teams/2022-gong-check">프로젝트</a>에서도 이와 비슷한 요구사항이 있었습니다.</p>
<p>아래처럼 다른 클라이언트의 요청(체크리스트 버튼 클릭)으로 발생한 변경 사항을 해당 화면을 보고 있는 모든 클라이언트에게 전달해주어야 했는데요.</p>
<img src="/c6ed615dd12c22bcfaf4dc409fcfed6c/checklist.gif" width="630"/>
<p>전통적인 Client-Server 모델의 HTTP 통신에서는 이런 기능을 구현하기가 조금 난감합니다. 클라이언트의 요청이 있어야만 서버가 응답을 할 수 있기 때문이죠.</p>
<p>HTTP를 기반으로 이 문제를 해결하려면 세 가지 방법을 고려해볼 수 있습니다.</p>
<h3>Short Polling</h3>
<p>클라이언트가 주기적으로 서버로 요청을 보내는 방법입니다. 일정 시간마다 서버에 요청을 보내 데이터가 갱신되었는지 확인하고 만약 갱신되었다면 데이터를 응답 받습니다.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1256px">
      <a class="gatsby-resp-image-link" href="/static/fd0d860cab587b024f564f210056b29b/30373/polling.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:102.8%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAACjklEQVQ4y41VDXPiIBT0//9E2/Fqx7HttZ5JSAKEj71dkGhrO3fMrCEEHu/tLrhZlgUhBKjlnEv/9v1ra2MxRnjvkVIqY+19o8XGGOx2OxwOB1hroU3a4u+gpjkKsN/vsd1ucTwey9hGP/M84+HhAY+Pj3DOlYn/ylDrBCUhnE6na0ClK6SkZyhoLaaMaY4YJ327bpBZqqrTXMWodDFgmzAMhqWzXMZyPsE6cZIwmIDnF4ft04Sefb9kWI5rTkzAbD1h1402Lf2u7zk5QDmkwlV9luYdwN2zKvGsSFXxGVzA0I2Yp3mlowTUwr7r4IehLE7cMRPJzsjkNJ7/IA8d8kJV+d4ACTMa2PkmYCNZYkyTJQ+Z82JBCImCBbx9eBzfHEtLdyIt5NFeSl4zVKfrepLvwTjwCipQBHHWm4jXd3LlUnl3S1p57AeHcfxSstTqWLJUApXOUi1UUPpLyX1RNvFbgavUONI00cd3JU/jCEdhCvk3AdfAtEe+fFPAfLGW7DZN008cumIblSWo5IH++3WwtM0MY+vcfAMdvZHJtDibtsvA1C1tECIqf+TJe3qRY84GusBiokXGsylCzTZSjFiefW9K+PzJh+czguSnNVRe7M5wz3u4/RP8ywvcjseSR8y/viJxXvJX+xhStWbYOjN58OJCR3CpJhaoxKW4Wux6SRTO6qgul7uA5bCv15bMXifLGr9PHm/vjpSkNfAVwPhdQBErHxafXTwm6GL46Op5NiP5LD78jH4wn0XRdTWQh6gMS3rpiuIpku6qNRLP8MKz68creh6KjJuA+ZK2J0RypGFvEeiAwCzUT9y88huqF9k3/H5XsrJsHP5va1J9K8p6vf9w7f/4d0C0/xW1vxDjcLyv8MFBAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="polling" title="polling" src="/static/fd0d860cab587b024f564f210056b29b/30373/polling.png" srcSet="/static/fd0d860cab587b024f564f210056b29b/0eb09/polling.png 500w, /static/fd0d860cab587b024f564f210056b29b/1263b/polling.png 1000w, /static/fd0d860cab587b024f564f210056b29b/30373/polling.png 1256w" sizes="(max-width: 1256px) 100vw, 1256px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<p>클라이언트와 서버 모두 구현이 단순하다는 것이 특징입니다. 서버가 요청에 대한 부담이 크지 않고 요청 주기를 넉넉하게 잡아도 될 정도로 실시간성이 중요하지 않다면 고려해 볼 만한 방법입니다.</p>
<h3>Long Polling</h3>
<p>요청을 보내고 서버에서 변경이 일어날 때까지 대기하는 방법입니다.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1298px">
      <a class="gatsby-resp-image-link" href="/static/7e3a34a031897051c1c0e96ca2843ef4/11824/longpolling.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:101%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB80lEQVQ4y4VUa7PqIAz0//9BP/m40/F4R8dHbQuUV042NR2wemQmhQLZJOzCKqVE4zhSzlnMe08hBELTOW3lP3ywF/4xRvnHeIWPtZZ2ux3t93vq+14A1bEEKXvseTwetF6vabvdkjFmAgQ6AI/HI202GxkjsgItjeZKEPxwONDlchG/OUNEAzBMS/jW4IO9ekTwQaBVuaHrkV0mNyaxGDNZF+nfwVBztHxOHDyi3ER6tM5ZKVePYqXnAkDn3LyQEspiwvwE7tw09k9zY5T5rrPUtveZyApwLACXLT+Nqj3OjcLwMAxLwDLDV8lUsMUafJSgJSBHoioPosRzkc8osET89Uq50KjqsW1b6StARHEDRwHTkE1g47E/nShezhTOJ3IskTiYKQhnlrk3XTdnV5EiaT86SpADg6FHNsGzgPtA1r8rHhm6WWYLlo3l8+A1YRVMsoSMTfT/7Kj5MTSYIJIZn+z7kDk7KzdGW5VhxfIbUkRKIU3mcSEyB3HCsGqxPsMXlpeM57clo7r56n0C/KRHndKVEZUxOepbA6psigzD7Ub+dhXJ2KYRCeVZCSw1/odslJgK0LIEMt44jibGAcL9LqCBnWACBEDokXsAlpXVgLg+KX24eu9EMwm7fJD/JOWblVdvATi9MOkrKa+Pw6sifgHQwCgzaqXS6QAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="long_polling" title="long_polling" src="/static/7e3a34a031897051c1c0e96ca2843ef4/11824/longpolling.png" srcSet="/static/7e3a34a031897051c1c0e96ca2843ef4/0eb09/longpolling.png 500w, /static/7e3a34a031897051c1c0e96ca2843ef4/1263b/longpolling.png 1000w, /static/7e3a34a031897051c1c0e96ca2843ef4/11824/longpolling.png 1298w" sizes="(max-width: 1298px) 100vw, 1298px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<p>실시간 메시지 전달이 중요하지만 서버의 상태가 빈번하게 변하지 않는 경우에 적합합니다. 서버로부터 응답을 받고 나면 다시 연결 요청을 하기 때문에, 상태가 빈번하게 바뀐다면 연결 요청도 늘어나게 됩니다.</p>
<h3>Server-Sent Events(SSE)</h3>
<p>서버와 한번 연결을 맺고나면 일정 시간동안 서버에서 변경이 발생할 때마다 데이터를 전송받는 방법입니다.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1260px">
      <a class="gatsby-resp-image-link" href="/static/e9061ada0ae476d3fd73f9271d6d585d/58c38/sse.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:103.4%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB4ElEQVQ4y41V2Y7CMAzs//8Z77wBYpE4Fom7zdUm8XpMA2kJC5askKPjGdsJVQiBYowEw5j/Hlu+l38HS/PKGENaa1JKkbVW/BOg917ONU1D5/OZbrebzLFeOedoPp/TZDKh0+n0iJTwEuucfdu2Mi6XS5pOpzSbzajrujsgkMGwaWpyzor3SC8sxwwBDEJpDjIVDmFRKc0bQTyEJ5hrAxnryYdX8BiDEAEQHFbdI3ZUN5ojAjyQ7R1g+4Ol+Y+i47l9gGNEUO+j5D4PIoDQj+KMGeSsZO6jAHU8IqA2nm61GuS6SjlJgHGUu0FBCpVH/vPzbwFLbTNQ0DsApYA5IBI6liwfoRW41zx/1B4O1B6P92BMIKK92LVSgw54AGIDAAHlh3NLdNy0drMRMLfbUXe9yrrsc2dgVHVdAOSJulzkUIoMFt+YZmUvOcSC6a/cQDL6iz8QVjxCfr6HoEXJmIhk5Cbzjlkbvl5uvye9WJDdbp+S4XgHSpIxUchPOtjnsPhA9MGSQVlRsi1ILoGNzbzLYf5sCQvcDJZj12upslmtyP3+3vOaVflVct+UUuVcMl4R7j+ASi+yYx2t9eiEd304KEr/anxrxasngLhCVH5U/3P1jmF6hT/9r4wNL1Vuf8EleCdVEod1AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="sse" title="sse" src="/static/e9061ada0ae476d3fd73f9271d6d585d/58c38/sse.png" srcSet="/static/e9061ada0ae476d3fd73f9271d6d585d/0eb09/sse.png 500w, /static/e9061ada0ae476d3fd73f9271d6d585d/1263b/sse.png 1000w, /static/e9061ada0ae476d3fd73f9271d6d585d/58c38/sse.png 1260w" sizes="(max-width: 1260px) 100vw, 1260px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<p>응답마다 다시 요청을 해야하는 Long polling 방식보다 효율적입니다(상황에 따라 달라질 수 있습니다). SSE는 서버에서 클라이언트로 text message를 보내는 브라우저 기반 웹 애플리케이션 기술이며 HTTP의 persistent connections을 기반으로하는 HTML5 표준 기술입니다.</p>
<p>이 외에도 웹소켓을 이용해 서버와 양방향 통신을 하는 방법이 있습니다. 서비스 상황에 맞게 적절한 방법을 선택하면 됩니다.</p>
<p>저희 팀은 구현이 간단한 short polling으로 해당 기능을 구현했었습니다. 하지만 사용자에게 높은 실시간성을 제공하기 위해 0.1초마다 서버에 요청을 보내다보니 서버에도 부담이 크고, 변경 사항이 없는데도 DOM을 계속 교체해야 하는 문제가 있었습니다. 이를 해결하기 위해 SSE로 구현을 변경하기로 결정했습니다.</p>
<p>서비스 특성 상 SSE보다는 WebSocket이 더 적절하다는 의견도 있었으나, 지금 당장은 새로운 라이브러리 추가나 프로토콜 학습 없이 바로 적용할 수 있는 SSE를 적용하기로 했습니다.</p>
<h2>SSE 통신 개요</h2>
<p>SSE를 이용하는 통신의 개요는 다음과 같습니다.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:2000px">
      <a class="gatsby-resp-image-link" href="/static/c9d3a25dbd760dd65d96cdb48af73160/ffe51/sse2.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:66.60000000000001%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeElEQVQ4y41Ta5ODIBDz///KfqrWx6n1BYLmEq700LMzx8wWKUs2G0KG19i2DcYYLMuCdV2x7zsDr/knNLSnnLiOcxxZ/NBG13W43W6wBD4nMiP8Nk2D+/0eCKSF4vcbcDQTurlF2eeY7cIDO6zbsdid6x3e/x4U2KFUUjw7sxjnCY6HPQGXyaKtBjSPJ6bR8n/ALA7jOGIYRvR9j2majgz75zNsDMMQwkwz4KghtXJ1BfcoOJdwX1/YqN3mXNBQekuiCPhmqI15nvEksMIwOSq2EdQvBo5sNmNFAxvDWEMJfGCkOY1Ty4DVDSqZOnlWX9sWq9hZi53sVESFH2WJuq5RVVVgWnItcllqC4mtG4ZuMBE+vU3lyDqfRpbeUgBMGVL8lSxsUcBTFrETU2ku64hVnudo2UXBHEmXHbwk46o1AbK9ECeL/IthSCSQNLM0Li58dtVyKtcfY8smnvpZWidoeAI6yMLiV88uMDy37D+80RQ4vpQrwG9j+P77BxsgcgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="sse2" title="sse2" src="/static/c9d3a25dbd760dd65d96cdb48af73160/f97d7/sse2.png" srcSet="/static/c9d3a25dbd760dd65d96cdb48af73160/0eb09/sse2.png 500w, /static/c9d3a25dbd760dd65d96cdb48af73160/1263b/sse2.png 1000w, /static/c9d3a25dbd760dd65d96cdb48af73160/f97d7/sse2.png 2000w, /static/c9d3a25dbd760dd65d96cdb48af73160/ffe51/sse2.png 2018w" sizes="(max-width: 2000px) 100vw, 2000px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<h3>Client: SSE Subscribe 요청</h3>
<p>우선 클라이언트에서 서버의 이벤트를 구독하기 위한 요청을 보내야합니다.</p>
<div class="gatsby-highlight" data-language="http"><pre class="language-http"><code class="language-http"><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/connect</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header-name keyword">Accept:</span> text/event-stream
<span class="token header-name keyword">Cache-Control:</span> no-cache</code></pre></div>
<p>이벤트의 미디어 타입은 <code class="language-text">text/event-stream</code>이 표준으로 정해져있습니다. 이벤트는 캐싱하지 않으며 지속적 연결을 사용해야합니다(HTTP 1.1에서는 기본적으로 지속 연결을 사용합니다).</p>
<h3>Server: Subscription에 대한 응답</h3>
<div class="gatsby-highlight" data-language="http"><pre class="language-http"><code class="language-http">HTTP/1.1 200
<span class="token header-name keyword">Content-Type:</span> text/event-stream;charset=UTF-8
<span class="token header-name keyword">Transfer-Encoding:</span> chunked</code></pre></div>
<p>응답의 미디어 타입은 <code class="language-text">text/event-stream</code> 입니다. 이때 <code class="language-text">Transfer-Encoding</code> 헤더의 값을 <code class="language-text">chuncked</code>로 설정합니다. 서버는 동적으로 생성된 컨텐츠를 스트리밍하기 때문에 본문의 크기를 미리 알 수 없기 때문입니다.</p>
<h3>Server: 이벤트 전달</h3>
<p>클라이언트에서 subscribe를 하고나면 서버는 해당 클라이언트에게 비동기적으로 데이터를 전송할 수 있습니다. 이때 데이터는 <code class="language-text">UTF-8</code>로 인코딩된 텍스트 데이터만 가능합니다(바이너리 데이터는 전송 불가능).</p>
<p>서로 다른 이벤트는 줄바꿈 문자 두개(\n\n)로 구분되며 각각의 이벤트는 한 개 이상의 <code class="language-text">name: value</code> 필드로 구성되며 이들은 줄바꿈 문자 하나로 구분됩니다.</p>
<div class="gatsby-highlight" data-language="http"><pre class="language-http"><code class="language-http"><span class="token header-name keyword">event:</span> type1
<span class="token header-name keyword">data:</span> An event of type1.

<span class="token header-name keyword">event:</span> type2
<span class="token header-name keyword">data:</span> An event of type2.</code></pre></div>
<h2>코드로 살펴봅시다</h2>
<p>사용된 예시 코드는 <a href="https://github.com/awesomeo184/sse-sample">여기</a>서 확인하실 수 있습니다.</p>
<p>기본적인 흐름을 먼저 설명하면 다음과 같습니다.</p>
<ol>
<li>클라이언트에서 SSE 연결 요청을 보낸다.</li>
<li>서버에서는 클라이언트와 매핑되는 SSE 통신 객체를 만든다.</li>
<li>서버에서 이벤트가 발생하면 해당 객체를 통해 클라이언트로 데이터를 전달한다.</li>
</ol>
<p>그림으로 보면 다음과 같습니다.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1900px">
      <a class="gatsby-resp-image-link" href="/static/07d241cd25a664abebd2e6ce4154af70/a7a60/sse3.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:58.20000000000001%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABMklEQVQoz6WTiW6DQAxE+f8/DEoJggCh4UohEK64PEtGJKKqqo5ksWvs8di76zyfT8GArbe+v4Acp+97adt2N+B+v4vrulIUhe7nef7RTIDTdZ0mgrqupSxLmaZJ9xSqqkqIIQk/No6jDMPwYsQoof2kQtM0crlcJAgCJUI9gARykvgS/w782jIkKEOBASL8pjzLMjmdThKGoRwOB0nTVP0QI8jGowrjOJYkSVY128OwIL4ohhhQ7Hw+y+Px0DxyVsK9w6A1a9OCrwsZ8wVfS0ef12yNfSGkCi2D2+2mlVGNCjt91r7vSxRFuk+WOR+PH1rUOjNiZztoWqKSXQML4j9FMNbpQuh5nsZa/HrKdo/e5we218PWJKKKvc3QTAlRRWWr8O+XwtzyPN895fen+JuBb4++qtC4uPwDAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="sse3" title="sse3" src="/static/07d241cd25a664abebd2e6ce4154af70/a7a60/sse3.png" srcSet="/static/07d241cd25a664abebd2e6ce4154af70/0eb09/sse3.png 500w, /static/07d241cd25a664abebd2e6ce4154af70/1263b/sse3.png 1000w, /static/07d241cd25a664abebd2e6ce4154af70/a7a60/sse3.png 1900w" sizes="(max-width: 1900px) 100vw, 1900px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1956px">
      <a class="gatsby-resp-image-link" href="/static/cda947189eb317f424fdbcae6a969fe9/973af/sse4.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:56.400000000000006%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABMUlEQVQoz42Ti46CQAxF/f9vJJrwEFweUUBAHOjO6W4noJuNTerMtJfb2854EG/Lssi6rmLG3tw5t8v9Z+AObLquk8fjEYJmkJ1OJ0nTVOZ5VgzO/vl8BgeHKEwJ+77XBMCmaeR8Pss0TQoax1FJyFO4KAqJ41iLDMMQvjNBSkjAKrBSAGLAKAZcXC5SlqVc/Er+tVU4lBBwlmVK8NoyINpBbeXJwERRpArHcQgj2BGiCOkmeUtGDELnmNMikz/3fSdfnrzrflRSbEfIj82IxPV61Tnh9/v9l9BJ6rtI/NywsqwkTpJA9EZ4u920Utu2OidWU203mee5XgQdUex4PGr8rWVTCJAgN8mHzIsYhbZPhfN2b+dASDtVVUld1+FGLfnpg949bAhp0wj/+rd86tg3cA5cKhsQcN8AAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="sse4" title="sse4" src="/static/cda947189eb317f424fdbcae6a969fe9/973af/sse4.png" srcSet="/static/cda947189eb317f424fdbcae6a969fe9/0eb09/sse4.png 500w, /static/cda947189eb317f424fdbcae6a969fe9/1263b/sse4.png 1000w, /static/cda947189eb317f424fdbcae6a969fe9/973af/sse4.png 1956w" sizes="(max-width: 1956px) 100vw, 1956px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<p>우선 클라이언트에서는 <code class="language-text">EventSource</code>라는 인터페이스로 SSE 연결 요청을 할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> sse <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventSource</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/connect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>spring framework 4.2부터 SSE 통신을 지원하는 <code class="language-text">SseEmitter</code> API를 제공합니다. 이를 이용해 SSE 구독 요청에 대한 응답을 할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>  
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span>  
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">MediaType</span><span class="token punctuation">;</span>  
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">ResponseEntity</span><span class="token punctuation">;</span>  
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>  
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>  
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>mvc<span class="token punctuation">.</span>method<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">SseEmitter</span><span class="token punctuation">;</span>  
  
<span class="token annotation punctuation">@RestController</span>  
<span class="token annotation punctuation">@Slf4j</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SseController</span> <span class="token punctuation">{</span>  
  
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">SseEmitters</span> sseEmitters<span class="token punctuation">;</span>  
  
    <span class="token keyword">public</span> <span class="token class-name">SseController</span><span class="token punctuation">(</span><span class="token class-name">SseEmitters</span> sseEmitters<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>sseEmitters <span class="token operator">=</span> sseEmitters<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
  
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/connect&quot;</span><span class="token punctuation">,</span> produces <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span>TEXT_EVENT_STREAM_VALUE<span class="token punctuation">)</span>  
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SseEmitter</span><span class="token punctuation">&gt;</span></span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token class-name">SseEmitter</span> emitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SseEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        sseEmitters<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>emitter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>  
            emitter<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">SseEmitter</span><span class="token punctuation">.</span><span class="token function">event</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
                    <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;connect&quot;</span><span class="token punctuation">)</span>  
                    <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">&quot;connected!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>emitter<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span></code></pre></div>
<br/>
<p>생성자를 통해 만료시간을 설정할 수 있습니다. 디폴트 값은 서버에 따라 다릅니다. 스프링 부트의 내장 톰캣을 사용하면 30초로 설정됩니다. 만료시간이 되면 <strong>브라우저에서 자동으로 서버에 재연결 요청</strong>을 보냅니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">SseEmitter</span> emitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SseEmitter</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<br/>
<p>이때 생성된 <code class="language-text">SseEmitter</code> 객체는 향후 이벤트가 발생했을 때, 해당 클라이언트로 이벤트를 전송하기 위해 사용되므로 서버에서 저장하고 있어야 합니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java">sseEmitters<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>emitter<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<br/>
<p>주의해야할 점은 Emitter를 생성하고 나서 만료 시간까지 아무런 데이터도 보내지 않으면 재연결 요청시 503 Service Unavailable 에러가 발생할 수 있습니다. 따라서 처음 SSE 연결 시 더미 데이터를 전달해주는 것이 안전합니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java">emitter<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">SseEmitter</span><span class="token punctuation">.</span><span class="token function">event</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;connect&quot;</span><span class="token punctuation">)</span>         <span class="token comment">// 해당 이벤트의 이름 지정</span>
        <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">&quot;connected!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 503 에러 방지를 위한 더미 데이터</span></code></pre></div>
<br/>
<p>이벤트 이름을 설정해주면 클라이언트에서 해당 이름으로 이벤트를 받을 수 있습니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> sse <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventSource</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/connect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

sse<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;connect&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> receivedConnectData <span class="token punctuation">}</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;connect event data: &#x27;</span><span class="token punctuation">,</span>receivedConnectData<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;connected!&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<br/>
<p><code class="language-text">SseEmitter</code>를 생성할 때는 비동기 요청이 완료되거나 타임아웃 발생 시 실행할 콜백을 등록할 수 있습니다. 타임아웃이 발생하면 브라우저에서 재연결 요청을 보내는데, 이때 새로운 Emitter 객체를 다시 생성하기 때문에(<code class="language-text">SseController</code>의 <code class="language-text">connect()</code>메서드 참조) 기존의 Emitter를 제거해주어야 합니다. 따라서 <code class="language-text">onCompletion</code> 콜백에서 자기 자신을 지우도록 등록합니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Component</span>  
<span class="token annotation punctuation">@Slf4j</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SseEmitters</span> <span class="token punctuation">{</span>  
  
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SseEmitter</span><span class="token punctuation">&gt;</span></span> emitters <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CopyOnWriteArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
    <span class="token class-name">SseEmitter</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SseEmitter</span> emitter<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>emitters<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>emitter<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;new emitter added: {}&quot;</span><span class="token punctuation">,</span> emitter<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;emitter list size: {}&quot;</span><span class="token punctuation">,</span> emitters<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        emitter<span class="token punctuation">.</span><span class="token function">onCompletion</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;onCompletion callback&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token keyword">this</span><span class="token punctuation">.</span>emitters<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>emitter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 만료되면 리스트에서 삭제</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        emitter<span class="token punctuation">.</span><span class="token function">onTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;onTimeout callback&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            emitter<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
        <span class="token keyword">return</span> emitter<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span></code></pre></div>
<p>주의할 점은 이 콜백이 <strong>SseEmitter를 관리하는 다른 스레드에서 실행</strong>된다는 것입니다. 따라서 <code class="language-text">thread-safe</code>한 자료구조를 사용하지 않으면 <code class="language-text">ConcurrnetModificationException</code>이 발생할 수 있습니다. 여기서는 thread-safe한 자료구조인 <code class="language-text">CopyOnWriteArrayList</code>를 사용하였습니다.</p>
<p>이제 서버에서 무언가 변경 사항이 생겼을 때, 클라이언트의 요청이 없어도 데이터를 전송할 수 있습니다. 본 예시에서는 누군가 <code class="language-text">/count</code>를 호출하면 서버에 저장된 숫자를 1 증가시키고 이를 SSE 커넥션이 열려있는 모든 클라이언트에게 전달하도록 해보겠습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@RestController</span>  
<span class="token annotation punctuation">@Slf4j</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SseController</span> <span class="token punctuation">{</span>  
  
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">SseEmitters</span> sseEmitters<span class="token punctuation">;</span>  
  
    <span class="token keyword">public</span> <span class="token class-name">SseController</span><span class="token punctuation">(</span><span class="token class-name">SseEmitters</span> sseEmitters<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>sseEmitters <span class="token operator">=</span> sseEmitters<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  

	<span class="token comment">// ...</span>
  
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/count&quot;</span><span class="token punctuation">)</span>  
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        sseEmitters<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Component</span>  
<span class="token annotation punctuation">@Slf4j</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SseEmitters</span> <span class="token punctuation">{</span>  
  
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">AtomicLong</span> counter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AtomicLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SseEmitter</span><span class="token punctuation">&gt;</span></span> emitters <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CopyOnWriteArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
	<span class="token comment">// ...</span>
	
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">long</span> count <span class="token operator">=</span> counter<span class="token punctuation">.</span><span class="token function">incrementAndGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        emitters<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>emitter <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
            <span class="token keyword">try</span> <span class="token punctuation">{</span>  
                emitter<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">SseEmitter</span><span class="token punctuation">.</span><span class="token function">event</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
                        <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">)</span>  
                        <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span></code></pre></div>
<br/>
클라이언트에서는 `count`라는 이름의 이벤트가 발생할 때 콘솔에 변경된 데이터를 출력하도록 이벤트 리스너를 등록해둡니다.
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java">sse<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;count&#x27;</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>  
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> receivedCount <span class="token punctuation">}</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;count event data&quot;</span><span class="token punctuation">,</span>receivedCount<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token function">setCount</span><span class="token punctuation">(</span>receivedCount<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>이제 만약 다른 브라우저에서 count를 호출한다면 내 브라우저에 서버에서 변경된 값이 찍히게 됩니다.</p>
<h2>주의점</h2>
<p>스프링에서도 API를 지원해주고 있기 때문에 SSE 통신을 구현하는 것 자체는 굉장히 쉽습니다. 하지만 기능을 구현하고 서비스에 배포하기까지 여러 어려움들을 겪었는데요, SSE 통신을 구현하면서 진행한 트러블슈팅을 공유하면서 글을 마치도록 하겠습니다.</p>
<h3>503 Service Unavailable</h3>
<p>위에서 언급했듯이 처음에 SSE 응답을 할 때 아무런 이벤트도 보내지 않으면 재연결 요청을 보낼때나, 아니면 연결 요청 자체에서 오류가 발생합니다.</p>
<p>따라서 첫 SSE 응답을 보낼 시에는 반드시 더미 데이터라도 넣어서 데이터를 전달해야합니다.</p>
<h3>헤더에 토큰 전달</h3>
<p>SSE 연결 요청을 할 때 헤더에 JWT를 담아서 보내줘야했는데, <code class="language-text">EventSource</code> 인터페이스는 기본적으로 헤더 전달을 지원하지 않는 문제가 있었습니다. <a href="https://www.npmjs.com/package/event-source-polyfill">event-source-polyfill</a> 을 사용하면 헤더를 함께 보낼 수 있습니다.</p>
<h3>JPA 사용시 Connection 고갈 문제</h3>
<p><strong>SSE 통신을 하는 동안은 HTTP Connection이 계속 열려있습니다.</strong> 만약 SSE 연결 응답 API에서 JPA를 사용하고 <code class="language-text">open-in-view</code> 속성을 true로 설정했다면, <strong>HTTP Connection이 열려있는 동안 DB Connection도 같이 열려있게 됩니다.</strong></p>
<p>즉 DB Connection Pool에서 최대 10개의 Connection을 사용할 수 있다면, <strong>10명의 클라이언트가 SSE 연결 요청을 하는 순간 DB 커넥션도 고갈되게 됩니다.</strong> 따라서 이 경우 <code class="language-text">open-in-view</code> 설정을 반드시 false로 설정해야 합니다.</p>
<h3>ConcurrentModificationException</h3>
<p>마찬가지로 위에서 언급했듯이, <code class="language-text">onCompletion</code>, <code class="language-text">onTimeout</code> 콜백은 별도의 스레드에서 호출됩니다. 만약 이 콜백을 통해 <code class="language-text">SseEmitter</code> 객체가 담긴 컬렉션에 연산을 한다면 해당 컬렉션은 thread-safe한 자료구조를 사용해야합니다. 처음에 그냥 <code class="language-text">ArrayList</code>를 사용했다가 SseEmitter가 만료될 때마다 ConcurrentModificationException이 발생하는 문제를 겪었었습니다.</p>
<h3>Nginx 사용시 주의할 점</h3>
<p>로컬에서 잘 동작하는 것을 확인하고 배포를 했더니 SSE 통신이 동작하지 않는 문제가 발생했었습니다.</p>
<p>저희 팀은 리버스 프록시로 Nginx를 사용하고 있었는데요</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1734px">
      <a class="gatsby-resp-image-link" href="/static/4b12547a044695854a0d7371e37c9051/285a5/arch.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:62.2%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACDElEQVQoz42TzW7TQBRG/YS8CW/AngUSQggJFuxgwwZadYGEaCu6oIKCChJIFWlT4iR2Eo/jxP/jsX24nqQhSoXElcYzY898nnvuNw67YXLqoE99/BTSKa1O7eu2bfmfcLqFVVWRpCnxYo6ee2SN4Wh4SlNryELalaIVvRHe7u14PXeMMYRKoaQtoxAdeoTphNe9t5hiAXl0W3Cn3x47uhOMY3RtVmfuRFQfIte2tkysoN3Dqm1OtpXqzdhBa0r3GrNM1gwL6tClOnku6QbQVBu2+usBXBzZsY26xKgB+fETiD3aKsc529vnzd17DPYfkaaKQnnkpuRT/wNto8nUmHA6gkpz5Z0yUt8FQ4wKphTCu65KZt5v+UlpeTsPz99x59V9fp4/IF8ElqEqQl7231NLhbNuPpH0azjx9vg8OxQsJcHMF0EfXeaoubihKixvp64rAnVNWaxTzue0waWkMKENhaW1TUPbVVtOSywYivlqrRa+HWvVg6WkXCxxoihiPPIxpt5wYdqjOHwsm6d/GYqo8l3CyZA8WQqejKaRPcKtY9fqzFbO6TwYBIGcUokPI2E25CrxmQ3P8JNfpDOXaCECWcZwNGYZJxSScia+3Xhx29jdoxMdjT3G7kAyGvBi+JEv0TcOLp/Zooy9Ca5867y6G7t+dG5dqSLCTC9o/B8wH1hOuwLtP25NF38Aor6YK44DtQsAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="프로젝트 아키텍처" title="프로젝트 아키텍처" src="/static/4b12547a044695854a0d7371e37c9051/285a5/arch.png" srcSet="/static/4b12547a044695854a0d7371e37c9051/0eb09/arch.png 500w, /static/4b12547a044695854a0d7371e37c9051/1263b/arch.png 1000w, /static/4b12547a044695854a0d7371e37c9051/285a5/arch.png 1734w" sizes="(max-width: 1734px) 100vw, 1734px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<p>원인을 찾아보던 중 Nginx는 기본적으로 Upstream으로 요청을 보낼때 HTTP/1.0 버전을 사용한다는 것을 확인했습니다.</p>
<p>HTTP/1.1은 지속 연결이 기본이기 때문에 헤더를 따로 설정해줄 필요가 없지만, <strong>Nginx에서 백엔드 WAS로 요청을 보낼 때는 HTTP/1.0을 사용하고 <code class="language-text">Connection: close</code> 헤더를 사용</strong>하게 됩니다.</p>
<p>SSE는 지속 연결이 되어 있어야 동작하는데 Nginx에서 지속 연결을 닫아버려 제대로 동작하지 않았습니다.</p>
<p>따라서 아래와 같이 nginx 설정을 추가해야 제대로 동작합니다.</p>
<div class="gatsby-highlight" data-language="nginx"><pre class="language-nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">proxy_set_header</span> Connection <span class="token string">&#x27;&#x27;</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">proxy_http_version</span> 1.1</span><span class="token punctuation">;</span></code></pre></div>
<p>또 Nginx의 proxy buffering 기능도 조심해야 하는데요, SSE 통신에서 서버는 기본적으로 응답에 <code class="language-text">Transfer-Encoding: chunked</code>를 사용합니다. SSE는 서버에서 동적으로 생성된 컨텐츠를 스트리밍하기 때문에 본문의 크기를 미리 알 수 없기 때문입니다.</p>
<p>Nginx는 서버의 응답을 버퍼에 저장해두었다가 버퍼가 차거나 서버가 응답 데이터를 모두 보내면 클라이언트로 전송하게 됩니다.</p>
<blockquote>
<p>참고: <a href="https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/">https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/</a></p>
</blockquote>
<p>문제는 버퍼링 기능을 활성화하면 <strong>SSE 통신 시 원하는대로 동작하지 않거나 실시간성이 떨어지게 된다는 것</strong>입니다. 따라서 SSE 응답에 대해서는 proxy buffering 설정을 비활성화 해주는 것이 좋습니다.</p>
<p>하지만 Nginx의 설정 파일에서 버퍼링을 비활성화하면 다른 모든 API 응답에 대해서도 버퍼링을 하지 않기 때문에 비효율적일 수 있습니다. 이때 nginx의 <a href="https://www.nginx.com/resources/wiki/start/topics/examples/x-accel/">X-accel</a> 기능을 활용하면 좋습니다.</p>
<p>백엔드의 응답 헤더에 X-accel로 시작하는 헤더가 있으면 Nginx가 이 정보를 이용해 내부적인 처리를 따로 하도록 만들 수 있습니다. 따라서 SSE 응답을 반환하는 API의 헤더에 <code class="language-text">X-Accel-Buffering: no</code>를 붙여주면 SSE 응답만 버퍼링을 하지 않도록 설정할 수 있습니다.</p>
<h3>스케일 아웃 시 문제</h3>
<p><code class="language-text">SseEmitter</code> 객체는 서버의 메모리에 저장되어 있습니다. 따라서 서버 인스턴스를 늘리는 경우 기능이 제대로 동작하지 않습니다. </p>
<p>이런 경우 <a href="https://redis.io/docs/manual/pubsub/">Redis Pub/Sub</a>같은 메시지 브로커나 분산 캐시를 통해 문제를 해결할 수 있습니다.</p>
<h2>마무리</h2>
<p>Server-Sent Events는 HTTP를 기반으로 동작하기 때문에 특별한 라이브러리나 프로토콜 추가 없이 빠르게 도입할 수 있다는 장점이 있습니다. 또한 서버에서 클라이언트로의 단방향 통신만 가능하기 때문에 클라이언트의 상호작용 없이 서버로부터 데이터가 전달되어야 하는 상황에 적합합니다. 대표적으로 스포츠 중계 서비스나 SNS 피드 같은 성격의 서비스에서 사용을 고려해볼 수 있습니다.</p>
<h3>참고자료</h3>
<ul>
<li><a href="https://github.com/aliakh/demo-spring-sse">https://github.com/aliakh/demo-spring-sse</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/EventSource">MDN EventSource</a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/4.2.0.RC2_to_4.2.0.RC3/Spring%20Framework%204.2.0.RC3/org/springframework/web/servlet/mvc/method/annotation/SseEmitter.html">SseEmitter API</a></li>
<li><a href="https://www.nginx.com/resources/wiki/start/topics/examples/x-accel/">Nginx X-accel</a></li>
<li><a href="https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/">Nginx reverse proxy guide</a></li>
</ul></div></section></article></div><div></div></main><style data-emotion="css 3pb1mm">.css-3pb1mm{position:relative;padding:0 5vw;}</style><style data-emotion="css rtegya">.css-rtegya{border-bottom:1px solid rgba(255, 255, 255, 0.1);background:#0a0b0c;position:relative;padding:0 5vw;}.css-rtegya .post-card{padding-bottom:0;border-bottom:none;}.css-rtegya .post-card:after{display:none;}.css-rtegya .post-card-primary-tag{color:#fff;opacity:0.6;}.css-rtegya .post-card-title{color:#fff;opacity:0.8;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-rtegya .post-card:hover .post-card-image{opacity:1;}.css-rtegya .post-card-excerpt{color:rgba(255, 255, 255, 0.6);}.css-rtegya .static-avatar{border-color:#000;}.css-rtegya .post-card-byline-content{color:rgba(255, 255, 255, 0.6);}.css-rtegya .post-card-byline-content a{color:rgba(255, 255, 255, 0.8);}.css-rtegya .author-avatar{border-color:#0a0b0c;}.css-rtegya .author-profile-image{background:#0a0b0c;}@media (max-width: 650px){.css-rtegya .post-card{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:25px;padding:25px 0 0;border-bottom:1px solid rgba(255, 255, 255, 0.1);}}</style><aside class="read-next css-rtegya"><div class="css-1q5n7pp"><style data-emotion="css si41tf">.css-si41tf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -25px;padding:60px 0 0 0;}</style><div class="read-next-feed css-si41tf"><style data-emotion="css 1pe6fj0">.css-1pe6fj0{position:relative;-webkit-flex:1 1 301px;-ms-flex:1 1 301px;flex:1 1 301px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 0 40px;padding:0 20px 40px;min-height:220px;border-bottom:1px solid #eaeff1;-webkit-background-size:cover;background-size:cover;}@media (prefers-color-scheme: dark){.css-1pe6fj0{border-bottom-color:#2b2f36;}}</style><article class="post-card   css-1pe6fj0"><style data-emotion="css 19py1iz">.css-19py1iz{position:relative;display:block;overflow:hidden;border-radius:5px 5px 0 0;}</style><a class="post-card-image-link css-19py1iz" href="/post/2022-10-11-test-automation/"><style data-emotion="css zj03fh">.css-zj03fh{width:auto;height:200px;background:#c5d2d9 no-repeat center center;-webkit-background-size:cover;background-size:cover;}</style><div class="post-card-image css-zj03fh"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:53.87096774193549%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAChUlEQVQoz02SW08TURSF+4v8C8YnfTT+BhISH9SI+GIiBuODMUQhxkRJDCIBqwJBoVBpoVCQS0ANpQyd6TClnXZKAdtOL/TK5+40EpJZ2ScnmS9rrX1cc+5B1pf9KFENu1Sm2oRKvUmlcS7z3Jk1oCE6a7Ykd5dUO6d9likfrr7eR/T19RHY/EUyW+RY/sqU6qJGW2VRrkb6pIJ1cubMo0vKnFY4Pm2fC5UGrncfhhkan2E6uI1/K4yRb3CQrbWVr2Ec11ibCTE7NI+xmiQmigSTKMstmSx5FXYCh+wHTKL7WVynVUhLJqsCiRLEC00MceTIFqhVRlsw8M3o9IyneDXVhu0KJDAbZtW7j88TIuyPoYdOcaWKTZS0zccvU7wfG0excg40lq9jnuEAD1ZTDPgs7nxPcs+TYsRjElrQ+eHZYduvE5jbY8dnoO8KMCMO3d9mefK4hwf3u3BPTkvsOqH4CcshFTVho4qjF36LnoBFxyeTgfEk5lqcde8hi7OKxL4EPBIXI+4J+l++Ymx0lOFRN9u6hW9zhw01jmYWMIIm3nmTrs8mD4cS/J474OtEjD9bHrSgiraSRgsk0EIn4lC6W98z6Ol9xus3b/kZ0pz+FCsvHdadyJElE2MlibaUQN3MU5EkTzvu0j3fTy38XPrMEZFOoy1gslAnXsSBaMclZzGt/uK29FhoOEBVttnarLqcILyZI3uzk8lrV7nd1UnZfwtlpSTAWBuYKtbRs1UHcmg3BFy92HKs5TAtDiVOZFG0ECeyahEZ3CB3/Qal7ivEZrzsL2WIzMfake3qpWfyHyTwiynvUT+wiUayRNUcemsaRaJKXpZgo2lncvcXTe4tedz/APPkBFkVk5SGAAAAAElFTkSuQmCC" alt="테스트 자동화 라이브러리 개발기 cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/cdf77e568e0503505c9c061a6e4aaf7d/3a443/cypress-ci-xvfb.png 930w,
/static/cdf77e568e0503505c9c061a6e4aaf7d/e3f46/cypress-ci-xvfb.png 1366w" sizes="(max-width: 1366px) 100vw, 1366px" /><img loading="lazy" sizes="(max-width: 1366px) 100vw, 1366px" srcset="/static/cdf77e568e0503505c9c061a6e4aaf7d/3a443/cypress-ci-xvfb.png 930w,
/static/cdf77e568e0503505c9c061a6e4aaf7d/e3f46/cypress-ci-xvfb.png 1366w" src="/static/cdf77e568e0503505c9c061a6e4aaf7d/e3f46/cypress-ci-xvfb.png" alt="테스트 자동화 라이브러리 개발기 cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><style data-emotion="css susx73">.css-susx73{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="post-card-content css-susx73"><style data-emotion="css 11xyrw0">.css-11xyrw0{position:relative;display:block;color:#15171A;}.css-11xyrw0:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="post-card-content-link css-11xyrw0" href="/post/2022-10-11-test-automation/"><style data-emotion="css 1s5mbbt">.css-1s5mbbt{margin:15px 0 0;}</style><header class="post-card-header css-1s5mbbt"><style data-emotion="css 1ws4skr">.css-1ws4skr{height:25px;margin:0 0 0.2em;color:#3eb0ef;font-size:1.7rem;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;}</style><div class="post-card-primary-tag css-1ws4skr">#test</div><style data-emotion="css 1pqz7yn">.css-1pqz7yn{margin:0 0 0.4em;line-height:1.15em;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}@media (prefers-color-scheme: dark){.css-1pqz7yn{color:rgba(255, 255, 255, 0.85);}}</style><h2 class="post-card-title css-1pqz7yn">테스트 자동화 라이브러리 개발기</h2></header><style data-emotion="css eyqgbm">.css-eyqgbm{font-family:Georgia,serif;}@media (prefers-color-scheme: dark){.css-eyqgbm{color:#90a2aa!important;}}</style><section class="post-card-excerpt css-eyqgbm"><p>cypress-ci는 Cypress 테스트 자동화 라이브러리로, CI Provider에서 서버 실행과 테스트 실행을 자동화하기 위한 여러가지 기능을 지원하고 있습니다. 개발 배경 체크메이트 팀에서는 Jenkins와 Cypress로 빌드 전 E2E…</p></section></a><style data-emotion="css k6f2l9">.css-k6f2l9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0;}</style><footer class="post-card-meta css-k6f2l9"><ul class="author-list css-teqkql"><li class="author-list-item css-1q168dw"><style data-emotion="css 1o16atw">.css-1o16atw{position:absolute;bottom:105%;z-index:999;display:block;padding:2px 8px;color:white;font-size:1.2rem;letter-spacing:0.2px;white-space:nowrap;background:#15171A;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.03) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:translateY(6px);-moz-transform:translateY(6px);-ms-transform:translateY(6px);transform:translateY(6px);pointer-events:none;}@media (max-width: 700px){.css-1o16atw{display:none;}}</style><div class="author-name-tooltip css-1o16atw">4기_우디</div><a class="author-avatar css-cdhz0m" href="/author/4-기-우디/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVQ4ywHEBDv7AOOjL+elI+mlJumkJ+mkKemkKOikJuekJOelJei6SO/TXfLXWvLXW+7YcezUiebBZt60Nt2xLN6wROCzZQDgmyjlnR/inCHknCPnniPnoCPooiPooRvkox7nx1Hqy1Xoy1jmzHPevWzQozfPnSzXq13ivJnpxrDft5AA4pge5JgV45YZ4pMa4ZIZ45Qa5pcT2ZMc1KBL0qhp0aZpyplMtoMdxI8w1apz4buq6sjH2bOWv447s3sLAOOVGuiVDemSD+eQEOiPEuKMDsmLK8aYZbqLTKx4IqNxD6JvCah4EbGDNdSul9+7tb6SXaVwDqNuBaVxDADtnRXsnAbhlQXYiwjTggq/fh+mfD2YaRaTYACSYQSXaRC0ij3Fn1e4j0CZahaebiOTYAWWZAuXZQ6WZAwA2ZgQuIE3w5JuzJ2HvI1vilwXiFYKh1cJhVkLil8TsYpGvpZUrYVCspBOnXUsglQCiVwQiFkMhVgKh1gMALZ9Ueusr895QKZwSp5yUHNIA3hMDnhODHlPDaiAQ7OLTqSCStLDpcGthZhxM3lOD3lOC3RKCn9MCa10JgDumo/9paXqi258PAGGYTCwlnJtRQ1iPQWPaTWuh1OliF69tJLZ3bW2oYGVbTlqQw9oQAxrRg+3fjPFlkoA8Xk/9Xc/+oNVlj4FkG9QxbWjnn1Xh2A3oHpRk29Jtq6LpalokoZRrIxph2A3VzMJWzYOmWw2wIA/pnA2AO5fF/lgEexZD3QiAH5cRNHGu7qxmJJzTJ54VZt2Upl6UpV9SKGBX6WBYVw4GEknB146Ga1aI7hTGKNfKwDxcRn3bhPtdBmoWxZjPie4rqSdmG96XDyIZUmac1SRbE+Vb1OWcE+Tb09tSjA8HQhxQiGdTSSkTB+pZDYA53oitlYdzG4b/6QkvHgnsKGUrJSAiWRJjGlQimZNimlPkW9Tk3BVmHZbgmZPPR4PdTEPeiwJfCwKiDgUAMVqK2sXBKZLFe98Gth5IbOah5+BcYZgSYhmUoxpVY9tWIxrVYZeSX9NN202Hl4hC2UjCHQjBXQiA24fAwC/bEGMOyJ8LhTaaSXUfDOog2enjH+FYU+NaFWHY1F7TjhyMh5pIAtqGgRoGwRPGQs2FAxEFwxjHwtvJg8AjEAofCYQYxMCumcr3JhFp1klw4hVqI96e0w8aiQSahcCahcAbRsDZRoHNhEKIgsJIQkJMhQTMBAMSSgjAF4XBmUZBl0QBrVmItybNLB4SLV2P6NqSnonFGkTAG8aBXAaBWAYCDENCxYDBT0bGHI6LYM2IVAWDB4HCABmHw9lGwZdEQa5byTPjy6eTzK4ViKdUC+BLBprFwVyGQZfGAgqCQggBgRIHhaBPDCNOydpFABxGAVIEgkAiz8uZRcFZxUFeisPsXk0uF8pxHVGl0s4bBQBcBkFZxgILQkGIwwOYz5Gi0Q7choGaxkEaxgGaxgGZR0NAH41Jm4YCGcWBU8WD4ReTJdqWWhIUUYdHnAbBmwYBzYLBiwTF1Q2QTsfJy8SFlkWCnMZBGEYDWgeHn84KABwOSNfIgk5FgkdCAZFJjE8Hy8gBAI7HBZQGQ1NFAsXAABnRlhUNEIUAAAfCgo3EAtsGgVeFgp4JCiKPTAE9dGYMv6tjAAAAABJRU5ErkJggg==" alt="4기_우디" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/cd9b4a2a0532681d4c58ef3971d85d9e/8ac63/woody.png 200w,
/static/cd9b4a2a0532681d4c58ef3971d85d9e/3891b/woody.png 400w,
/static/cd9b4a2a0532681d4c58ef3971d85d9e/6ba37/woody.png 512w" sizes="(max-width: 512px) 100vw, 512px" /><img loading="lazy" sizes="(max-width: 512px) 100vw, 512px" srcset="/static/cd9b4a2a0532681d4c58ef3971d85d9e/8ac63/woody.png 200w,
/static/cd9b4a2a0532681d4c58ef3971d85d9e/3891b/woody.png 400w,
/static/cd9b4a2a0532681d4c58ef3971d85d9e/6ba37/woody.png 512w" src="/static/cd9b4a2a0532681d4c58ef3971d85d9e/6ba37/woody.png" alt="4기_우디" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><style data-emotion="css 12ys16c">.css-12ys16c{-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:4px 0 0 10px;color:#90a2aa;font-size:1.2rem;line-height:1.4em;font-weight:400;letter-spacing:0.2px;text-transform:uppercase;}.css-12ys16c span{margin:0;}.css-12ys16c a{color:#434952;font-weight:600;}@media (prefers-color-scheme: dark){.css-12ys16c a{color:rgba(255, 255, 255, 0.75);}}</style><div class="post-card-byline-content css-12ys16c"><span><a href="/author/4-기-우디/">4기_우디</a></span><span class="post-card-byline-date"><time dateTime="2022-10-11">11 Oct 2022</time> <span class="bull">•</span> <!-- -->4<!-- --> min read</span></div></footer></div></article><article class="post-card   css-1pe6fj0"><a class="post-card-image-link css-19py1iz" href="/post/2022-10-15-function-overloading/"><div class="post-card-image css-zj03fh"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVQ4y+VUWUtCURD297RctUxLWikIIqqXaHnoIdKKoAi9qVlpC9EGbUS0EEVUD/4Nd9O0NMv6L9OZc++Rc66XnnyJHob5ZubcOd98c7gGkycK1TTD32loXIoIBRbzecTauKIhf0jvwG9m1mls0GMkEauXI1DnVnytOwySLObQalxh6vnvyw2xSdNyDKYu8tC9mYLWQAK6NpLUD+xlYOQoC+3BBHSuJ6F/N01r6NtInTWtYIgjjJ3kwHGZh0DoC1z3HxAMfcP8bRE8D58wc10AJ6kt3hXB+1gC31OJXo6sBQ15XZDl0MELjJ/mKLPe7Wfo2UpB306aYmSGNnH2StnaV+NUDoEhrx/Dil5hqh8yULyCJbVGsWahBu1T0G5Rz0wazMtW1pDdJnFbltTLKJY5rJMvM2QJFNfqj0GjL0Z1tK/F1TgKHUQrG8FmbxRaiGYWUsePccPNK3Fo8HIMUQtMDB9mqdAO8mwmz99g7uYdFsh2B/czMHqcg+mrAs3hC3ASjDU3eQWzZPNo2EMYGcdANmhYRG8hbFEnFltVlsjQ5o+r52N0OjOvIZufaWPktBRiWcTsDE4pbLlafxph5P/zg/0BiQjZWOLPufoAAAAASUVORK5CYII=" alt="함수 오버로딩 cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/71dda925469536fbe9cd47ea9ea01c1b/6caa6/TypeScript-FunctionOverloading.png 768w" sizes="(max-width: 768px) 100vw, 768px" /><img loading="lazy" sizes="(max-width: 768px) 100vw, 768px" srcset="/static/71dda925469536fbe9cd47ea9ea01c1b/6caa6/TypeScript-FunctionOverloading.png 768w" src="/static/71dda925469536fbe9cd47ea9ea01c1b/6caa6/TypeScript-FunctionOverloading.png" alt="함수 오버로딩 cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><div class="post-card-content css-susx73"><a class="post-card-content-link css-11xyrw0" href="/post/2022-10-15-function-overloading/"><header class="post-card-header css-1s5mbbt"><div class="post-card-primary-tag css-1ws4skr">#function</div><h2 class="post-card-title css-1pqz7yn">함수 오버로딩</h2></header><section class="post-card-excerpt css-eyqgbm"><p>서언 TypeScript에는 Function Overloading 기능이 있습니다. 이번에 Function Overloading…</p></section></a><footer class="post-card-meta css-k6f2l9"><ul class="author-list css-teqkql"><li class="author-list-item css-1q168dw"><div class="author-name-tooltip css-1o16atw">4기_시지프</div><a class="author-avatar css-cdhz0m" href="/author/4-기-시지프/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAgHAwb/xAAWAQEBAQAAAAAAAAAAAAAAAAAEAgP/2gAMAwEAAhADEAAAAaDxe1dBhcsu7U9Fe3FxGgFf/8QAHRAAAQQCAwAAAAAAAAAAAAAAAQIEBQYDEgARMf/aAAgBAQABBQIpWjHW3tyXM6cqsE3mXDmjQTTOfacdcM0okuz06//EACERAAICAQIHAAAAAAAAAAAAAAECAxEEABIQExQhIzFh/9oACAEDAQE/AYmxuRkiVZDkVF0rK1ICH8wkG07gYzY9d1+6vQ4f/8QAJBEAAQIEBQUAAAAAAAAAAAAAAQIDABITIgQQESEyM2FxgrL/2gAIAQIBAT8BLeIUtotlFK+qFcjtZL7DQ9jE0N9NHhX1l//EACkQAAIBAwMCBAcAAAAAAAAAAAECAwQREgAFExQxISNBUQYiQoKRoaL/2gAIAQEABj8CkZI+R1jkZIr48rqhKR5dl5GAS/plfVVQfEsG0mlfbY6+nm2z5X2+qypln2uqTlm5QOduGpZspenZ+zmOLU3VSyRQQBPCKweaR8rRh2DYAKhYkAsfAC3fW4VonqKfqzEkXntIsXH5cUSrMWTDmdziuJsSS3bE6nI9axb/AGUzED+jrao/oNTt9x75tKzX9/Efs6qAPSeYfiRtf//EAB0QAQEAAwACAwAAAAAAAAAAAAERACExQVFxkcH/2gAIAQEAAT8hU8exQ3qpdRN3Riafe7pSbzhcyzk3739KAHZUgrh9YdSh3cu2CnThgF4p9KYjmPzR7KlR/MWrfIZdi0Tap7LdJyxneDM//9oADAMBAAIAAwAAABArwEL/xAAfEQEAAQMEAwAAAAAAAAAAAAABEQAxQSFRcZFhobH/2gAIAQMBAT8QmqihQSmkkRZEJJeHsNsLc166uOT7QCEhYx4r/8QAHREBAAICAgMAAAAAAAAAAAAAAQARIXExUaGx4f/aAAgBAgEBPxAjixJgCp2AiWXkawTTz8gOA1HSPLt9z//EABoQAQEBAQEBAQAAAAAAAAAAAAERIQAxQaH/2gAIAQEAAT8QCN4vLrAa4gVRXX/pzFJPEkun0fPz3ljD3v8ARV8uwAFmUMqfBy8P7X6x82XYlJZZ8s5LAfzvwkxiIrIxrMw6Kh0GqyccHF2dnU7EiVgVh3//2Q==" alt="4기_시지프" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/002098e5a536e611ccb3ee261815bf03/fd013/sisyphus.jpg 200w,
/static/002098e5a536e611ccb3ee261815bf03/25252/sisyphus.jpg 400w,
/static/002098e5a536e611ccb3ee261815bf03/f86e8/sisyphus.jpg 460w" sizes="(max-width: 460px) 100vw, 460px" /><img loading="lazy" sizes="(max-width: 460px) 100vw, 460px" srcset="/static/002098e5a536e611ccb3ee261815bf03/fd013/sisyphus.jpg 200w,
/static/002098e5a536e611ccb3ee261815bf03/25252/sisyphus.jpg 400w,
/static/002098e5a536e611ccb3ee261815bf03/f86e8/sisyphus.jpg 460w" src="/static/002098e5a536e611ccb3ee261815bf03/f86e8/sisyphus.jpg" alt="4기_시지프" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><div class="post-card-byline-content css-12ys16c"><span><a href="/author/4-기-시지프/">4기_시지프</a></span><span class="post-card-byline-date"><time dateTime="2022-10-15">15 Oct 2022</time> <span class="bull">•</span> <!-- -->5<!-- --> min read</span></div></footer></div></article></div></div></aside><style data-emotion="css 1snipao">.css-1snipao{position:relative;padding:0 5vw;position:relative;padding-top:20px;padding-bottom:60px;color:#fff;background:#000;}</style><footer class="css-1snipao"><style data-emotion="css 1fhv7oo">.css-1fhv7oo{margin:0 auto;max-width:1040px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(255, 255, 255, 0.7);font-size:1.3rem;}.css-1fhv7oo a{color:rgba(255, 255, 255, 0.7);}.css-1fhv7oo a:hover{color:rgba(255, 255, 255, 1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 650px){.css-1fhv7oo{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-1fhv7oo"><section class="copyright"><a href="/">Tecoble</a> © <!-- -->2023<!-- --> <a href="/">| <!-- -->Tecoble<!-- --> <!-- -->is based on woowacourse</a></section><style data-emotion="css 29c7f9">.css-29c7f9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-29c7f9 a{position:relative;margin-left:20px;}.css-29c7f9 a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-29c7f9 a:first-of-type:before{display:none;}@media (max-width: 650px){.css-29c7f9 a:first-of-type{margin-left:0;}}</style><nav class="css-29c7f9"><a href="/">Latest Posts</a><a href="https://github.com/scttcper/gatsby-casper" target="_blank" rel="noopener noreferrer">Casper</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7YLT36LV0M"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7YLT36LV0M', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/2022-10-11-server-sent-events/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f33cc994945b2249d5ee.js"],"app":["/app-7871a49fb71b5d2fd8af.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-f7da68947e50ce346751.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-947f5f80f30345c8f7f8.js"],"component---src-templates-author-tsx":["/component---src-templates-author-tsx-e3b8ed1aaa2c94077bfa.js"],"component---src-templates-index-tsx":["/component---src-templates-index-tsx-ead65a5aeec7d773bee7.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-a08628f9047d81b892e4.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-a3927cd825a62272db18.js"]};/*]]>*/</script><script src="/polyfill-f33cc994945b2249d5ee.js" nomodule=""></script><script src="/component---src-templates-post-tsx-a08628f9047d81b892e4.js" async=""></script><script src="/commons-4c188b18bcaae3f07bde.js" async=""></script><script src="/app-7871a49fb71b5d2fd8af.js" async=""></script><script src="/framework-2de79c8137b068b61a3a.js" async=""></script><script src="/webpack-runtime-674180cef417bd6b6e8f.js" async=""></script></body></html>