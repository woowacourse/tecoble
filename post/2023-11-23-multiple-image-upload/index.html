<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.11.0"/><meta data-react-helmet="true" name="description" content="사이드 프로젝트로 sns…"/><meta data-react-helmet="true" property="og:site_name" content="Tecoble"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="다중 이미지 업로드 최적화: 병렬 스트림과 CompletableFuture"/><meta data-react-helmet="true" property="og:description" content="사이드 프로젝트로 sns…"/><meta data-react-helmet="true" property="og:url" content="https://tecoble.techcourse.co.kr/post/2023-11-23-multiple-image-upload/"/><meta data-react-helmet="true" property="og:image" content="https://tecoble.techcourse.co.kr/static/28febf62529b1836b34c354877ee228e/9fb7d/multiple-image-upload.png"/><meta data-react-helmet="true" property="article:published_time" content="2023-11-23T13:00:00.000Z"/><meta data-react-helmet="true" property="article:tag" content="parallelism"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="다중 이미지 업로드 최적화: 병렬 스트림과 CompletableFuture"/><meta data-react-helmet="true" name="twitter:description" content="사이드 프로젝트로 sns…"/><meta data-react-helmet="true" name="twitter:url" content="https://tecoble.techcourse.co.kr/post/2023-11-23-multiple-image-upload/"/><meta data-react-helmet="true" name="twitter:image" content="https://tecoble.techcourse.co.kr/static/28febf62529b1836b34c354877ee228e/9fb7d/multiple-image-upload.png"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="5기_애쉬"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="parallelism"/><meta data-react-helmet="true" property="og:image:width" content="1"/><meta data-react-helmet="true" property="og:image:height" content="0.5689424364123159"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="canonical" href="https://tecoble.techcourse.co.kr/post/2023-11-23-multiple-image-upload/" data-baseprotocol="https:" data-basehost="tecoble.techcourse.co.kr"/><title data-react-helmet="true">다중 이미지 업로드 최적화: 병렬 스트림과 CompletableFuture</title><link data-react-helmet="true" rel="icon" href="data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjhJREFUeNrEV4uRgkAMzdmAlGAJdqDXgSVYgiXQgSVYgiWgFYAVYAdqBXv7kDAhhGVFPDOT8QObvPyzRDU55xLPqefSfY7KWkdCkmrlufs/yhnET/0l87ykCLper1QUBV0uF7rf79Xv5fJ5dLVa0Xq9pkgqPP9S7ZInrDx3m83GwSlJkrg0bR65LMucF149CzHObbdbV5ZRkUyJY3673arDWuBut6ve5N8QfjgcOgoAcL/fO++N5l1pQF9OUAPFv9xnFZRBQaRV1bsMBJ8wro8aAOx6iyFwDMFbQyCiPdBnKRi500cIF2Qgf4IAoMTKAXhGK7W8FUo+9oSVE9QqTm/JYrFoJRy7Dp8saKgKYLUmyMUzHQqKjWcoRyzWIOA5ywtkvaRjGsqPkCd0OOAFcC8AdrE82NcfYhjyLEOkgS0AyFSUjJXFY9nyMBoW00w259PpRN5FrYZ9Pp/pHYJMJp4Tj8ej+W+mD/BgkcNnapIyZ/Rl6gDAqJWkQzIFSZktAIiRdjlm/Dsk9wPOh/l8bgNA/OEBCcI3IPJlOEq5L0MzoVtLiyyT4/HYKZMpGxHKPNiI+rrVFK2YB54G1QHA1uqePXYYQQ53UjncgsOItxlrzr8yjq0uqtuzCQCKIRAcWjaGFhIL6GAOaPQAMXYlw0KrAehZE9wHUBUyfq8spagk9qQEAJkaQFAqlMr7QOxaDsUcTpwBa+W8lqexVn3iYvLy1QzXMbRUXM14drx1Nfv25ZS+fT3/E2AAsWMCdac8y9AAAAAASUVORK5CYII=" type="image/x-icon"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion="css-global 1lsbqih">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:inherit;}a{background-color:transparent;}a:active,a:hover{outline:0;}b,strong{font-weight:bold;}i,em,dfn{font-style:italic;}h1{margin:0.67em 0;font-size:2em;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type='button'],input[type='reset'],input[type='submit']{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type='checkbox'],input[type='radio']{box-sizing:border-box;padding:0;}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{height:auto;}input[type='search']{box-sizing:content-box;-webkit-appearance:textfield;}input[type='search']::-webkit-search-cancel-button,input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{overflow:auto;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}body{overflow-x:hidden;color:#303a3e;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:'liga' on;}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed;}audio,canvas,iframe,img,svg,video{vertical-align:middle;}fieldset{margin:0;padding:0;border:0;}textarea{resize:vertical;}p,ul,ol,dl,blockquote{margin:0 0 1.5em 0;}ol,ul{padding-left:1.3em;padding-right:1.5em;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}ul{list-style:disc;}ol{list-style:decimal;}ul,ol{max-width:100%;}li{margin:0.5em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171A;font-weight:500;text-align:right;}dd{margin:0 0 5px 0;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em 0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:300;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote cite{font-weight:bold;}blockquote cite a{font-weight:normal;}a{color:#26a6ed;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:600;text-rendering:optimizeLegibility;}h1{margin:0 0 0.5em 0;font-size:5.5rem;font-weight:600;}@media (max-width: 500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em 0;font-size:2.2rem;}@media (max-width: 500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em 0;font-size:1.8rem;font-weight:500;}@media (max-width: 500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em 0;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}body{background:#fff;}@media (prefers-color-scheme: dark){body{color:rgba(255, 255, 255, 0.75);background:#191b1f;}img{opacity:0.9;}}</style><style data-emotion="css wv5on3">.css-wv5on3 .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-wv5on3 .site-main{background:#191b1f;}}</style><style data-emotion="css 1qvd43r">.css-1qvd43r{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-1qvd43r .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-1qvd43r .site-main{background:#191b1f;}}</style><div class="css-1qvd43r e1qe12yx0"><header class="site-header"><style data-emotion="css 1qxgdzi">.css-1qxgdzi{position:relative;padding:0 5vw;position:fixed;top:0;right:0;left:0;z-index:1000;background:#0a0b0c;}@media (max-width: 700px){.css-1qxgdzi{padding-right:0;padding-left:0;}}</style><div class="css-1qxgdzi"><style data-emotion="css y521qa">.css-y521qa{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-y521qa"><style data-emotion="css lcmrfl">.css-lcmrfl{position:relative;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;overflow-y:hidden;height:64px;font-size:1.3rem;}</style><nav class="css-lcmrfl"><style data-emotion="css crtwut">.css-crtwut{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;margin-right:10px;padding:10px 0 80px;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;white-space:nowrap;-ms-overflow-scrolling:touch;}@media (max-width: 700px){.css-crtwut{margin-right:0;padding-left:5vw;}}</style><div class="site-nav-left css-crtwut e16cumcd4"><style data-emotion="css 3oagtl">.css-3oagtl{position:relative;z-index:100;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:inline-block;margin-right:32px;padding:12px 0;color:#fff;font-size:1.7rem;line-height:1.8rem;font-weight:bold;letter-spacing:-0.5px;text-transform:none;}.css-3oagtl:hover{-webkit-text-decoration:none;text-decoration:none;}.css-3oagtl img{display:block;width:auto;height:21px;}</style><a class="site-nav-logo css-3oagtl" href="/"><img src="/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png" alt="Tecoble"/></a><style data-emotion="css 1xdepn">.css-1xdepn{position:relative;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;}</style><div class="css-1xdepn e16cumcd3"><style data-emotion="css ps6dy3">.css-ps6dy3{position:absolute;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-ps6dy3 li{display:block;margin:0;padding:0;}.css-ps6dy3 li a{position:relative;display:block;padding:12px 12px;color:#fff;opacity:0.8;-webkit-transition:opacity 0.35s ease-in-out;transition:opacity 0.35s ease-in-out;}.css-ps6dy3 li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-ps6dy3 li a:before{content:'';position:absolute;right:100%;bottom:8px;left:12px;height:1px;background:#fff;opacity:0.25;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-ps6dy3 li a:hover:before{right:12px;opacity:0.5;}</style><ul role="menu" class="css-ps6dy3"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="https://woowacourse.github.io/">woowacourse</a></li></ul><style data-emotion="css 1wu52sc">.css-1wu52sc{visibility:hidden;position:absolute;top:9px;color:#fff;font-size:1.7rem;font-weight:400;text-transform:none;opacity:0;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);-webkit-transform:translateY(175%);-moz-transform:translateY(175%);-ms-transform:translateY(175%);transform:translateY(175%);}.css-1wu52sc .dash{left:-25px;}.css-1wu52sc .dash:before{content:'– ';opacity:0.5;}</style><span class="nav-post-title css-1wu52sc e16cumcd0">다중 이미지 업로드 최적화: 병렬 스트림과 CompletableFuture</span></div></div><style data-emotion="css 1p9q30u">.css-1p9q30u{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:10px 0;height:64px;}@media (max-width: 700px){.css-1p9q30u{display:none;}}</style><div class="css-1p9q30u e16cumcd2"><style data-emotion="css 1z0rm8f">.css-1z0rm8f{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-1z0rm8f e16cumcd1"></div></div></nav></div></div></header><style data-emotion="css 12lzzeq">.css-12lzzeq{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 5vw;}@media (prefers-color-scheme: dark){.css-12lzzeq{background:#191b1f;}}</style><main id="site-main" class="site-main css-12lzzeq"><div class="css-y521qa"><style data-emotion="css 1wcdnkk">.css-1wcdnkk{position:relative;z-index:50;}</style><article class="css-1wcdnkk"><style data-emotion="css 1ypjvfm">.css-1ypjvfm{position:relative;margin:0 auto;padding:70px 170px 50px;border-top-left-radius:3px;border-top-right-radius:3px;}@media (max-width: 1170px){.css-1ypjvfm{padding:60px 11vw 50px;}}@media (max-width: 800px){.css-1ypjvfm{padding-right:5vw;padding-left:5vw;}}@media (max-width: 500px){.css-1ypjvfm{padding:20px 0 35px;}}</style><header class="post-full-header css-1ypjvfm ew4hrjd5"><style data-emotion="css h2mu2u">.css-h2mu2u{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:2.5rem;line-height:1.4em;font-weight:600;text-transform:uppercase;}</style><section class="post-full-tags css-h2mu2u ew4hrjd4"><a href="/tags/parallelism/">#parallelism</a>,  <a href="/tags/parallel-stream/">#parallel stream</a>,  <a href="/tags/completable-future/">#CompletableFuture</a></section><style data-emotion="css qia1z6">.css-qia1z6{margin:0 0 0.2em;color:#0b0c0e;}@media (max-width: 500px){.css-qia1z6{margin-top:0.2em;font-size:3.3rem;}}@media (prefers-color-scheme: dark){.css-qia1z6{color:rgba(255, 255, 255, 0.9);}}</style><h1 class="post-full-title css-qia1z6 ew4hrjd1">다중 이미지 업로드 최적화: 병렬 스트림과 CompletableFuture</h1><style data-emotion="css 16sbnz0">.css-16sbnz0{margin:20px 0 0;color:var(--midgrey);font-family:Georgia,serif;font-size:2.3rem;line-height:1.4em;font-weight:300;}@media (max-width: 500px){.css-16sbnz0{font-size:1.9rem;line-height:1.5em;}}@media (prefers-color-scheme: dark){.css-16sbnz0{color:#90a2aa;}}</style><p class="post-full-custom-excerpt css-16sbnz0 ew4hrjd3"></p><style data-emotion="css 1pygz0x">.css-1pygz0x{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:35px 0 0;padding-top:15px;border-top:1px solid #e4eaed;}.css-1pygz0x .post-full-byline-content{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-1pygz0x .post-full-byline-content .author-list{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:0 12px 0 0;}.css-1pygz0x .post-full-byline-meta{margin:2px 0 0;color:#90a2aa;font-size:1.2rem;line-height:1.2em;letter-spacing:0.2px;text-transform:uppercase;}.css-1pygz0x .post-full-byline-meta h4{margin:0 0 3px;font-size:1.3rem;line-height:1.4em;font-weight:500;}.css-1pygz0x .post-full-byline-meta h4 a{color:#2c3036;}.css-1pygz0x .post-full-byline-meta h4 a:hover{color:#15171A;}.css-1pygz0x .post-full-byline-meta .bull{display:inline-block;margin:0 4px;opacity:0.6;}@media (prefers-color-scheme: dark){.css-1pygz0x{border-top-color:#3b4049;}.css-1pygz0x .post-full-byline-meta h4 a{color:rgba(255, 255, 255, 0.75);}.css-1pygz0x .post-full-byline-meta h4 a:hover{color:#fff;}}</style><div class="post-full-byline css-1pygz0x ew4hrjd2"><section class="post-full-byline-content"><style data-emotion="css 12fmpzj">.css-12fmpzj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 0 0 4px;padding:0;list-style:none;}</style><ul class="author-list css-12fmpzj e1y81fg50"><style data-emotion="css rzestn">.css-rzestn{position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin:0;padding:0;}.css-rzestn:hover .author-name-tooltip{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}</style><li class="author-list-item css-rzestn ekzlxzj1"><style data-emotion="css nqg22v">.css-nqg22v{position:absolute;bottom:130%;left:50%;z-index:600;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:-200px;width:400px;font-size:1.4rem;line-height:1.5em;background:white;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.06) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:scale(0.98) translateY(15px);-moz-transform:scale(0.98) translateY(15px);-ms-transform:scale(0.98) translateY(15px);transform:scale(0.98) translateY(15px);pointer-events:none;padding:20px 20px 22px;}.css-nqg22v:before{content:'';position:absolute;top:100%;left:50%;display:block;margin-left:-8px;width:0;height:0;border-top:8px solid #fff;border-right:8px solid transparent;border-left:8px solid transparent;}.css-nqg22v .author-info{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:0 0 0 20px;}.css-nqg22v .author-info h2{margin:8px 0 0;font-size:1.6rem;}.css-nqg22v .author-info p{margin:4px 0 0;color:color(var(--midgrey) l(-10%));}.css-nqg22v .author-info .bio h2{margin-top:0;}.css-nqg22v .author-info .bio p{margin-top:0.8em;}.css-nqg22v .author-profile-image{-webkit-flex:0 0 60px;-ms-flex:0 0 60px;flex:0 0 60px;margin:0;width:60px;height:60px;border:none;}@media (max-width: 1170px){.css-nqg22v{margin-left:-50px;width:430px;}.css-nqg22v:before{left:50px;}}@media (max-width: 650px){.css-nqg22v{display:none;}}@media (prefers-color-scheme: dark){.css-nqg22v{background:#22252a;box-shadow:0 12px 26px rgba(0, 0, 0, 0.4);}.css-nqg22v:before{border-top-color:#22252a;}}</style><div class="author-card css-nqg22v"><style data-emotion="css 1kq7wgl">.css-1kq7wgl{display:block;width:100%;height:100%;background:#e4eaed;border-radius:100%;object-fit:cover;}@media (prefers-color-scheme: dark){.css-1kq7wgl{background:#191b1f;}}</style><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:100%"></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/96f35a33c23d4e1240108a07c2620fee/e73fe/ash.webp 40w,/static/96f35a33c23d4e1240108a07c2620fee/61ca6/ash.webp 80w,/static/96f35a33c23d4e1240108a07c2620fee/507b0/ash.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/96f35a33c23d4e1240108a07c2620fee/a8b52/ash.png" data-srcset="/static/96f35a33c23d4e1240108a07c2620fee/f31ef/ash.png 40w,/static/96f35a33c23d4e1240108a07c2620fee/1f8a1/ash.png 80w,/static/96f35a33c23d4e1240108a07c2620fee/a8b52/ash.png 120w" alt="5기_애쉬"/></picture><noscript><picture><source type="image/webp" srcSet="/static/96f35a33c23d4e1240108a07c2620fee/e73fe/ash.webp 40w,/static/96f35a33c23d4e1240108a07c2620fee/61ca6/ash.webp 80w,/static/96f35a33c23d4e1240108a07c2620fee/507b0/ash.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/96f35a33c23d4e1240108a07c2620fee/a8b52/ash.png" srcSet="/static/96f35a33c23d4e1240108a07c2620fee/f31ef/ash.png 40w,/static/96f35a33c23d4e1240108a07c2620fee/1f8a1/ash.png 80w,/static/96f35a33c23d4e1240108a07c2620fee/a8b52/ash.png 120w" alt="5기_애쉬"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><div class="author-info"><div class="bio"><h2>5기_애쉬</h2><p>우아한테크코스 5기 애쉬(정설희)입니다 :)</p><p><a href="/author/5-기-애쉬/">More posts</a> by<!-- --> <!-- -->5기_애쉬<!-- -->.</p></div></div></div><style data-emotion="css 1smzq71">.css-1smzq71{display:block;overflow:hidden;margin:0 -4px;width:40px;height:40px;border:#fff 2px solid;border-radius:100%;-webkit-transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;}@media (max-width: 500px){.css-1smzq71{width:36px;height:36px;}}@media (prefers-color-scheme: dark){.css-1smzq71{border-color:#1a1c20;}}</style><a class="author-avatar css-1smzq71" href="/author/5-기-애쉬/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:100%"></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/96f35a33c23d4e1240108a07c2620fee/e73fe/ash.webp 40w,/static/96f35a33c23d4e1240108a07c2620fee/61ca6/ash.webp 80w,/static/96f35a33c23d4e1240108a07c2620fee/507b0/ash.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/96f35a33c23d4e1240108a07c2620fee/a8b52/ash.png" data-srcset="/static/96f35a33c23d4e1240108a07c2620fee/f31ef/ash.png 40w,/static/96f35a33c23d4e1240108a07c2620fee/1f8a1/ash.png 80w,/static/96f35a33c23d4e1240108a07c2620fee/a8b52/ash.png 120w" alt="5기_애쉬"/></picture><noscript><picture><source type="image/webp" srcSet="/static/96f35a33c23d4e1240108a07c2620fee/e73fe/ash.webp 40w,/static/96f35a33c23d4e1240108a07c2620fee/61ca6/ash.webp 80w,/static/96f35a33c23d4e1240108a07c2620fee/507b0/ash.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/96f35a33c23d4e1240108a07c2620fee/a8b52/ash.png" srcSet="/static/96f35a33c23d4e1240108a07c2620fee/f31ef/ash.png 40w,/static/96f35a33c23d4e1240108a07c2620fee/1f8a1/ash.png 80w,/static/96f35a33c23d4e1240108a07c2620fee/a8b52/ash.png 120w" alt="5기_애쉬"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><a href="/author/5-기-애쉬/">5기_애쉬</a></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2023-11-23">23 Nov 2023</time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->9<!-- --> min read</span></div></section></section></div></header><style data-emotion="css 1aw8std">.css-1aw8std{margin:25px 0 50px;height:560px;background:#c5d2d9 center center;-webkit-background-size:cover;background-size:cover;border-radius:5px;}@media (max-width: 1170px){.css-1aw8std{margin:25px -6vw 50px;border-radius:0;}.css-1aw8std img{max-width:1170px;}}@media (max-width: 800px){.css-1aw8std{height:400px;}}@media (max-width: 500px){.css-1aw8std{margin-bottom:4vw;height:350px;}}</style><figure class="css-1aw8std ew4hrjd0"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:56.89424364123159%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACDUlEQVR42p2RO2hTYRTH79CiOIiPSTpZXNwcBNGhg0NcFAUREUeVQsEuaqE6qDh0EHTQybmaBEUpbczTYpMGC9pI2koDSZP03jxu3mnSpDev+/PLA2pRlPrBgfP9z//8v3P+n8Q/TqPRIPHZib5R6AK6/le+9CdQ7zXVSkVWHt7l7dAJHDeuUgysdOut1m4Fuw1lNYHnzHEchlO8HDxA0vWxW282dynYm0Ar5lm+M8yn80PYrl8gv+T7T0GxcjAYpFQuk85kkKffUYiuoTVbhNp4qbTDmt8E9V+iXKmgqik2q1Wy+TzrstwhqqkU8WSym6fT26K92DlhoyZ+YBOtUqWUzomV6oJVp5xUaGqaqNdp1TThaayT02qykUlRL2TFXUNvCAuajZ6gSJ74ZM75t7jp/s79+S8Y/VGu+LIicow47bzyBXnsUzAIzq25rzzwLPBacC4u5ri2mGLEbmVyNd4TrG1hWFCRnAmOWLycdM4y7gnT507TZwsyaJlh2P2Ds94EkivJgMXNaeccY/MRJHeGvdYAR6enGBMPtpcXE+pcnpml3zjKPuNzBt5beepa4rD5GQfN95DemBh1fOPSlI1+0232GF9w7IOdCZef/aYJDpnHkSZNPPIub3uophKEEgrh+BpKLEwhXyASXyesKkTkANlslmSHIws8hBKPdDjhWFRwBCavkhcf2Bb8CWKyDdSCfCD1AAAAAElFTkSuQmCC" alt=""/><picture><source type="image/avif" data-srcset="/static/28febf62529b1836b34c354877ee228e/68033/multiple-image-upload.avif 750w,/static/28febf62529b1836b34c354877ee228e/98778/multiple-image-upload.avif 1080w,/static/28febf62529b1836b34c354877ee228e/e0460/multiple-image-upload.avif 1366w,/static/28febf62529b1836b34c354877ee228e/61fd4/multiple-image-upload.avif 1494w" sizes="100vw"/><source type="image/webp" data-srcset="/static/28febf62529b1836b34c354877ee228e/e86e4/multiple-image-upload.webp 750w,/static/28febf62529b1836b34c354877ee228e/fd266/multiple-image-upload.webp 1080w,/static/28febf62529b1836b34c354877ee228e/a0960/multiple-image-upload.webp 1366w,/static/28febf62529b1836b34c354877ee228e/93cd9/multiple-image-upload.webp 1494w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/28febf62529b1836b34c354877ee228e/9fb7d/multiple-image-upload.png" data-srcset="/static/28febf62529b1836b34c354877ee228e/14fca/multiple-image-upload.png 750w,/static/28febf62529b1836b34c354877ee228e/a02dd/multiple-image-upload.png 1080w,/static/28febf62529b1836b34c354877ee228e/4359d/multiple-image-upload.png 1366w,/static/28febf62529b1836b34c354877ee228e/9fb7d/multiple-image-upload.png 1494w" alt="다중 이미지 업로드 최적화: 병렬 스트림과 CompletableFuture"/></picture><noscript><picture><source type="image/avif" srcSet="/static/28febf62529b1836b34c354877ee228e/68033/multiple-image-upload.avif 750w,/static/28febf62529b1836b34c354877ee228e/98778/multiple-image-upload.avif 1080w,/static/28febf62529b1836b34c354877ee228e/e0460/multiple-image-upload.avif 1366w,/static/28febf62529b1836b34c354877ee228e/61fd4/multiple-image-upload.avif 1494w" sizes="100vw"/><source type="image/webp" srcSet="/static/28febf62529b1836b34c354877ee228e/e86e4/multiple-image-upload.webp 750w,/static/28febf62529b1836b34c354877ee228e/fd266/multiple-image-upload.webp 1080w,/static/28febf62529b1836b34c354877ee228e/a0960/multiple-image-upload.webp 1366w,/static/28febf62529b1836b34c354877ee228e/93cd9/multiple-image-upload.webp 1494w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/28febf62529b1836b34c354877ee228e/9fb7d/multiple-image-upload.png" srcSet="/static/28febf62529b1836b34c354877ee228e/14fca/multiple-image-upload.png 750w,/static/28febf62529b1836b34c354877ee228e/a02dd/multiple-image-upload.png 1080w,/static/28febf62529b1836b34c354877ee228e/4359d/multiple-image-upload.png 1366w,/static/28febf62529b1836b34c354877ee228e/9fb7d/multiple-image-upload.png 1494w" alt="다중 이미지 업로드 최적화: 병렬 스트림과 CompletableFuture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></figure><style data-emotion="css 1uqx25x">.css-1uqx25x{position:relative;margin:0 auto;padding:0 170px 6vw;min-height:230px;font-family:Georgia,serif;font-size:2rem;line-height:1.6em;background:#fff;}@media (max-width: 1170px){.css-1uqx25x{padding:0 11vw;}}@media (max-width: 800px){.css-1uqx25x{padding:0 5vw;font-size:1.8rem;}}@media (max-width: 500px){.css-1uqx25x{padding:0;}}@media (max-width: 500px){.css-1uqx25x .post-full-custom-excerpt{font-size:1.9rem;line-height:1.5em;}}.css-1uqx25x .no-image{padding-top:0;}.css-1uqx25x h1,.css-1uqx25x h2,.css-1uqx25x h3,.css-1uqx25x h4,.css-1uqx25x h5,.css-1uqx25x h6,.css-1uqx25x p,.css-1uqx25x ul,.css-1uqx25x ol,.css-1uqx25x dl,.css-1uqx25x pre,.css-1uqx25x blockquote,.css-1uqx25x .post-full-comments,.css-1uqx25x .footnotes{margin:0 0 1.5em 0;min-width:100%;}@media (max-width: 500px){.css-1uqx25x p,.css-1uqx25x ul,.css-1uqx25x ol,.css-1uqx25x dl,.css-1uqx25x pre,.css-1uqx25x .post-full-comments,.css-1uqx25x .footnotes{margin-bottom:1.28em;}}.css-1uqx25x li{word-break:break-word;}.css-1uqx25x li p{margin:0;}.css-1uqx25x a{color:#15171A;word-break:break-word;box-shadow:#15171A 0 -1px 0 inset;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1uqx25x a:hover{color:#3eb0ef;-webkit-text-decoration:none;text-decoration:none;box-shadow:#3eb0ef 0 -1px 0 inset;}.css-1uqx25x strong,.css-1uqx25x em{color:#0a0b0c;}.css-1uqx25x small{display:inline-block;line-height:1.6em;}.css-1uqx25x img,.css-1uqx25x video{display:block;margin:1.5em auto;width:100%;max-width:1040px;height:auto;}@media (max-width: 1040px){.css-1uqx25x img,.css-1uqx25x video{width:100%;}}.css-1uqx25x img[src$='#full']{max-width:none;width:100vw;}.css-1uqx25x img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1uqx25x iframe{margin:0 auto!important;}.css-1uqx25x blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:#3eb0ef 3px solid;}@media (max-width: 500px){.css-1uqx25x blockquote{padding:0 1.3em;}}.css-1uqx25x blockquote p{margin:0 0 1em 0;color:inherit;font-size:inherit;line-height:inherit;font-style:italic;}.css-1uqx25x blockquote p:last-child{margin-bottom:0;}.css-1uqx25x code{padding:0 5px 2px;font-size:0.8em;line-height:1em;font-weight:400!important;background:#e5eff5;border-radius:3px;}.css-1uqx25x p code{word-break:break-all;}.css-1uqx25x pre{overflow-x:auto;padding:20px;max-width:100%;color:#e5eff5;font-size:1.4rem;line-height:1.5em;border-radius:5px;}.css-1uqx25x pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1uqx25x pre code :not(span){color:inherit;}.css-1uqx25x .fluid-width-video-wrapper{margin:1.5em 0 3em;}.css-1uqx25x hr{margin:2em 0;}.css-1uqx25x hr:after{content:'';position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#e4eaed;box-shadow:#fff 0 0 0 5px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.css-1uqx25x hr+p{margin-top:1.2em;}.css-1uqx25x h1,.css-1uqx25x h2,.css-1uqx25x h3,.css-1uqx25x h4,.css-1uqx25x h5,.css-1uqx25x h6{color:#0a0b0c;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.css-1uqx25x h1{margin:0.5em 0 0.4em;font-size:4.2rem;line-height:1.25em;font-weight:600;}.css-1uqx25x p+h1{margin-top:0.8em;}@media (max-width: 800px){.css-1uqx25x h1{font-size:3.2rem;line-height:1.25em;}}.css-1uqx25x h2{margin:0.5em 0 0.4em;font-size:3.2rem;line-height:1.25em;font-weight:600;}.css-1uqx25x p+h2{margin-top:0.8em;}@media (max-width: 800px){.css-1uqx25x h2{margin-bottom:0.3em;font-size:2.8rem;line-height:1.25em;}}.css-1uqx25x h3{margin:0.5em 0 0.2em;font-size:2.5rem;line-height:1.3em;font-weight:600;}.css-1uqx25x h2+h3{margin-top:0.7em;}@media (max-width: 800px){.css-1uqx25x h3{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1uqx25x h4{margin:0.5em 0 0.2em;font-size:2.5rem;font-weight:600;}.css-1uqx25x h2+h4{margin-top:0.7em;}.css-1uqx25x h3+h4{margin-top:0;}@media (max-width: 800px){.css-1uqx25x h4{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1uqx25x h5{display:block;margin:0.5em 0;padding:0.4em 1em 0.9em;border:0;color:#3eb0ef;font-family:Georgia,serif;font-size:3.2rem;line-height:1.35em;text-align:center;}@media (min-width: 1180px){.css-1uqx25x h5{max-width:1060px;}}@media (max-width: 800px){.css-1uqx25x h5{margin-bottom:1em;margin-left:1.3em;padding:0 0 0.5em;font-size:2.4rem;text-align:initial;}}.css-1uqx25x h6{margin:0.5em 0 0.2em 0;font-size:2rem;font-weight:700;}@media (max-width: 800px){.css-1uqx25x h6{font-size:1.8rem;line-height:1.4em;}}.css-1uqx25x table{display:inline-block;overflow-x:auto;margin:0.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;}.css-1uqx25x table{-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 0 center,radial-gradient(ellipse at right, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 100% center;background-attachment:scroll,scroll;-webkit-background-size:10px 100%,10px 100%;background-size:10px 100%,10px 100%;background-repeat:no-repeat;}.css-1uqx25x table td:first-of-type{background-image:linear-gradient(
      to right,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1uqx25x table td:last-child{background-image:linear-gradient(
      to left,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-position:100% 0;background-position:100% 0;-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1uqx25x table th{color:#15171A;font-size:1.2rem;font-weight:700;letter-spacing:0.2px;text-align:left;text-transform:uppercase;background-color:#f4f8fb;}.css-1uqx25x table th,.css-1uqx25x table td{padding:6px 12px;border:#e1edf4 1px solid;}@media (prefers-color-scheme: dark){.css-1uqx25x{background:#191b1f;}.css-1uqx25x h1,.css-1uqx25x h2,.css-1uqx25x h3,.css-1uqx25x h4,.css-1uqx25x h6{color:rgba(255, 255, 255, 0.9);}.css-1uqx25x a{color:#fff;box-shadow:inset 0 -1px 0 #fff;}.css-1uqx25x strong{color:#fff;}.css-1uqx25x em{color:#fff;}.css-1uqx25x code{color:#fff;background:#000;}.css-1uqx25x hr{border-top-color:#2b2f36;}.css-1uqx25x figcaption{color:rgba(255, 255, 255, 0.6);}.css-1uqx25x table td:first-of-type{background-image:linear-gradient(to right, #191b1f 50%, #191b1f 100%);}.css-1uqx25x table td:last-child{background-image:linear-gradient(270deg, #191b1f 50%, rgba(25, 27, 31, 0));}.css-1uqx25x table th{color:rgba(255, 255, 255, 0.85);background-color:#2b2f36;}.css-1uqx25x table th,.css-1uqx25x table td{border:#2b2f36 1px solid;}.css-1uqx25x .kg-bookmark-container,.css-1uqx25x .kg-bookmark-container:hover{color:rgba(255, 255, 255, 0.75);box-shadow:0 0 1px rgba(255, 255, 255, 0.9);}}.css-1uqx25x code[class*='language-'],.css-1uqx25x pre[class*='language-']{color:white;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1uqx25x pre[class*='language-']{overflow:auto;}.css-1uqx25x *:not(pre)>code[class*='language-']{border-radius:0.3em;background:rgb(1, 22, 39);color:white;padding:0.15em 0.5em;white-space:normal;}.css-1uqx25x .token.attr-name{color:rgb(173, 219, 103);font-style:italic;}.css-1uqx25x .token.comment{color:rgb(128, 147, 147);}.css-1uqx25x .token.string,.css-1uqx25x .token.url{color:rgb(173, 219, 103);}.css-1uqx25x .token.variable{color:rgb(214, 222, 235);}.css-1uqx25x .token.number{color:rgb(247, 140, 108);}.css-1uqx25x .token.builtin,.css-1uqx25x .token.char,.css-1uqx25x .token.constant,.css-1uqx25x .token.function{color:rgb(130, 170, 255);}.css-1uqx25x .token.punctuation{color:rgb(199, 146, 234);}.css-1uqx25x .token.selector,.css-1uqx25x .token.doctype{color:rgb(199, 146, 234);font-style:'italic';}.css-1uqx25x .token.class-name{color:rgb(255, 203, 139);}.css-1uqx25x .token.tag,.css-1uqx25x .token.operator,.css-1uqx25x .token.keyword{color:#ffa7c4;}.css-1uqx25x .token.boolean{color:rgb(255, 88, 116);}.css-1uqx25x .token.property{color:rgb(128, 203, 196);}.css-1uqx25x .token.namespace{color:rgb(178, 204, 214);}.css-1uqx25x pre[data-line]{padding:1em 0 1em 3em;position:relative;}.css-1uqx25x .gatsby-highlight-code-line{background-color:hsla(207, 95%, 15%, 1);display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid #ffa7c4;}.css-1uqx25x .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto;}.css-1uqx25x .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}</style><section class="post-full-content css-1uqx25x eeqvxt70"><div><p>사이드 프로젝트로 sns 서비스를 개발하며 사용자가 다수의 이미지를 업로드하는 기능을 개발하게 되었다.
웹 애플리케이션에서 다중 이미지 업로드는 일반적이며, 이를 효율적으로 처리하는 것은 사용자 경험 향상에 중요한 역할을 한다.</p>
<p>그렇다면 서버 측에서는 여러 장의 이미지를 어떻게 효율적으로 업로드할 수 있을까?</p>
<p>이 글에서는 구체적인 이미지 저장 방법(로컬 스토리지 저장, 클라우드 서비스 사용, DB에 바이너리 데이터로 저장 등)을 떠나, 이미지 업로드 과정을 어떻게 하면 더 효율적이고 빠르게 처리할 수 있을지에 집중해 보고자 한다.
병렬 처리와 같은 기술을 활용하여 서버 성능을 최대한 활용하고, 사용자에게 빠른 응답 시간을 제공하는 방법을 예제 코드와 함께 살펴보자.</p>
<h1>예제 코드 소개</h1>
<p>이번 예제에서는 <code class="language-text">이미지 동반 포스트 업로드 서비스</code> 를 구현했다.
전체 소스코드는 <a href="https://github.com/xxeol2/multi-image-upload-demo">Github</a>에서 확인 가능하다.</p>
<blockquote>
<p>[요구사항]</p>
<ul>
<li>한 포스트당 최대 10장의 이미지를 포함할 수 있다.</li>
<li>업로드 실패 시, 해당 포스트에 대한 모든 이미지 파일을 저장소에서 삭제한다.</li>
</ul>
</blockquote>
<p>클래스의 구조와 전체적인 코드의 흐름은 아래와 같다.</p>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:2000px">
      <a class="gatsby-resp-image-link" href="/static/f6ae6a382331b2f963c08f28699dce46/c3538/%ED%81%B4%EB%9E%98%EC%8A%A4%20%EA%B5%AC%EC%A1%B0%EB%8F%84.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:42.199999999999996%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABSElEQVR42nWSiW6DMBBE+f9/bC6ScBjwiW+Yrt2mRZGy0siLtHpmZt3gQ4UYwI2AWI+S4JxDKYnVBUxyxTBLMK5p1iPljOYF2PcdSmsIKeCcw8xnXPpr1Zl0Yy2e85NgugKFsegWjcuT4T5yMOUQEwFTCMgxopxyWTBPEzSBt22DTwEhkw7nq1JK5CIhbzsSzZZ+yxuaZRwwti2G2w1L11Xo/vfbvzp8F1AmFctcO0xCY5aGLDtYH9E4Y2ClhFUKmvIpQOssrLUwzkA5VbOUlJ8JK6ZlghQCXJlq+avtcboPtTcu/mdYyhC86/tqueQonMSoGU7dGff5ARHKMtY66yki4zx8zHBk11jqwxvwvXz0NOwpv1jztN6CTQwT5TxLjQfjOD96XDuGgZsfy0dA2fRLHy/x9DxoiWr1BNHo6NkMiwKTFquP+AYNjGuR+q/gLgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="       " title="" src="/static/f6ae6a382331b2f963c08f28699dce46/f97d7/%ED%81%B4%EB%9E%98%EC%8A%A4%20%EA%B5%AC%EC%A1%B0%EB%8F%84.png" srcSet="/static/f6ae6a382331b2f963c08f28699dce46/0eb09/%ED%81%B4%EB%9E%98%EC%8A%A4%20%EA%B5%AC%EC%A1%B0%EB%8F%84.png 500w /static/f6ae6a382331b2f963c08f28699dce46/1263b/%ED%81%B4%EB%9E%98%EC%8A%A4%20%EA%B5%AC%EC%A1%B0%EB%8F%84.png 1000w /static/f6ae6a382331b2f963c08f28699dce46/f97d7/%ED%81%B4%EB%9E%98%EC%8A%A4%20%EA%B5%AC%EC%A1%B0%EB%8F%84.png 2000w /static/f6ae6a382331b2f963c08f28699dce46/c3538/%ED%81%B4%EB%9E%98%EC%8A%A4%20%EA%B5%AC%EC%A1%B0%EB%8F%84.png 2258w" sizes="(max-width: 2000px) 100vw, 2000px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
<ul>
<li>
<p><code class="language-text">PostFacadeService</code>는 전체 이미지 파일 업로드를 <code class="language-text">ImageStorageService</code>에 요청한다.</p>
</li>
<li>
<p><code class="language-text">ImageStorageService</code>는 각 이미지 파일 업로드를 <code class="language-text">StorageClient</code>에 요청한다.</p>
</li>
<li>
<p>이미지 업로드가 성공하면, <code class="language-text">PostFacadeService</code>는 포스트 저장을 <code class="language-text">PostService</code>에 요청한다.</p>
</li>
</ul>
<p>이 포스트에서는 주로 <code class="language-text">ImageStorageService</code>에 집중하여 여러 이미지 업로드 방법을 살펴본다.</p>
<h1>순차적 업로드 방식</h1>
<p>가장 기본적인 방법은 모든 이미지를 하나씩 순차적으로 업로드하는 것이다.</p>
<p>아래는 <code class="language-text">ImageStorageService</code>에서 파일 업로드를 담당하는 <code class="language-text">uploadFiles()</code> 코드이다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">ImageUploadResponse</span> <span class="token function">uploadFiles</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span> imageFiles<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">validate</span><span class="token punctuation">(</span>imageFiles<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileNames <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>imageFiles<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>storageClient<span class="token operator">::</span><span class="token function">upload</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>fileNames<span class="token operator">::</span><span class="token function">add</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">convertFileNamesToResponse</span><span class="token punctuation">(</span>fileNames<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        executor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">deleteFiles</span><span class="token punctuation">(</span>fileNames<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">InternalServerException</span><span class="token punctuation">(</span><span class="token string">&quot;이미지 업로드 시 예외가 발생했습니다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>이미지 파일들을 순차적으로 <code class="language-text">StorageClient</code>에 업로드 요청을 보내고, 업로드에 성공한 파일의 이름을 모아 반환한다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[nio-8080-exec-1] : File Upload 시작 (871cb6aae189.png)
[nio-8080-exec-1] : File Upload 완료 (871cb6aae189.png)
[nio-8080-exec-1] : File Upload 시작 (1e17f3995ade.png)
[nio-8080-exec-1] : File Upload 완료 (1e17f3995ade.png)
[nio-8080-exec-1] : File Upload 시작 (587ab1b903d3.png)
[nio-8080-exec-1] : File Upload 완료 (587ab1b903d3.png)</code></pre></div>
<p>위 로그에서 <code class="language-text">[nio-8080-exec-1]</code>은 해당 작업이 진행된 스레드 이름을 나타낸다. 모든 요청이 단일 스레드에서 순차적으로 처리되는 것을 확인할 수 있다.</p>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1240px">
      <a class="gatsby-resp-image-link" href="/static/f5fb869d29fb03758d5909ef1c72430d/09504/%EC%88%9C%EC%B0%A8%EC%A0%81%20%EC%97%85%EB%A1%9C%EB%93%9C%20%EA%B5%AC%EC%A1%B0.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:31.8%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABMklEQVR42m2QiU7DMBBE8/+fhpBQhShtaZo6xM4BOZzEceocD7dFCCFGGo88Xo93HazrSlEUN/Z9T5qm5HlO27YopciyDN00yERSVzW/cb1rzIC1448XVHXFNnrlLQlJVMI+fuOoQiIRsRcHInVGKkmYRpzzmGEYcM4xjpas+CBUJXFeY8d7aFBUHzSuxSyW/flAtxjqSfNy2mJmi5477+8Z/Hl1aUiL1HdkkTLhGAn0tJK1A8VndQ+8vniMQ2IVU5YlQglkKql8gUgE4fsJlSqetht2px3zPN/H9TSj4ywzjkIyuunmBdf2daPRWmMHi/BjPZyeeFUHHr0mucT0hvKzpPV16/dfVcbxonp2qmUTdzxLQ9FeCPgDt0xo19FNxrNn8vv/sPjk2S/zclc3rzf9AtBPyGP3jWYPAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="          " title="" src="/static/f5fb869d29fb03758d5909ef1c72430d/09504/%EC%88%9C%EC%B0%A8%EC%A0%81%20%EC%97%85%EB%A1%9C%EB%93%9C%20%EA%B5%AC%EC%A1%B0.png" srcSet="/static/f5fb869d29fb03758d5909ef1c72430d/0eb09/%EC%88%9C%EC%B0%A8%EC%A0%81%20%EC%97%85%EB%A1%9C%EB%93%9C%20%EA%B5%AC%EC%A1%B0.png 500w /static/f5fb869d29fb03758d5909ef1c72430d/1263b/%EC%88%9C%EC%B0%A8%EC%A0%81%20%EC%97%85%EB%A1%9C%EB%93%9C%20%EA%B5%AC%EC%A1%B0.png 1000w /static/f5fb869d29fb03758d5909ef1c72430d/09504/%EC%88%9C%EC%B0%A8%EC%A0%81%20%EC%97%85%EB%A1%9C%EB%93%9C%20%EA%B5%AC%EC%A1%B0.png 1240w" sizes="(max-width: 1240px) 100vw, 1240px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
<h2>성능 측정</h2>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[PostFacadeService.createPost] 실행 시간(ms): 1396
[PostFacadeService.createPost] 실행 시간(ms): 1287
[PostFacadeService.createPost] 실행 시간(ms): 1251
[PostFacadeService.createPost] 실행 시간(ms): 1383
[PostFacadeService.createPost] 실행 시간(ms): 1338</code></pre></div>
<p>10장의 354KB 이미지를 업로드하는 데에 평균 1331ms가 소요되었다.</p>
<p>다중 이미지 업로드 시, 단일 스레드를 사용하여 순차적으로 처리하는 방식은 간단하고 직관적이다.
이 방법을 사용하면, 각 이미지는 이전 이미지가 완전히 업로드된 후에 업로드된다.
그러나 이러한 단일 스레드 방식은 이미지 하나당 소요되는 시간이 누적되어 전체 업로드 시간이 길어지는 단점이 있다.
예를 들어, 이미지 하나를 업로드하는데 평균 130ms가 소요되고 10개의 이미지를 업로드한다면, 총소요 시간은 약 1300ms가 된다.</p>
<p>이에 비해, 여러 스레드를 사용하여 이미지를 병렬로 업로드하면 처리 시간을 단축할 수 있다.
이 방식에서는 여러 이미지가 동시에 업로드되므로, 10장의 이미지를 업로드하는 데 걸리는 시간을 1331ms에서 더 단축할 수 있을 것으로 예상된다.</p>
<p>이제 병렬 스트림을 활용한 이미지 업로드 방식에 대해 자세히 알아보자.</p>
<h1>병렬 스트림을 활용한 업로드</h1>
<p>Java 8부터는 컬렉션의 병렬 처리를 지원하는 “병렬 스트림(parallel stream)“이 도입되었다.
이를 활용하면, 여러 CPU 코어를 통해 작업을 효율적으로 분산시켜 더 빠르게 수행할 수 있다.</p>
<p>이를 활용하여 이미지 업로드를 병렬적으로 처리할 수 있다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">ImageUploadResponse</span> <span class="token function">uploadFiles</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span> imageFiles<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">validate</span><span class="token punctuation">(</span>imageFiles<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileNames <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>imageFiles<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 병렬 스트림 생성</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>storageClient<span class="token operator">::</span><span class="token function">upload</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>fileNames<span class="token operator">::</span><span class="token function">add</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">convertFileNamesToResponse</span><span class="token punctuation">(</span>fileNames<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        executor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">deleteFiles</span><span class="token punctuation">(</span>fileNames<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">InternalServerException</span><span class="token punctuation">(</span><span class="token string">&quot;이미지 업로드 시 예외가 발생했습니다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>각 이미지 업로드 요청이 병렬 스레드에서 동시에 처리되는 것을 로그로 확인할 수 있다. 아래 로그에서 <code class="language-text">[onPool-worker-*]</code>는 해당 작업이 진행된 스레드 이름이다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[onPool-worker-6] : File Upload 시작 (871cb6aae189.png)
[onPool-worker-4] : File Upload 시작 (9af5a8a21538.png)
[onPool-worker-2] : File Upload 시작 (1e17f3995ade.png)
[onPool-worker-1] : File Upload 시작 (587ab1b903d3.png)
[onPool-worker-5] : File Upload 시작 (bdc9a80b2331.png)
[onPool-worker-7] : File Upload 시작 (faac3d412e3e.png)
[onPool-worker-3] : File Upload 시작 (85db46aad248.png)
[onPool-worker-1] : File Upload 완료 (587ab1b903d3.png)
[onPool-worker-1] : File Upload 시작 (3cf2f27aacb3.png)
[onPool-worker-5] : File Upload 완료 (bdc9a80b2331.png)
[onPool-worker-5] : File Upload 시작 (9343ba3a01d1.png)
[onPool-worker-2] : File Upload 완료 (1e17f3995ade.png)
...</code></pre></div>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:946px">
      <a class="gatsby-resp-image-link" href="/static/a7c886ecb60b19d012528f417b926b67/b2dbf/%EB%B3%91%EB%A0%AC%20%EC%8A%A4%ED%8A%B8%EB%A6%BC%20%EA%B5%AC%EC%A1%B0.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:76.2%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACBElEQVR42p2TbXeaQBCF/f8/K6emrWlMbYiKCsibqICEdwHh6bLRJp5+yDHzZXb27Llz587dATdE13Uyl2WJZpiYrkeW5VdvBtwYXduy1E2cqMSNGzRnx+l0uh3wwu5+OOR+9ItUlFEDC3vLUTC+AqyrSl72o+R5TlmUoj7Kuq5r+bBnsdvt8H2fIAxZWVumuosfhP+PrC4W3A3veBw/YpkWk+cJ30ZDxr/HJElC0zToui6bnflK8Ol8wV40uAIsigLVXJCSsy8DDMvA8m1RlXjpljiNJVjPrB87TVMcd4O1OxAWnWQZvb6eZRGAWZax3ppUNIR1hGossH1H1Ce8fM/+IEYMAskojmNmsxnff/zEz4QkAsSLM9HA+6fzoBVbU+YKij5lbqiEQhNVV3nSJijalDRJpZZRFMnRL5pr1oYXzcGwN7Qft9w/cmwHdamy1FasrTUrfYUye0HTNDlqH700nuexXpvCeykbb8tENXhRV2Jx1fVSmrbhOZzz5Cvoscl4/8yfcCbFv4xysY1hGIxGD7jCh4m4Mv1EkHDeR+4PbddSnSrqU/3h3AgTvwP1uZenj34JSzdA+BrnUGA63jXgmxG6q/yJzbFsW3y9nbBNSHP26pe+Xlw0jNcJ27jiYeUz22Qobs5U5Nu+3jknZYMVlFhhgXU4ou8LdF+cw/JrDD+Lv55Kg//X6bEoAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="         " title="" src="/static/a7c886ecb60b19d012528f417b926b67/b2dbf/%EB%B3%91%EB%A0%AC%20%EC%8A%A4%ED%8A%B8%EB%A6%BC%20%EA%B5%AC%EC%A1%B0.png" srcSet="/static/a7c886ecb60b19d012528f417b926b67/0eb09/%EB%B3%91%EB%A0%AC%20%EC%8A%A4%ED%8A%B8%EB%A6%BC%20%EA%B5%AC%EC%A1%B0.png 500w /static/a7c886ecb60b19d012528f417b926b67/b2dbf/%EB%B3%91%EB%A0%AC%20%EC%8A%A4%ED%8A%B8%EB%A6%BC%20%EA%B5%AC%EC%A1%B0.png 946w" sizes="(max-width: 946px) 100vw, 946px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
<h2>성능 측정</h2>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[PostFacadeService.createPost] 실행 시간(ms): 256
[PostFacadeService.createPost] 실행 시간(ms): 223
[PostFacadeService.createPost] 실행 시간(ms): 213
[PostFacadeService.createPost] 실행 시간(ms): 217
[PostFacadeService.createPost] 실행 시간(ms): 238</code></pre></div>
<p>병렬 스트림을 활용하니 처리 시간이 평균 1331ms에서 229ms로 약 <strong>5배 이상 단축</strong>되었다.</p>
<h2>병렬 스트림 사용 시 주의점</h2>
<p>병렬 처리 중 공유 자원에 대한 동시 접근 시 문제가 발생할 수 있다.</p>
<h3>공유 자원과 <code class="language-text">ConcurrentModificationException</code></h3>
<p>본 예제에서 이미지 파일들을 병렬로 업로드하는 작업 중 실패가 발생하면, 이미 업로드된 이미지들을 삭제하려고 한다.
이 과정에서 <code class="language-text">ConcurrentModificationException</code> 예외가 발생할 수 있다.
이는 여러 스레드가 동시에 같은 컬렉션을 수정하려 할 때 발생하는 예외이다.</p>
<p><code class="language-text">uploadFiles</code> 메서드에서 파일 업로드가 성공하면 해당 파일의 이름을 <code class="language-text">fileNames</code> 리스트  에 추가한다.
만약 어떤 스레드의 업로드가 실패하면, 즉시 <code class="language-text">deleteFiles(fileNames)</code> 메서드를 호출하여 삭제 작업을 시작한다.
이때 다른 스레드가 아직 업로드를 완료하지 않아 리스트에 새로운 요소를 추가하는 상황이 발생하면 <code class="language-text">ConcurrentModificationException</code> 예외가 발생한다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Exception in thread &quot;taskExecutor-1&quot; java.util.ConcurrentModificationException
at java.base/java.util.ArrayList.forEach(ArrayList.java:1513)
at practice.s3.application.ImageStorageService.deleteFiles(ImageStorageService.java:67)
at practice.s3.application.ImageStorageService.lambda$uploadFiles$0(ImageStorageService.java:38) &lt;3 internal lines&gt;</code></pre></div>
<h3>병렬 작업 종료 후 통합 예외 처리</h3>
<p>이러한 문제를 방지하기 위해, <strong>모든 병렬 작업이 끝난 후</strong>에 한꺼번에 예외를 처리하는 방식으로 코드를 개선했다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">ImageUploadResponse</span> <span class="token function">uploadFiles</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span> imageFiles<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">validate</span><span class="token punctuation">(</span>imageFiles<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">AtomicBoolean</span> catchException <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AtomicBoolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileNames <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>imageFiles<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>file <span class="token operator">-&gt;</span> <span class="token function">uploadFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> catchException<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Objects</span><span class="token operator">::</span><span class="token function">nonNull</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">handleException</span><span class="token punctuation">(</span>catchException<span class="token punctuation">,</span> fileNames<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">convertFileNamesToResponse</span><span class="token punctuation">(</span>fileNames<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">uploadFile</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">,</span> <span class="token class-name">AtomicBoolean</span> catchException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> storageClient<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        catchException<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">handleException</span><span class="token punctuation">(</span><span class="token class-name">AtomicBoolean</span> catchException<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileNames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>catchException<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        executor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">deleteFiles</span><span class="token punctuation">(</span>fileNames<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">InternalServerException</span><span class="token punctuation">(</span><span class="token string">&quot;이미지 업로드 시 예외가 발생했습니다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>여기서는 <code class="language-text">AtomicBoolean</code>을 활용하여 예외 발생 여부를 각 스레드에서 안전하게 추적한다. 업로드 과정에서 예외가 발생하면, 해당 변수를 true로 설정하여 상태를 기록한다.</p>
<p>모든 병렬 작업이 종료된 후, 이 <code class="language-text">AtomicBoolean</code> 상태를 검사함으로써 예외 발생 유무를 확인한다.
이렇게 함으로써 동시성 문제를 피하면서 안정적으로 예외를 처리할 수 있게 되 었다.</p>
<h2>병렬 스트림의 제약점</h2>
<p>병렬 스트림은 내부적으로 <code class="language-text">ForkJoinPool</code>을 사용하여 자동으로 작업을 여러 스레드에 분배한다. 이러한 분배는 시스템의 프로세서 수를 고려하여 스레드 수를 결정한다. 본 포스트의 성능 측정은 7개의 스레드가 활용된 환경에서 이루어졌다.</p>
<p>병렬 스트림의 스레드 수를 조절하는 것은 기술적으로 가능하나, 이 조정은 <code class="language-text">ForJoinPool.commonPool()</code>에 대한 전역 설정을 변경하는 것이므로, 모든 병렬 스트림 작업에 영향을 미친다.</p>
<p>예를 들어, 작업 A에 최적화하기 위해 스레드 수를 10으로 설정한다면, 이는 작업 B,C,D 등 현재 진행 중인 다른 모든 병렬 스트림 작업에도 동일하게 적용된다. 따라서 각 작업의 특성에 따라 최적의 성능을 얻기 위해 병렬 스트림의 스레드 수를 독립적으로 조절하는 것이 쉽지 않다.</p>
<p>그렇다면, 더 세밀한 병렬 처리 제어를 원할 땐 어떻게 해야 할까?</p>
<h1>CompletableFuture를 활용한 병렬 업로드</h1>
<p>Java 8이 등장하면서, <code class="language-text">CompletableFuture</code>는 비동기 프로그래밍에 큰 변화를 불러왔다. 이 클래스는 비동기 연산의 결과를 나타내는 것뿐만 아니라, 그 완료 시점과 연산의 수명 주기를 세부적으로 제어할 수 있게 해준다. 이는 단순히 결과를 기다리는 것을 넘어, 연산을 시작하고, 완료하며, 여러 작업을 결합하고, 예외를 처리하는 등의 복잡한 비동기 흐름을 명시적으로 제어할 수 있다는 의미다.</p>
<p><code class="language-text">ForkJoinPool</code>은 큰 작업을 작은 단위로 분할하여 병렬로 처리한 다음, 그 결과를 합치는 데 초점을 맞추고 있다. 반면, <code class="language-text">CompletableFuture</code>는 기본적으로 사용하는 <code class="language-text">ForkJoinPool</code> 외에도, 자체적으로 지정한 executor를 통해 스레드 풀을 직접 제어할 수 있다. 이를 통해 특정 작업에 최적화된 병렬 처리가 가능해지고, 복잡한 비동기 작업 흐름을 필요에 맞게 구성할 수 있게 된다.</p>
<p>예를 들어, 이미지 업로드 작업과 같이 I/O 집약적인 작업이 있을 때,<code class="language-text">CompletableFuture</code>를 사용하여 특정 <code class="language-text">coreSize</code>인 <code class="language-text">ThreadPoolTaskExecutor</code>를 사용함으로써, 독립적인 스레드 풀을 구성하여 업로드를 병렬로 수행할 수 있다. 이는 각각의 작업이 다른 작업의 리소스 사용에 영향을 끼치지 않으면서 효율적으로 수행할 수 있도록 해준다. 이처럼 <code class="language-text">CompletableFuture</code>는 복잡한 비동기 흐름을 잘 제어하고, 각 작업에 맞는 병렬 처리를 해야 하는 상황에서 유용한 도구이다.</p>
<p>본 예제에서는 한 포스트에 최대 10장의 이미지를 업로드하는 상황을 가정하여, <code class="language-text">coreSize</code>가 10인 <code class="language-text">ThreadPoolTaskExecutor</code>를 설정해 병렬 업로드를 실행했다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AsyncConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Executor</span> <span class="token function">taskExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ThreadPoolTaskExecutor</span> executor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadPoolTaskExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executor<span class="token punctuation">.</span><span class="token function">setCorePoolSize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executor<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> executor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">Executor</span> executor<span class="token operator">:</span>

<span class="token keyword">public</span> <span class="token class-name">ImageUploadResponse</span> <span class="token function">uploadFiles</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span> imageFiles<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">validate</span><span class="token punctuation">(</span>imageFiles<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompletableFuture</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> futures <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>imageFiles<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>file <span class="token operator">-&gt;</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> storageClient<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">,</span> executor<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileNames <span class="token operator">=</span> <span class="token function">gatherFileNamesFromFutures</span><span class="token punctuation">(</span>futures<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">convertFileNamesToResponse</span><span class="token punctuation">(</span>fileNames<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">gatherFileNamesFromFutures</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompletableFuture</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> futures<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileNames <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">AtomicBoolean</span> catchException <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AtomicBoolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    futures<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>future <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            fileNames<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>future<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">CompletionException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            catchException<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">handleException</span><span class="token punctuation">(</span>catchException<span class="token punctuation">,</span> fileNames<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> fileNames<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">handleException</span><span class="token punctuation">(</span><span class="token class-name">AtomicBoolean</span> catchException<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileNames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>catchException<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        executor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">deleteFiles</span><span class="token punctuation">(</span>fileNames<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">InternalServerException</span><span class="token punctuation">(</span><span class="token string">&quot;이미지 업로드 시 예외가 발생했습니다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">uploadFiles</code> 메서드는 이미지 파일들을 병렬로 업로드한다.
<code class="language-text">CompletableFuture.supplyAsync()</code>를 사용해 병렬 작업을 시작하며 그 결과를 <code class="language-text">CompletableFuture</code>로 반환한다.</p>
<p><code class="language-text">gatherFileNamesFromFutures</code> 메서드는 <code class="language-text">join()</code> 메서드를 사용해 각 <code class="language-text">CompletableFuture</code>의 결과를 기다린 후, 해당 결과를 <code class="language-text">fileNames</code> 리스트에 추가  한다.
<code class="language-text">join()</code> 메서드는 <code class="language-text">CompletableFuture</code>의 작업이 완료될 때까지 대기하고 그 결과를 반환한다.</p>
<p>만약 <code class="language-text">join()</code> 메서드 수행 중 예외가 발생하면 <code class="language-text">CompletableException</code>으로 감싸져 던져진다.
위 코드에서는 <code class="language-text">AtomicBoolean</code>을 사용하여 예외 발생 여부를 관리한다.</p>
<p>이후의 예외 처리 전략은 병렬 스트림에서 사용된 방식과 동일하다.</p>
<h2>성능 측정</h2>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">// CommonForkJoinPool
[PostFacadeService.createPost] 실행 시간(ms): 312
[PostFacadeService.createPost] 실행 시간(ms): 261
[PostFacadeService.createPost] 실행 시간(ms): 322
[PostFacadeService.createPost] 실행 시간(ms): 251
[PostFacadeService.createPost] 실행 시간(ms): 241

// ThreadPoolTaskExecutor (coreSize 10)
[PostFacadeService.createPost] 실행 시간(ms): 182
[PostFacadeService.createPost] 실행 시간(ms): 161
[PostFacadeService.createPost] 실행 시간(ms): 197
[PostFacadeService.createPost] 실행 시간(ms): 191
[PostFacadeService.createPost] 실행 시간(ms): 179</code></pre></div>
<p>스레드풀을 별도로 지정하지 않았을 때의 평균 처리 시간은 277ms였다.
반면, 커스텀 스레드풀을 적용했을 때의 평균 처리 시간은 182ms로 감소했으며, 이는 기존 병렬 스트림의 처리 시간 229ms와 비교하여 더 짧은 시간이다.</p>
<p>이 결과로부터 병렬 스트림과 <code class="language-text">CompletableFuture</code>를 사용한 일반적인 처리에서 성능 차이는 크지 않지만, 특정 작업에 최적화된 executor를 사용하면 성능이 향상될 수 있다는 결론을 얻을 수 있다.
예를 들어, 대규모 파일 I/O 작업을 수행하는 경우에는 I/O 작업에 최적화된 스레드 풀 설정을 적용하여 디스크 접근과 네트워크 전송을 병렬로 처리할 수 있다. 고성능 컴퓨팅 작업에서는 CPU 사용률을 극대화할 수 있는 스레드 풀 구성으로 성능을 향상할 수 있다.</p>
<p>이처럼 실제 사용 시나리오와 요구 사항을 고려하여 성능 테스트를 실시하고, 테스트 결과를 바탕으로 특정 작업에 최적화된 스레드 풀을 선택하는 것이 중요하다.</p>
<h1>마무리</h1>
<p>이 글을 통해, 병렬 처리를 통해 다중 이미지를 효율적으로 업로드하는 기법들을 알아보았다. 그러나 이러한 기법들은 이미지 업로드에만 국한되지 않는다.</p>
<p>예를 들면, 웹 크롤링을 할 때 여러 사이트의 데이터를 동시에 수집하는 작업에서도 병렬 처리는 큰 이점을 가져다준다. 배치 작업에서도, 서로 독립적인 작업 항목들을 병렬로 처리함으로써 전체 작업 시간을 대폭 줄일 수 있다. 데이터베이스에서는 복잡한 쿼리나 대용량 데이터 처리를 병렬로 실행하여 응답 시간을 단축할 수 있다. 서버 측에서는 사용자의 다양한 요청을 동시에 처리하기 위해 요청 처리를 병렬로 수행하여, 더 빠른 서비스 제공이 가능해진다.</p>
<p>이처럼 병렬 처리는 단순히 업로드 시간을 단축하는 것을 넘어, 다양한 분야에서 응답성과 성능을 향상하는 핵심 기술이다.</p>
<p>본문에서는 특히 병렬 스트림과 <code class="language-text">CompletableFuture</code>에 초점을 맞추어 알아보았는데, 이들은 각각의 사용 사례에 따라 장점이 있다.</p>
<p>병렬 스트림은 사용이 매우 간편하다는 장점이 있으나, 고정된 스레드 풀을 사용한다는 점에서 유연성이 다소 떨어진다.
반면, <code class="language-text">CompletableFuture</code>는 보다 복잡한 비동기 작업을 우아하게 처리할 수 있으며, 특히 커스텀 스레드 풀을 사용  하여 성능을 최적화할 수 있다.</p>
<p>이들 외에도 다양한 병렬 처리 방식이 존재한다. 상황과 요구 사항에 따라 가장 적합한 방법을 선택하고 적용하는 것이 중요하다. 따라서 다양한 방법을 시도하고, 성능 측정 결과를 바탕으로 자신에게 맞는 최적의 해결책을 찾는 것이 핵심이다.</p></div></section></article></div><div></div></main><style data-emotion="css dcfhc9">.css-dcfhc9{position:relative;padding:0 5vw;}</style><style data-emotion="css 1aa7tg3">.css-1aa7tg3{border-bottom:1px solid rgba(255, 255, 255, 0.1);background:#0a0b0c;position:relative;padding:0 5vw;}.css-1aa7tg3 .post-card{padding-bottom:0;border-bottom:none;}.css-1aa7tg3 .post-card:after{display:none;}.css-1aa7tg3 .post-card-primary-tag{color:#fff;opacity:0.6;}.css-1aa7tg3 .post-card-title{color:#fff;opacity:0.8;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1aa7tg3 .post-card:hover .post-card-image{opacity:1;}.css-1aa7tg3 .post-card-excerpt{color:rgba(255, 255, 255, 0.6);}.css-1aa7tg3 .static-avatar{border-color:#000;}.css-1aa7tg3 .post-card-byline-content{color:rgba(255, 255, 255, 0.6);}.css-1aa7tg3 .post-card-byline-content a{color:rgba(255, 255, 255, 0.8);}.css-1aa7tg3 .author-avatar{border-color:#0a0b0c;}.css-1aa7tg3 .author-profile-image{background:#0a0b0c;}@media (max-width: 650px){.css-1aa7tg3 .post-card{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:25px;padding:25px 0 0;border-bottom:1px solid rgba(255, 255, 255, 0.1);}}</style><aside class="read-next css-1aa7tg3 edbrc111"><div class="css-y521qa"><style data-emotion="css 1ehfk3g">.css-1ehfk3g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -25px;padding:60px 0 0 0;}</style><div class="read-next-feed css-1ehfk3g edbrc110"><style data-emotion="css 1yuxrrc">.css-1yuxrrc{position:relative;-webkit-flex:1 1 301px;-ms-flex:1 1 301px;flex:1 1 301px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 0 40px;padding:0 20px 40px;min-height:220px;border-bottom:1px solid #eaeff1;-webkit-background-size:cover;background-size:cover;}@media (prefers-color-scheme: dark){.css-1yuxrrc{border-bottom-color:#2b2f36;}}</style><article class="post-card   css-1yuxrrc"><style data-emotion="css c0hj8a">.css-c0hj8a{position:relative;display:block;overflow:hidden;border-radius:5px 5px 0 0;}</style><a class="post-card-image-link css-c0hj8a" href="/post/2023-11-06-zero-downtime-deployment-2/"><style data-emotion="css 8kte6t">.css-8kte6t{width:auto;height:200px;background:#c5d2d9 no-repeat center center;-webkit-background-size:cover;background-size:cover;}</style><div class="post-card-image css-8kte6t e17we9q67"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:51.16618075801749%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACOklEQVR42j1Sy27TUBDNJyEWRUJCsEUgoUp8Cgs27KlUykOC0EhBCAQLlFJYISEqHmrapImT4MSP2A5tkiZpQhzb9/raalp6mHv7WBzNjH3mzPiMM4xzMB4hYiEYIWKBimE0UznnZ8+plpHHnMBUz3lfxCJ6FiMWCTJSkHN2AUWIpFCkEMtGOUzmJCahuEo4hkgSJEkKLmSeIsPVhgwBicxoi1BtF8APpgqT2RizcKqGyHeS54c+5YHqm1H9l2p2LhjTFD/w0RpaMA/aMMft00iwCI1BE/rAgDfpoDWyFEq9GqyxQ3CJ76Lcq2NKyyTpIX0yO/Wiv9+FYTah1asw7Bb0ZgOOa+O3XofbaVNuod6swfZokGPB8Vx4ux2YloXR5ABxIiAEbSgNlb7s7f1BtVrB9lYRzaaOqlZBrVbFzk4Jtm1A1xsoFjdh2SY0rUq1DsNooVwuYzQa0nYpHUUKkg9hFKrLCZqSpOLsiowIHAH52G6bcD3ngiOSWPkpDxHTUbgQiOSVpYcn8xSpYEjikBBhnjAcpwxHFFP6ZVJOpo+H8CcjxHQIQbxTDsfJoQCoH8dzhX9Hc2RWfzZQcruodLrQOj1sGB4efP6FpS9bKDkdbFoO7P4A9d0+7P0hrP4Qn2oWsj80fKiYeLPdwpMNDes1B8++N5C5/jSH29l3uLNawGKugFvZ97i2kseNx6+x+HINN58XcH/9G+6tfcXd/EfFubryFpeX8riy/AoLj/KUv8DCchaXHubwH89ny2dyt0IVAAAAAElFTkSuQmCC" alt=""/><picture><source type="image/webp" data-srcset="/static/00bbc2420e9b2bcd8663a901ea1f44ed/ebb4d/replication-thumbnail2.webp 750w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/120f5/replication-thumbnail2.webp 1080w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/b8819/replication-thumbnail2.webp 1366w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/7abb5/replication-thumbnail2.webp 1372w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/00bbc2420e9b2bcd8663a901ea1f44ed/a96c8/replication-thumbnail2.png" data-srcset="/static/00bbc2420e9b2bcd8663a901ea1f44ed/4eb95/replication-thumbnail2.png 750w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/bd4ec/replication-thumbnail2.png 1080w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/0e56d/replication-thumbnail2.png 1366w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/a96c8/replication-thumbnail2.png 1372w" alt="데이터베이스 복제하기(리플리케이션) 2 - 테코와 알아보는 대규모 데이터 관리 cover image"/></picture><noscript><picture><source type="image/webp" srcSet="/static/00bbc2420e9b2bcd8663a901ea1f44ed/ebb4d/replication-thumbnail2.webp 750w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/120f5/replication-thumbnail2.webp 1080w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/b8819/replication-thumbnail2.webp 1366w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/7abb5/replication-thumbnail2.webp 1372w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/00bbc2420e9b2bcd8663a901ea1f44ed/a96c8/replication-thumbnail2.png" srcSet="/static/00bbc2420e9b2bcd8663a901ea1f44ed/4eb95/replication-thumbnail2.png 750w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/bd4ec/replication-thumbnail2.png 1080w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/0e56d/replication-thumbnail2.png 1366w,/static/00bbc2420e9b2bcd8663a901ea1f44ed/a96c8/replication-thumbnail2.png 1372w" alt="데이터베이스 복제하기(리플리케이션) 2 - 테코와  알아보는 대규모 데이터 관리 cover image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div></a><style data-emotion="css 1lh7kdz">.css-1lh7kdz{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="post-card-content css-1lh7kdz e17we9q66"><style data-emotion="css 1fjrpmt">.css-1fjrpmt{position:relative;display:block;color:#15171A;}.css-1fjrpmt:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="post-card-content-link css-1fjrpmt" href="/post/2023-11-06-zero-downtime-deployment-2/"><style data-emotion="css 1w0j2bn">.css-1w0j2bn{margin:15px 0 0;}</style><header class="post-card-header css-1w0j2bn e17we9q60"><style data-emotion="css mmf1tx">.css-mmf1tx{height:25px;margin:0 0 0.2em;color:#3eb0ef;font-size:1.7rem;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;}</style><div class="post-card-primary-tag css-mmf1tx e17we9q65">#Database</div><style data-emotion="css 3lgx4i">.css-3lgx4i{margin:0 0 0.4em;line-height:1.15em;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}@media (prefers-color-scheme: dark){.css-3lgx4i{color:rgba(255, 255, 255, 0.85);}}</style><h2 class="post-card-title css-3lgx4i e17we9q64">데이터베이스 복제하기(리플리케이션) 2 - 테코와 알아보는 대규모 데이터 관리</h2></header><style data-emotion="css 10mgfrl">.css-10mgfrl{font-family:Georgia,serif;}@media (prefers-color-scheme: dark){.css-10mgfrl{color:#90a2aa!important;}}</style><section class="post-card-excerpt css-10mgfrl e17we9q63"><p>테코의 고민 2 - 이벤트에  어떤 내용을 기록해야 해? GTID…</p></section></a><style data-emotion="css 143c7df">.css-143c7df{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0;}</style><footer class="post-card-meta css-143c7df e17we9q62"><ul class="author-list css-12fmpzj e1y81fg50"><li class="author-list-item css-rzestn ekzlxzj1"><style data-emotion="css 1ub0qw9">.css-1ub0qw9{position:absolute;bottom:105%;z-index:999;display:block;padding:2px 8px;color:white;font-size:1.2rem;letter-spacing:0.2px;white-space:nowrap;background:#15171A;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.03) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:translateY(6px);-moz-transform:translateY(6px);-ms-transform:translateY(6px);transform:translateY(6px);pointer-events:none;}@media (max-width: 700px){.css-1ub0qw9{display:none;}}</style><div class="author-name-tooltip css-1ub0qw9 ekzlxzj0">5기_여우</div><a class="author-avatar css-1smzq71" href="/author/5-기-여우/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:97.18785151856018%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACn0lEQVR42pVUTWsTURSdPyYoSF2IS93UhSsXVZBuRBAEqW4EFy4kSP0oRYsfrYVWUVsNxSLYYo2VYhLaTDKTOs5nJmmmmcmkcrzvTWbmTVJBF4f35r57z7v33DtP6jYUMAQMTo3vfbtKe2ZXOaJ9ikDc92O65NOhOKnbIAM3RggJvi1zW0iOhyH2i1dud6I4KXZIMfwdxgQOZU5BInEwcLEUUJpRNjVeqkgWCJkzstBV0Wv+RFeogPkEThonDZdWE8pSIjkooNfS4JWX0NycR69tRhccIkVashMZuX4ZMsrAptUowpwbg5Y7Bu/bU4R0QUwaCFJkNBzcs2x7tO5bMqziCqzFyzBnx2DOnIUvf0S39YuTijFSqp+cdJsL7cj9LCnArqDnWQjUdZifHsJYf4H2xmMi1OFblb6fkhJmOsX27i7CPdLJLJNN5Zqxslort2AuXoFRWkOzmEfPHR4poSksqyonY11039+ENTMKZ+48GguX4Dw7ByN3BObKXeilz9hTN6nj9YzWDFLS1VhgawfN5etEMg5r8jj0yRPQp0/DeHASxr2jsD7chl0pIDC3k3ESB1yKiXyTtKDS2hvTcOYvIKiuQs2NQF6YQEcvwVO+ov16HPKjUZhbefxu67yzbI5Z6Wxlc5x0OSDhQ8+GuzwBe+oUyrNX8W7qBhxlCwc0ItQBvHlyB9fGzqD+Yw3w9KRMsexUQz68OvZLb2HeH8Hu84tQC3m0lO90pgCtXXxZXcbSq5doads4IP3Yw5H9IdQowwyaGoL6Bjr1Anxjp68tie+wbms48DQemEJJ9y4nVLMOfGzqGLKzZ4z+GN+q9mdu+JzZpcwNImkyTup/QDkkw3+A+NhmH17+wKp/OUzhs1+TnAfR4WstOe84FfwByIt3J9J/LIQAAAAASUVORK5CYII=" alt=""/><picture><source type="image/webp" data-srcset="/static/1bd577fab62487b8309c9e635d0ce7b2/60bc8/fox.webp 750w,/static/1bd577fab62487b8309c9e635d0ce7b2/4dd5a/fox.webp 889w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/1bd577fab62487b8309c9e635d0ce7b2/1435e/fox.png" data-srcset="/static/1bd577fab62487b8309c9e635d0ce7b2/4563a/fox.png 750w,/static/1bd577fab62487b8309c9e635d0ce7b2/1435e/fox.png 889w" alt="5기_여우"/></picture><noscript><picture><source type="image/webp" srcSet="/static/1bd577fab62487b8309c9e635d0ce7b2/60bc8/fox.webp 750w,/static/1bd577fab62487b8309c9e635d0ce7b2/4dd5a/fox.webp 889w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/1bd577fab62487b8309c9e635d0ce7b2/1435e/fox.png" srcSet="/static/1bd577fab62487b8309c9e635d0ce7b2/4563a/fox.png 750w,/static/1bd577fab62487b8309c9e635d0ce7b2/1435e/fox.png 889w" alt="5기_여우"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></li></ul><style data-emotion="css 1rrg0pi">.css-1rrg0pi{-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:4px 0 0 10px;color:#90a2aa;font-size:1.2rem;line-height:1.4em;font-weight:400;letter-spacing:0.2px;text-transform:uppercase;}.css-1rrg0pi span{margin:0;}.css-1rrg0pi a{color:#434952;font-weight:600;}@media (prefers-color-scheme: dark){.css-1rrg0pi a{color:rgba(255, 255, 255, 0.75);}}</style><div class="post-card-byline-content css-1rrg0pi e17we9q61"><span><a href="/author/5-기-여우/">5기_여우</a></span><span class="post-card-byline-date"><time dateTime="2023-11-23">23 Nov 2023</time> <span class="bull">•</span> <!-- -->4<!-- --> min read</span></div></footer></div></article></div></div></aside><style data-emotion="css 1turcvg">.css-1turcvg{position:relative;padding:0 5vw;position:relative;padding-top:20px;padding-bottom:60px;color:#fff;background:#000;}</style><footer class="css-1turcvg"><style data-emotion="css 1d3gyi8">.css-1d3gyi8{margin:0 auto;max-width:1040px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(255, 255, 255, 0.7);font-size:1.3rem;}.css-1d3gyi8 a{color:rgba(255, 255, 255, 0.7);}.css-1d3gyi8 a:hover{color:rgba(255, 255, 255, 1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 650px){.css-1d3gyi8{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-1d3gyi8"><section class="copyright"><a href="/">Tecoble</a> © <!-- -->2023<!-- --> <a href="/">| <!-- -->Tecoble<!-- --> <!-- -->is based on woowacourse</a></section><style data-emotion="css pwtbz1">.css-pwtbz1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-pwtbz1 a{position:relative;margin-left:20px;}.css-pwtbz1 a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-pwtbz1 a:first-of-type:before{display:none;}@media (max-width: 650px){.css-pwtbz1 a:first-of-type{margin-left:0;}}</style><nav class="css-pwtbz1 e19to57e0"><a href="/">Latest Posts</a><a href="https://github.com/scttcper/gatsby-casper" target="_blank" rel="noopener noreferrer">Casper</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7YLT36LV0M"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7YLT36LV0M', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/2023-11-23-multiple-image-upload/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-f868b9a2cfcc7d3f8a88.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-6b6465e9bd58f2a527bc.js\"],\"component---src-templates-author-tsx\":[],\"component---src-templates-index-tsx\":[\"/component---src-templates-index-tsx-5a0d030db642605a32bf.js\"],\"component---src-templates-post-tsx\":[\"/component---src-templates-post-tsx-f43acd1f7a8c92440a7c.js\"],\"component---src-templates-tags-tsx\":[\"/component---src-templates-tags-tsx-9f42085b0817aae400a6.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="ff32212908a9f1525254";</script><script src="/webpack-runtime-c4948ce4939a2c9854e7.js" async></script><script src="/framework-6abcadde3b049d27c933.js" async></script><script src="/app-f868b9a2cfcc7d3f8a88.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>