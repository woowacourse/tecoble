<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.11.0"/><meta data-react-helmet="true" name="description" content="F12 프로젝트를 진행하면서 검색기능을 개발하는 과정에서 고민했던 부분을 소개해드리려고 합니다. F1…"/><meta data-react-helmet="true" property="og:site_name" content="Tecoble"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="JPA의 동적 쿼리"/><meta data-react-helmet="true" property="og:description" content="F12 프로젝트를 진행하면서 검색기능을 개발하는 과정에서 고민했던 부분을 소개해드리려고 합니다. F1…"/><meta data-react-helmet="true" property="og:url" content="https://tecoble.techcourse.co.kr/post/2022-10-11-jpa-dynamic-query/"/><meta data-react-helmet="true" property="og:image" content="https://tecoble.techcourse.co.kr/static/47b5865744226e7175ddcda02e7a05d0/a06a1/jpa-dynamic-query.png"/><meta data-react-helmet="true" property="article:published_time" content="2022-10-24T12:00:00.000Z"/><meta data-react-helmet="true" property="article:tag" content="JPA"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="JPA의 동적 쿼리"/><meta data-react-helmet="true" name="twitter:description" content="F12 프로젝트를 진행하면서 검색기능을 개발하는 과정에서 고민했던 부분을 소개해드리려고 합니다. F1…"/><meta data-react-helmet="true" name="twitter:url" content="https://tecoble.techcourse.co.kr/post/2022-10-11-jpa-dynamic-query/"/><meta data-react-helmet="true" name="twitter:image" content="https://tecoble.techcourse.co.kr/static/47b5865744226e7175ddcda02e7a05d0/a06a1/jpa-dynamic-query.png"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="4기_티키"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="JPA"/><meta data-react-helmet="true" property="og:image:width" content="1"/><meta data-react-helmet="true" property="og:image:height" content="0.4994791666666666"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="canonical" href="https://tecoble.techcourse.co.kr/post/2022-10-11-jpa-dynamic-query/" data-baseprotocol="https:" data-basehost="tecoble.techcourse.co.kr"/><title data-react-helmet="true">JPA의 동적 쿼리</title><link data-react-helmet="true" rel="icon" href="data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjhJREFUeNrEV4uRgkAMzdmAlGAJdqDXgSVYgiXQgSVYgiWgFYAVYAdqBXv7kDAhhGVFPDOT8QObvPyzRDU55xLPqefSfY7KWkdCkmrlufs/yhnET/0l87ykCLper1QUBV0uF7rf79Xv5fJ5dLVa0Xq9pkgqPP9S7ZInrDx3m83GwSlJkrg0bR65LMucF149CzHObbdbV5ZRkUyJY3673arDWuBut6ve5N8QfjgcOgoAcL/fO++N5l1pQF9OUAPFv9xnFZRBQaRV1bsMBJ8wro8aAOx6iyFwDMFbQyCiPdBnKRi500cIF2Qgf4IAoMTKAXhGK7W8FUo+9oSVE9QqTm/JYrFoJRy7Dp8saKgKYLUmyMUzHQqKjWcoRyzWIOA5ywtkvaRjGsqPkCd0OOAFcC8AdrE82NcfYhjyLEOkgS0AyFSUjJXFY9nyMBoW00w259PpRN5FrYZ9Pp/pHYJMJp4Tj8ej+W+mD/BgkcNnapIyZ/Rl6gDAqJWkQzIFSZktAIiRdjlm/Dsk9wPOh/l8bgNA/OEBCcI3IPJlOEq5L0MzoVtLiyyT4/HYKZMpGxHKPNiI+rrVFK2YB54G1QHA1uqePXYYQQ53UjncgsOItxlrzr8yjq0uqtuzCQCKIRAcWjaGFhIL6GAOaPQAMXYlw0KrAehZE9wHUBUyfq8spagk9qQEAJkaQFAqlMr7QOxaDsUcTpwBa+W8lqexVn3iYvLy1QzXMbRUXM14drx1Nfv25ZS+fT3/E2AAsWMCdac8y9AAAAAASUVORK5CYII=" type="image/x-icon"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion="css-global 1lsbqih">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:inherit;}a{background-color:transparent;}a:active,a:hover{outline:0;}b,strong{font-weight:bold;}i,em,dfn{font-style:italic;}h1{margin:0.67em 0;font-size:2em;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type='button'],input[type='reset'],input[type='submit']{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type='checkbox'],input[type='radio']{box-sizing:border-box;padding:0;}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{height:auto;}input[type='search']{box-sizing:content-box;-webkit-appearance:textfield;}input[type='search']::-webkit-search-cancel-button,input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{overflow:auto;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}body{overflow-x:hidden;color:#303a3e;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:'liga' on;}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed;}audio,canvas,iframe,img,svg,video{vertical-align:middle;}fieldset{margin:0;padding:0;border:0;}textarea{resize:vertical;}p,ul,ol,dl,blockquote{margin:0 0 1.5em 0;}ol,ul{padding-left:1.3em;padding-right:1.5em;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}ul{list-style:disc;}ol{list-style:decimal;}ul,ol{max-width:100%;}li{margin:0.5em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171A;font-weight:500;text-align:right;}dd{margin:0 0 5px 0;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em 0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:300;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote cite{font-weight:bold;}blockquote cite a{font-weight:normal;}a{color:#26a6ed;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:600;text-rendering:optimizeLegibility;}h1{margin:0 0 0.5em 0;font-size:5.5rem;font-weight:600;}@media (max-width: 500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em 0;font-size:2.2rem;}@media (max-width: 500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em 0;font-size:1.8rem;font-weight:500;}@media (max-width: 500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em 0;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}body{background:#fff;}@media (prefers-color-scheme: dark){body{color:rgba(255, 255, 255, 0.75);background:#191b1f;}img{opacity:0.9;}}</style><style data-emotion="css wv5on3">.css-wv5on3 .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-wv5on3 .site-main{background:#191b1f;}}</style><style data-emotion="css 1qvd43r">.css-1qvd43r{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-1qvd43r .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-1qvd43r .site-main{background:#191b1f;}}</style><div class="css-1qvd43r e1qe12yx0"><header class="site-header"><style data-emotion="css 1qxgdzi">.css-1qxgdzi{position:relative;padding:0 5vw;position:fixed;top:0;right:0;left:0;z-index:1000;background:#0a0b0c;}@media (max-width: 700px){.css-1qxgdzi{padding-right:0;padding-left:0;}}</style><div class="css-1qxgdzi"><style data-emotion="css y521qa">.css-y521qa{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-y521qa"><style data-emotion="css lcmrfl">.css-lcmrfl{position:relative;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;overflow-y:hidden;height:64px;font-size:1.3rem;}</style><nav class="css-lcmrfl"><style data-emotion="css crtwut">.css-crtwut{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;margin-right:10px;padding:10px 0 80px;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;white-space:nowrap;-ms-overflow-scrolling:touch;}@media (max-width: 700px){.css-crtwut{margin-right:0;padding-left:5vw;}}</style><div class="site-nav-left css-crtwut e16cumcd4"><style data-emotion="css 3oagtl">.css-3oagtl{position:relative;z-index:100;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:inline-block;margin-right:32px;padding:12px 0;color:#fff;font-size:1.7rem;line-height:1.8rem;font-weight:bold;letter-spacing:-0.5px;text-transform:none;}.css-3oagtl:hover{-webkit-text-decoration:none;text-decoration:none;}.css-3oagtl img{display:block;width:auto;height:21px;}</style><a class="site-nav-logo css-3oagtl" href="/"><img src="/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png" alt="Tecoble"/></a><style data-emotion="css 1xdepn">.css-1xdepn{position:relative;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;}</style><div class="css-1xdepn e16cumcd3"><style data-emotion="css ps6dy3">.css-ps6dy3{position:absolute;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-ps6dy3 li{display:block;margin:0;padding:0;}.css-ps6dy3 li a{position:relative;display:block;padding:12px 12px;color:#fff;opacity:0.8;-webkit-transition:opacity 0.35s ease-in-out;transition:opacity 0.35s ease-in-out;}.css-ps6dy3 li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-ps6dy3 li a:before{content:'';position:absolute;right:100%;bottom:8px;left:12px;height:1px;background:#fff;opacity:0.25;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-ps6dy3 li a:hover:before{right:12px;opacity:0.5;}</style><ul role="menu" class="css-ps6dy3"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="https://woowacourse.github.io/">woowacourse</a></li></ul><style data-emotion="css 1wu52sc">.css-1wu52sc{visibility:hidden;position:absolute;top:9px;color:#fff;font-size:1.7rem;font-weight:400;text-transform:none;opacity:0;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);-webkit-transform:translateY(175%);-moz-transform:translateY(175%);-ms-transform:translateY(175%);transform:translateY(175%);}.css-1wu52sc .dash{left:-25px;}.css-1wu52sc .dash:before{content:'– ';opacity:0.5;}</style><span class="nav-post-title css-1wu52sc e16cumcd0">JPA의 동적 쿼리</span></div></div><style data-emotion="css 1p9q30u">.css-1p9q30u{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:10px 0;height:64px;}@media (max-width: 700px){.css-1p9q30u{display:none;}}</style><div class="css-1p9q30u e16cumcd2"><style data-emotion="css 1z0rm8f">.css-1z0rm8f{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-1z0rm8f e16cumcd1"></div></div></nav></div></div></header><style data-emotion="css 12lzzeq">.css-12lzzeq{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 5vw;}@media (prefers-color-scheme: dark){.css-12lzzeq{background:#191b1f;}}</style><main id="site-main" class="site-main css-12lzzeq"><div class="css-y521qa"><style data-emotion="css 1wcdnkk">.css-1wcdnkk{position:relative;z-index:50;}</style><article class="css-1wcdnkk"><style data-emotion="css 1ypjvfm">.css-1ypjvfm{position:relative;margin:0 auto;padding:70px 170px 50px;border-top-left-radius:3px;border-top-right-radius:3px;}@media (max-width: 1170px){.css-1ypjvfm{padding:60px 11vw 50px;}}@media (max-width: 800px){.css-1ypjvfm{padding-right:5vw;padding-left:5vw;}}@media (max-width: 500px){.css-1ypjvfm{padding:20px 0 35px;}}</style><header class="post-full-header css-1ypjvfm ew4hrjd5"><style data-emotion="css h2mu2u">.css-h2mu2u{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:2.5rem;line-height:1.4em;font-weight:600;text-transform:uppercase;}</style><section class="post-full-tags css-h2mu2u ew4hrjd4"><a href="/tags/jpa/">#JPA</a></section><style data-emotion="css qia1z6">.css-qia1z6{margin:0 0 0.2em;color:#0b0c0e;}@media (max-width: 500px){.css-qia1z6{margin-top:0.2em;font-size:3.3rem;}}@media (prefers-color-scheme: dark){.css-qia1z6{color:rgba(255, 255, 255, 0.9);}}</style><h1 class="post-full-title css-qia1z6 ew4hrjd1">JPA의 동적 쿼리</h1><style data-emotion="css 16sbnz0">.css-16sbnz0{margin:20px 0 0;color:var(--midgrey);font-family:Georgia,serif;font-size:2.3rem;line-height:1.4em;font-weight:300;}@media (max-width: 500px){.css-16sbnz0{font-size:1.9rem;line-height:1.5em;}}@media (prefers-color-scheme: dark){.css-16sbnz0{color:#90a2aa;}}</style><p class="post-full-custom-excerpt css-16sbnz0 ew4hrjd3"></p><style data-emotion="css 1pygz0x">.css-1pygz0x{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:35px 0 0;padding-top:15px;border-top:1px solid #e4eaed;}.css-1pygz0x .post-full-byline-content{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-1pygz0x .post-full-byline-content .author-list{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:0 12px 0 0;}.css-1pygz0x .post-full-byline-meta{margin:2px 0 0;color:#90a2aa;font-size:1.2rem;line-height:1.2em;letter-spacing:0.2px;text-transform:uppercase;}.css-1pygz0x .post-full-byline-meta h4{margin:0 0 3px;font-size:1.3rem;line-height:1.4em;font-weight:500;}.css-1pygz0x .post-full-byline-meta h4 a{color:#2c3036;}.css-1pygz0x .post-full-byline-meta h4 a:hover{color:#15171A;}.css-1pygz0x .post-full-byline-meta .bull{display:inline-block;margin:0 4px;opacity:0.6;}@media (prefers-color-scheme: dark){.css-1pygz0x{border-top-color:#3b4049;}.css-1pygz0x .post-full-byline-meta h4 a{color:rgba(255, 255, 255, 0.75);}.css-1pygz0x .post-full-byline-meta h4 a:hover{color:#fff;}}</style><div class="post-full-byline css-1pygz0x ew4hrjd2"><section class="post-full-byline-content"><style data-emotion="css 12fmpzj">.css-12fmpzj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 0 0 4px;padding:0;list-style:none;}</style><ul class="author-list css-12fmpzj e1y81fg50"><style data-emotion="css rzestn">.css-rzestn{position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin:0;padding:0;}.css-rzestn:hover .author-name-tooltip{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}</style><li class="author-list-item css-rzestn ekzlxzj1"><style data-emotion="css nqg22v">.css-nqg22v{position:absolute;bottom:130%;left:50%;z-index:600;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:-200px;width:400px;font-size:1.4rem;line-height:1.5em;background:white;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.06) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:scale(0.98) translateY(15px);-moz-transform:scale(0.98) translateY(15px);-ms-transform:scale(0.98) translateY(15px);transform:scale(0.98) translateY(15px);pointer-events:none;padding:20px 20px 22px;}.css-nqg22v:before{content:'';position:absolute;top:100%;left:50%;display:block;margin-left:-8px;width:0;height:0;border-top:8px solid #fff;border-right:8px solid transparent;border-left:8px solid transparent;}.css-nqg22v .author-info{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:0 0 0 20px;}.css-nqg22v .author-info h2{margin:8px 0 0;font-size:1.6rem;}.css-nqg22v .author-info p{margin:4px 0 0;color:color(var(--midgrey) l(-10%));}.css-nqg22v .author-info .bio h2{margin-top:0;}.css-nqg22v .author-info .bio p{margin-top:0.8em;}.css-nqg22v .author-profile-image{-webkit-flex:0 0 60px;-ms-flex:0 0 60px;flex:0 0 60px;margin:0;width:60px;height:60px;border:none;}@media (max-width: 1170px){.css-nqg22v{margin-left:-50px;width:430px;}.css-nqg22v:before{left:50px;}}@media (max-width: 650px){.css-nqg22v{display:none;}}@media (prefers-color-scheme: dark){.css-nqg22v{background:#22252a;box-shadow:0 12px 26px rgba(0, 0, 0, 0.4);}.css-nqg22v:before{border-top-color:#22252a;}}</style><div class="author-card css-nqg22v"><style data-emotion="css 1kq7wgl">.css-1kq7wgl{display:block;width:100%;height:100%;background:#e4eaed;border-radius:100%;object-fit:cover;}@media (prefers-color-scheme: dark){.css-1kq7wgl{background:#191b1f;}}</style><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:100%"></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#8898a8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/f376311d81ee2a6d4d1932335a8eece6/e73fe/tiki.webp 40w,/static/f376311d81ee2a6d4d1932335a8eece6/61ca6/tiki.webp 80w,/static/f376311d81ee2a6d4d1932335a8eece6/507b0/tiki.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/f376311d81ee2a6d4d1932335a8eece6/a8b52/tiki.png" data-srcset="/static/f376311d81ee2a6d4d1932335a8eece6/f31ef/tiki.png 40w,/static/f376311d81ee2a6d4d1932335a8eece6/1f8a1/tiki.png 80w,/static/f376311d81ee2a6d4d1932335a8eece6/a8b52/tiki.png 120w" alt="4기_티키"/></picture><noscript><picture><source type="image/webp" srcSet="/static/f376311d81ee2a6d4d1932335a8eece6/e73fe/tiki.webp 40w,/static/f376311d81ee2a6d4d1932335a8eece6/61ca6/tiki.webp 80w,/static/f376311d81ee2a6d4d1932335a8eece6/507b0/tiki.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/f376311d81ee2a6d4d1932335a8eece6/a8b52/tiki.png" srcSet="/static/f376311d81ee2a6d4d1932335a8eece6/f31ef/tiki.png 40w,/static/f376311d81ee2a6d4d1932335a8eece6/1f8a1/tiki.png 80w,/static/f376311d81ee2a6d4d1932335a8eece6/a8b52/tiki.png 120w" alt="4기_티키"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><div class="author-info"><div class="bio"><h2>4기_티키</h2><p>우아한테크코스 4기 티키(방영호)입니다 :)</p><p><a href="/author/4-기-티키/">More posts</a> by<!-- --> <!-- -->4기_티키<!-- -->.</p></div></div></div><style data-emotion="css 1smzq71">.css-1smzq71{display:block;overflow:hidden;margin:0 -4px;width:40px;height:40px;border:#fff 2px solid;border-radius:100%;-webkit-transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;}@media (max-width: 500px){.css-1smzq71{width:36px;height:36px;}}@media (prefers-color-scheme: dark){.css-1smzq71{border-color:#1a1c20;}}</style><a class="author-avatar css-1smzq71" href="/author/4-기-티키/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:100%"></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#8898a8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/f376311d81ee2a6d4d1932335a8eece6/e73fe/tiki.webp 40w,/static/f376311d81ee2a6d4d1932335a8eece6/61ca6/tiki.webp 80w,/static/f376311d81ee2a6d4d1932335a8eece6/507b0/tiki.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/f376311d81ee2a6d4d1932335a8eece6/a8b52/tiki.png" data-srcset="/static/f376311d81ee2a6d4d1932335a8eece6/f31ef/tiki.png 40w,/static/f376311d81ee2a6d4d1932335a8eece6/1f8a1/tiki.png 80w,/static/f376311d81ee2a6d4d1932335a8eece6/a8b52/tiki.png 120w" alt="4기_티키"/></picture><noscript><picture><source type="image/webp" srcSet="/static/f376311d81ee2a6d4d1932335a8eece6/e73fe/tiki.webp 40w,/static/f376311d81ee2a6d4d1932335a8eece6/61ca6/tiki.webp 80w,/static/f376311d81ee2a6d4d1932335a8eece6/507b0/tiki.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/f376311d81ee2a6d4d1932335a8eece6/a8b52/tiki.png" srcSet="/static/f376311d81ee2a6d4d1932335a8eece6/f31ef/tiki.png 40w,/static/f376311d81ee2a6d4d1932335a8eece6/1f8a1/tiki.png 80w,/static/f376311d81ee2a6d4d1932335a8eece6/a8b52/tiki.png 120w" alt="4기_티키"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><a href="/author/4-기-티키/">4기_티키</a></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2022-10-24">24 Oct 2022</time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->8<!-- --> min read</span></div></section></section></div></header><style data-emotion="css 1aw8std">.css-1aw8std{margin:25px 0 50px;height:560px;background:#c5d2d9 center center;-webkit-background-size:cover;background-size:cover;border-radius:5px;}@media (max-width: 1170px){.css-1aw8std{margin:25px -6vw 50px;border-radius:0;}.css-1aw8std img{max-width:1170px;}}@media (max-width: 800px){.css-1aw8std{height:400px;}}@media (max-width: 500px){.css-1aw8std{margin-bottom:4vw;height:350px;}}</style><figure class="css-1aw8std ew4hrjd0"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:49.94791666666666%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAByUlEQVR42pWSz08TQRTH+yf4D+iJgzcvBoxAgRbXdpktXowXhUQJaCKaRtHAwWBL+dHuYtcagzGSKCGcNERBxYRKuwsRlMQQolEJXAwHThyNCh9ntw2Uphg9vOTNm5nPm/m+ryeRbeBfQ88K4laQAUshYZU+4ykuxGfUXGScvHBPMJBRMNKnMd9coD+tSmjw70AHknyncfdDI8mFEOb7ELqVh2UVhqxLLH/7wvf1TZ5bY/RPq/n9fYCDc4L2oUrOdB2hLVlBS6Kcvukghh0i9raWmU9P2f4FP37/ZGVtA3OqVUqguA33AJ2X6XYDN0ZrqG8qo0Icwn+ujIOHD3DRPIa5cIqedC0TS/fYksDtLVj+vErKOiuBgVJAldRiI+0PKmnuPcrNsTpujddzRa47ntRIYMg941x88TGF/XUc81mYtqhf/krLDShTCJRDCA9Xc33Ey7XHXje/fP+4Cw4/qubqw6q8Vqr8uo9Y2kd87gTnu700d/gwZrUiDSW953WA6KuTRCYVIi8Vbk8oubXMY1OBAutoEi7QMxrmoqCps4rWiJ8788KVbmcohi1kp6LI13RblPalA5baRycDO9P2/I+x9wtjdtc2fwAt9gXVteHf6wAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/avif" data-srcset="/static/47b5865744226e7175ddcda02e7a05d0/06049/jpa-dynamic-query.avif 750w,/static/47b5865744226e7175ddcda02e7a05d0/90d7b/jpa-dynamic-query.avif 1080w,/static/47b5865744226e7175ddcda02e7a05d0/7fdca/jpa-dynamic-query.avif 1366w,/static/47b5865744226e7175ddcda02e7a05d0/32ed5/jpa-dynamic-query.avif 1920w" sizes="100vw"/><source type="image/webp" data-srcset="/static/47b5865744226e7175ddcda02e7a05d0/ee7ce/jpa-dynamic-query.webp 750w,/static/47b5865744226e7175ddcda02e7a05d0/762c2/jpa-dynamic-query.webp 1080w,/static/47b5865744226e7175ddcda02e7a05d0/2a6d8/jpa-dynamic-query.webp 1366w,/static/47b5865744226e7175ddcda02e7a05d0/af742/jpa-dynamic-query.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/47b5865744226e7175ddcda02e7a05d0/a06a1/jpa-dynamic-query.png" data-srcset="/static/47b5865744226e7175ddcda02e7a05d0/e7dcc/jpa-dynamic-query.png 750w,/static/47b5865744226e7175ddcda02e7a05d0/c6565/jpa-dynamic-query.png 1080w,/static/47b5865744226e7175ddcda02e7a05d0/41ba2/jpa-dynamic-query.png 1366w,/static/47b5865744226e7175ddcda02e7a05d0/a06a1/jpa-dynamic-query.png 1920w" alt="JPA의 동적 쿼리"/></picture><noscript><picture><source type="image/avif" srcSet="/static/47b5865744226e7175ddcda02e7a05d0/06049/jpa-dynamic-query.avif 750w,/static/47b5865744226e7175ddcda02e7a05d0/90d7b/jpa-dynamic-query.avif 1080w,/static/47b5865744226e7175ddcda02e7a05d0/7fdca/jpa-dynamic-query.avif 1366w,/static/47b5865744226e7175ddcda02e7a05d0/32ed5/jpa-dynamic-query.avif 1920w" sizes="100vw"/><source type="image/webp" srcSet="/static/47b5865744226e7175ddcda02e7a05d0/ee7ce/jpa-dynamic-query.webp 750w,/static/47b5865744226e7175ddcda02e7a05d0/762c2/jpa-dynamic-query.webp 1080w,/static/47b5865744226e7175ddcda02e7a05d0/2a6d8/jpa-dynamic-query.webp 1366w,/static/47b5865744226e7175ddcda02e7a05d0/af742/jpa-dynamic-query.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/47b5865744226e7175ddcda02e7a05d0/a06a1/jpa-dynamic-query.png" srcSet="/static/47b5865744226e7175ddcda02e7a05d0/e7dcc/jpa-dynamic-query.png 750w,/static/47b5865744226e7175ddcda02e7a05d0/c6565/jpa-dynamic-query.png 1080w,/static/47b5865744226e7175ddcda02e7a05d0/41ba2/jpa-dynamic-query.png 1366w,/static/47b5865744226e7175ddcda02e7a05d0/a06a1/jpa-dynamic-query.png 1920w" alt="JPA의 동적 쿼리"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></figure><style data-emotion="css 1uqx25x">.css-1uqx25x{position:relative;margin:0 auto;padding:0 170px 6vw;min-height:230px;font-family:Georgia,serif;font-size:2rem;line-height:1.6em;background:#fff;}@media (max-width: 1170px){.css-1uqx25x{padding:0 11vw;}}@media (max-width: 800px){.css-1uqx25x{padding:0 5vw;font-size:1.8rem;}}@media (max-width: 500px){.css-1uqx25x{padding:0;}}@media (max-width: 500px){.css-1uqx25x .post-full-custom-excerpt{font-size:1.9rem;line-height:1.5em;}}.css-1uqx25x .no-image{padding-top:0;}.css-1uqx25x h1,.css-1uqx25x h2,.css-1uqx25x h3,.css-1uqx25x h4,.css-1uqx25x h5,.css-1uqx25x h6,.css-1uqx25x p,.css-1uqx25x ul,.css-1uqx25x ol,.css-1uqx25x dl,.css-1uqx25x pre,.css-1uqx25x blockquote,.css-1uqx25x .post-full-comments,.css-1uqx25x .footnotes{margin:0 0 1.5em 0;min-width:100%;}@media (max-width: 500px){.css-1uqx25x p,.css-1uqx25x ul,.css-1uqx25x ol,.css-1uqx25x dl,.css-1uqx25x pre,.css-1uqx25x .post-full-comments,.css-1uqx25x .footnotes{margin-bottom:1.28em;}}.css-1uqx25x li{word-break:break-word;}.css-1uqx25x li p{margin:0;}.css-1uqx25x a{color:#15171A;word-break:break-word;box-shadow:#15171A 0 -1px 0 inset;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1uqx25x a:hover{color:#3eb0ef;-webkit-text-decoration:none;text-decoration:none;box-shadow:#3eb0ef 0 -1px 0 inset;}.css-1uqx25x strong,.css-1uqx25x em{color:#0a0b0c;}.css-1uqx25x small{display:inline-block;line-height:1.6em;}.css-1uqx25x img,.css-1uqx25x video{display:block;margin:1.5em auto;width:100%;max-width:1040px;height:auto;}@media (max-width: 1040px){.css-1uqx25x img,.css-1uqx25x video{width:100%;}}.css-1uqx25x img[src$='#full']{max-width:none;width:100vw;}.css-1uqx25x img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1uqx25x iframe{margin:0 auto!important;}.css-1uqx25x blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:#3eb0ef 3px solid;}@media (max-width: 500px){.css-1uqx25x blockquote{padding:0 1.3em;}}.css-1uqx25x blockquote p{margin:0 0 1em 0;color:inherit;font-size:inherit;line-height:inherit;font-style:italic;}.css-1uqx25x blockquote p:last-child{margin-bottom:0;}.css-1uqx25x code{padding:0 5px 2px;font-size:0.8em;line-height:1em;font-weight:400!important;background:#e5eff5;border-radius:3px;}.css-1uqx25x p code{word-break:break-all;}.css-1uqx25x pre{overflow-x:auto;padding:20px;max-width:100%;color:#e5eff5;font-size:1.4rem;line-height:1.5em;border-radius:5px;}.css-1uqx25x pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1uqx25x pre code :not(span){color:inherit;}.css-1uqx25x .fluid-width-video-wrapper{margin:1.5em 0 3em;}.css-1uqx25x hr{margin:2em 0;}.css-1uqx25x hr:after{content:'';position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#e4eaed;box-shadow:#fff 0 0 0 5px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.css-1uqx25x hr+p{margin-top:1.2em;}.css-1uqx25x h1,.css-1uqx25x h2,.css-1uqx25x h3,.css-1uqx25x h4,.css-1uqx25x h5,.css-1uqx25x h6{color:#0a0b0c;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.css-1uqx25x h1{margin:0.5em 0 0.4em;font-size:4.2rem;line-height:1.25em;font-weight:600;}.css-1uqx25x p+h1{margin-top:0.8em;}@media (max-width: 800px){.css-1uqx25x h1{font-size:3.2rem;line-height:1.25em;}}.css-1uqx25x h2{margin:0.5em 0 0.4em;font-size:3.2rem;line-height:1.25em;font-weight:600;}.css-1uqx25x p+h2{margin-top:0.8em;}@media (max-width: 800px){.css-1uqx25x h2{margin-bottom:0.3em;font-size:2.8rem;line-height:1.25em;}}.css-1uqx25x h3{margin:0.5em 0 0.2em;font-size:2.5rem;line-height:1.3em;font-weight:600;}.css-1uqx25x h2+h3{margin-top:0.7em;}@media (max-width: 800px){.css-1uqx25x h3{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1uqx25x h4{margin:0.5em 0 0.2em;font-size:2.5rem;font-weight:600;}.css-1uqx25x h2+h4{margin-top:0.7em;}.css-1uqx25x h3+h4{margin-top:0;}@media (max-width: 800px){.css-1uqx25x h4{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1uqx25x h5{display:block;margin:0.5em 0;padding:0.4em 1em 0.9em;border:0;color:#3eb0ef;font-family:Georgia,serif;font-size:3.2rem;line-height:1.35em;text-align:center;}@media (min-width: 1180px){.css-1uqx25x h5{max-width:1060px;}}@media (max-width: 800px){.css-1uqx25x h5{margin-bottom:1em;margin-left:1.3em;padding:0 0 0.5em;font-size:2.4rem;text-align:initial;}}.css-1uqx25x h6{margin:0.5em 0 0.2em 0;font-size:2rem;font-weight:700;}@media (max-width: 800px){.css-1uqx25x h6{font-size:1.8rem;line-height:1.4em;}}.css-1uqx25x table{display:inline-block;overflow-x:auto;margin:0.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;}.css-1uqx25x table{-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 0 center,radial-gradient(ellipse at right, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 100% center;background-attachment:scroll,scroll;-webkit-background-size:10px 100%,10px 100%;background-size:10px 100%,10px 100%;background-repeat:no-repeat;}.css-1uqx25x table td:first-of-type{background-image:linear-gradient(
      to right,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1uqx25x table td:last-child{background-image:linear-gradient(
      to left,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-position:100% 0;background-position:100% 0;-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1uqx25x table th{color:#15171A;font-size:1.2rem;font-weight:700;letter-spacing:0.2px;text-align:left;text-transform:uppercase;background-color:#f4f8fb;}.css-1uqx25x table th,.css-1uqx25x table td{padding:6px 12px;border:#e1edf4 1px solid;}@media (prefers-color-scheme: dark){.css-1uqx25x{background:#191b1f;}.css-1uqx25x h1,.css-1uqx25x h2,.css-1uqx25x h3,.css-1uqx25x h4,.css-1uqx25x h6{color:rgba(255, 255, 255, 0.9);}.css-1uqx25x a{color:#fff;box-shadow:inset 0 -1px 0 #fff;}.css-1uqx25x strong{color:#fff;}.css-1uqx25x em{color:#fff;}.css-1uqx25x code{color:#fff;background:#000;}.css-1uqx25x hr{border-top-color:#2b2f36;}.css-1uqx25x figcaption{color:rgba(255, 255, 255, 0.6);}.css-1uqx25x table td:first-of-type{background-image:linear-gradient(to right, #191b1f 50%, #191b1f 100%);}.css-1uqx25x table td:last-child{background-image:linear-gradient(270deg, #191b1f 50%, rgba(25, 27, 31, 0));}.css-1uqx25x table th{color:rgba(255, 255, 255, 0.85);background-color:#2b2f36;}.css-1uqx25x table th,.css-1uqx25x table td{border:#2b2f36 1px solid;}.css-1uqx25x .kg-bookmark-container,.css-1uqx25x .kg-bookmark-container:hover{color:rgba(255, 255, 255, 0.75);box-shadow:0 0 1px rgba(255, 255, 255, 0.9);}}.css-1uqx25x code[class*='language-'],.css-1uqx25x pre[class*='language-']{color:white;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1uqx25x pre[class*='language-']{overflow:auto;}.css-1uqx25x *:not(pre)>code[class*='language-']{border-radius:0.3em;background:rgb(1, 22, 39);color:white;padding:0.15em 0.5em;white-space:normal;}.css-1uqx25x .token.attr-name{color:rgb(173, 219, 103);font-style:italic;}.css-1uqx25x .token.comment{color:rgb(128, 147, 147);}.css-1uqx25x .token.string,.css-1uqx25x .token.url{color:rgb(173, 219, 103);}.css-1uqx25x .token.variable{color:rgb(214, 222, 235);}.css-1uqx25x .token.number{color:rgb(247, 140, 108);}.css-1uqx25x .token.builtin,.css-1uqx25x .token.char,.css-1uqx25x .token.constant,.css-1uqx25x .token.function{color:rgb(130, 170, 255);}.css-1uqx25x .token.punctuation{color:rgb(199, 146, 234);}.css-1uqx25x .token.selector,.css-1uqx25x .token.doctype{color:rgb(199, 146, 234);font-style:'italic';}.css-1uqx25x .token.class-name{color:rgb(255, 203, 139);}.css-1uqx25x .token.tag,.css-1uqx25x .token.operator,.css-1uqx25x .token.keyword{color:#ffa7c4;}.css-1uqx25x .token.boolean{color:rgb(255, 88, 116);}.css-1uqx25x .token.property{color:rgb(128, 203, 196);}.css-1uqx25x .token.namespace{color:rgb(178, 204, 214);}.css-1uqx25x pre[data-line]{padding:1em 0 1em 3em;position:relative;}.css-1uqx25x .gatsby-highlight-code-line{background-color:hsla(207, 95%, 15%, 1);display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid #ffa7c4;}.css-1uqx25x .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto;}.css-1uqx25x .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}</style><section class="post-full-content css-1uqx25x eeqvxt70"><div><p>F12 프로젝트를 진행하면서 검색기능을 개발하는 과정에서 고민했던 부분을 소개해드리려고 합니다.</p>
<p>F12 서비스에는 회원을 검색할 수 있는 기능과 제품을 검색할 수 있는 기능이 존재합니다. 이 글에서는 좀 더 복잡한 조건이 들어가 있는 회원을 검색하는 기능을 개발했던 과정을 살펴보면서 JPA에서 동적 쿼리를 생성하고 적용하는 방법을 살펴본 다음 프로젝트에서 선택했던 방법에 대해 설명드리겠습니다.</p>
<h2>F12의 회원 검색 기능</h2>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1908px">
      <a class="gatsby-resp-image-link" href="/static/034c20f95ecb58d853d2d8abe63f366b/41afc/f12-profile-search-view.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:72.8%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACZUlEQVR42n1Ty2pTURTtPznUj9BJP8BZB4KCM3GgIDgoCv6AoFMHOlA6kBYNtKEQEEIetnnYvJObm+S+z7mv5dqnN7EP2wM7J+fufdZee+2zt2KtcZulSYI/pRLmJydI8xyxUrfGb2kGXLW1M4ljBL6Ps0oF03YbSZreCLi+t+W6LlzHMbZaLBB43iZALAwCeLQgDKGjCDcRkMRiG4ZxsQsrKTMTIyOxvNjlW1p8l9iISa4xXAMYBz+mPAuryXiE2XSK6WSCGc1ZrTAZjcx5bllILoBc0tCazdDpdMiMmhFYEohDQC/aOaPAsLpJcwMYBucBDrUMuYuWC9uG4n8ghzadjqEiBaUTo5M1s5CybFnryjaAvIN+v4dXjx7i3YtnWLCsgM3xeNFjg0QOSbh70MOTz6eMHcOfTRHHBCeZpPD/A+Sq1ap4cO8OdrbvwyFQlmc4LB/h4MdPw8ILNR6/+YDtp68xmDtIsww2qzitN8j0CqAccgYcHR+j3e0io6ZLPuJpvQ6f2iqyzOgfdVvotppIlwssmk3YjAnaLajV0siyAVw/YFlyMZJS2VHFPWYzVPE0JGnOSZFzIHrTNGMUYy41RbobhRH2vn7B79ovWEM+jeHQJKC8JrtYoiLkiYbNCoZkLsllCZnrGlar2N25i9LH5/DtJexGA+5ggCUl0AX78v43vH/70nTfqtXgj8eYs/T4KqCZV89Ft/yJ2pShlhzB3hmcfh8+mUYsSValfIjS/nfkvLQ6o38whMNdpPmvhhnrS/ijOQUC5BJQc1KMloxZl6j5pCI+rVWvB0WWEfWOi2EQwL/Vc3Kbu8IYMgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="f12 profile search view" title="" src="/static/034c20f95ecb58d853d2d8abe63f366b/41afc/f12-profile-search-view.png" srcSet="/static/034c20f95ecb58d853d2d8abe63f366b/0eb09/f12-profile-search-view.png 500w /static/034c20f95ecb58d853d2d8abe63f366b/1263b/f12-profile-search-view.png 1000w /static/034c20f95ecb58d853d2d8abe63f366b/41afc/f12-profile-search-view.png 1908w" sizes="(max-width: 1908px) 100vw, 1908px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p>
<p>F12 프로젝트에서는 서비스를 이용하는 회원을 검색하는 기능이 있습니다. 검색할 수 있는 방법 중 가장 간단한 방법은 회원의 깃허브 아이디를 통해서 검색하는 것입니다. 검색하면 사용자가 검색한 아이디와 일치하는 회원을 찾아주는 방식입니다. 추가로 경력과 직군을 선택해서 검색 결과를 필터링할 수도 있습니다.</p>
<p>다양한 조건을 이용해서 회원을 검색하는 기능을 구현하는 방법이 여러 가지가 있었습니다. 구현 방법을 선택하기에 앞서 방법들의 장단점을 살펴보았었습니다. 저희 팀에서 고려했던 방식들을 하나씩 살펴보면서 최종적으로 F12 팀에서 선택했던 방법까지 살펴보도록 하겠습니다.</p>
<h2>동적 쿼리를 사용하지 않는 경우</h2>
<p>현재 Member의 검색 조건은 <code class="language-text">gitHubId</code>, <code class="language-text">careerLevel</code>, <code class="language-text">jobType</code> 총 3가지입니다. 따라서 사용자가 검색을 하기 위해서 입력할 수 있는 조건의 경우의 수는 총 <strong>8가지</strong>입니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token comment">// 1. 검색 조건 없이 모두 조회</span>
<span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2. 깃허브 아이디 선택 조회</span>
<span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByGitHubId</span><span class="token punctuation">(</span><span class="token class-name">String</span> keyword<span class="token punctuation">,</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3. 깃허브 아이디와 경력 선택 조회</span>
<span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByGitHubIdAndCareerLevel</span><span class="token punctuation">(</span><span class="token class-name">String</span> keyword<span class="token punctuation">,</span> <span class="token class-name">CareerLevel</span> careerLevel<span class="token punctuation">,</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 4. 깃허브 아이디와 직군 선택 조회</span>
<span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByGitHubIdAndJobType</span><span class="token punctuation">(</span><span class="token class-name">String</span> keyword<span class="token punctuation">,</span> <span class="token class-name">JobType</span> jobType<span class="token punctuation">,</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 5. 깃허브 아이디, 경력, 직군 선택 조회</span>
<span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByGitHubIdAndCareerLevelAndJobType</span><span class="token punctuation">(</span><span class="token class-name">String</span> keyword<span class="token punctuation">,</span> <span class="token class-name">CareerLevel</span> careerLevel<span class="token punctuation">,</span> <span class="token class-name">JobType</span> jobType<span class="token punctuation">,</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 6. 경력 선택 조회</span>
<span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByCareerLevel</span><span class="token punctuation">(</span><span class="token class-name">CareerLevel</span> careerLevel<span class="token punctuation">,</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 7. 경력, 직군 선택 조회</span>
<span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByCareerLevelAndJobType</span><span class="token punctuation">(</span><span class="token class-name">CareerLevel</span> careerLevel<span class="token punctuation">,</span> <span class="token class-name">JobType</span> jobType<span class="token punctuation">,</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 8. 직군 선택 조회</span>
<span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByJobType</span><span class="token punctuation">(</span><span class="token class-name">JobType</span> jobType<span class="token punctuation">,</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>다음과 같이 모든 경우의 수에 대응할 수 있도록 Repository에서 모두 구현해보았습니다. 조건의 유무에 따라 사용되는 쿼리가 다르니 사용할 수 있는 메서드를 모두 만들어줘야 하는 상황입니다.</p>
<p>그런데 Repository의 함수만 늘어나는 것일까요? 이를 호출하는 Service 레이어에서도 들어오는 요청에 따라서 알맞은 Repository 함수를 호출하는 분기 처리가 되어야 합니다. 극단적인 예시일 수 있으나 이를 사용하는 서비스 로직을 잠시 살펴보겠습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token comment">// 1번</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> careerLevel <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> jobType <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    slice <span class="token operator">=</span> memberRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span>pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 2번</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> careerLevel <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> jobType <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    slice <span class="token operator">=</span> memberRepository<span class="token punctuation">.</span><span class="token function">findByGitHubId</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">,</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  
<span class="token comment">// 8번</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> careerLevel <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> jobType <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    slice <span class="token operator">=</span> memberRepository<span class="token punctuation">.</span><span class="token function">findByJobType</span><span class="token punctuation">(</span>jobType<span class="token punctuation">,</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>현재는 8개의 경우의 수이기 때문에 아직은 분기 처리할 수 있고, 모두 정의하고 사용하는 것이 좋을 수도 있습니다. 하지만, 주석이 없다면 어떤 조건에서 실행되는 함수인지 판단하기 힘들 것이고 반복되는 코드가 증가하고 있는 모습을 볼 수 있습니다. 또한 서비스의 정책으로 회원의 검색조건이 추가된다면 기하급수적으로 생성해야 할 함수들이 늘어나기 때문에 관리하기 점점 어려울 것입니다.</p>
<p>이러한 단점을 해결하기 위해 <strong>JPA의 동적 쿼리</strong>를 활용하기로 했습니다. JPA에서 동적 쿼리를 생성하는 방법은 JPQL, Criteria, Specification, Querydsl 이렇게 4가지가 있습니다. 예시를 보면서 각각의 장단점을 알아보겠습니다.</p>
<h2>JPQL</h2>
<p>JPA에서는 JPQL을 통해 동적쿼리를 생성할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findWithSearchConditions</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> gitHubId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">CareerLevel</span> careerLevel<span class="token punctuation">,</span>
                                                  <span class="token keyword">final</span> <span class="token class-name">JobType</span> jobType<span class="token punctuation">,</span>
                                                  <span class="token keyword">final</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 조건에 따라서 where문을 다르게 가지는 JPQL 생성</span>
    <span class="token class-name">String</span> jpql <span class="token operator">=</span> <span class="token string">&quot;select m from Member m&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> whereSql <span class="token operator">=</span> <span class="token string">&quot; where &quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> whereCondition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        whereCondition<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;m.gitHubId like concat(&#x27;%&#x27;,:gitHubId,&#x27;%&#x27;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>careerLevel <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        whereCondition<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;m.careerLevel = :careerLevel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        whereCondition<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;m.jobType = :jobType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>whereCondition<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        jpql <span class="token operator">+=</span> whereSql<span class="token punctuation">;</span>
        jpql <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot; and &quot;</span><span class="token punctuation">,</span> whereCondition<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    jpql <span class="token operator">+=</span> whereSql<span class="token punctuation">;</span>
    jpql <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot; and &quot;</span><span class="token punctuation">,</span> whereCondition<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
    <span class="token comment">// 조건에 따라서 각각의 where문에 parameter 설정</span>
    <span class="token class-name">TypedQuery</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> query <span class="token operator">=</span> entityManager<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>jpql<span class="token punctuation">,</span> <span class="token class-name">Member</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        query<span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token string">&quot;gitHubId&quot;</span><span class="token punctuation">,</span> gitHubId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>careerLevel <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        query<span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token string">&quot;careerLevel&quot;</span><span class="token punctuation">,</span> careerLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        query<span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token string">&quot;jobType&quot;</span><span class="token punctuation">,</span> jobType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> members <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">setFirstResult</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> pageable<span class="token punctuation">.</span><span class="token function">getOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setMaxResults</span><span class="token punctuation">(</span>pageable<span class="token punctuation">.</span><span class="token function">getPageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">getResultList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">toSlice</span><span class="token punctuation">(</span>pageable<span class="token punctuation">,</span> members<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> slice <span class="token operator">=</span> memberRepository<span class="token punctuation">.</span><span class="token function">findWithSearchConditions</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">,</span> careerLevel<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>if 문이 많고 함수가 복잡해 보이지만, 동적 쿼리를 이용하지 않을 때와 비교해서 Repository의 메서드와 Service의 코드가 줄어들었습니다.</p>
<p>하지만 여전히 단점은 존재합니다. 각 조건에 따라서 if 문을 사용한 방식으로 쿼리를 생성하고 있지만, 문자열을 통해서 하고 있다는 것입니다. 문자열을 통해서 쿼리를 만들게 되면 작성한 문자열 쿼리 중 띄어쓰기 혹은 알파벳의 오류가 있을 경우 이를 컴파일 타임에서 잡아주지 못한다는 단점이 존재합니다. 즉, 쿼리를 동적으로 생성하다 보니 개발자가 실수할 수 있는 포인트는 더 늘어났지만 쿼리를 실행하기 전까지는 오류를 찾을 수 없다는 것이죠.</p>
<h2>Criteria</h2>
<p>Criteria는 JPQL을 문자열이 아닌 자바 코드로 작성하도록 도와주는 빌더 클래스 API입니다. 문법적인 오류를 컴파일 단계에서 잡을 수 있으므로 JPQL보다 좀 더 안전하게 동적 쿼리를 생성할 수 있도록 도와줍니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findWithSearchConditions</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> gitHubId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">CareerLevel</span> careerLevel<span class="token punctuation">,</span>
                                                  <span class="token keyword">final</span> <span class="token class-name">JobType</span> jobType<span class="token punctuation">,</span>
                                                  <span class="token keyword">final</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">CriteriaBuilder</span> builder <span class="token operator">=</span> entityManager<span class="token punctuation">.</span><span class="token function">getCriteriaBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">CriteriaQuery</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> cq <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span><span class="token class-name">Member</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Root</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> root <span class="token operator">=</span> cq<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">Member</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Predicate</span><span class="token punctuation">&gt;</span></span> predicates <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        predicates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;gitHubId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;%&quot;</span> <span class="token operator">+</span> gitHubId <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>careerLevel <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        predicates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;careerLevel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> careerLevel<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        predicates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;jobType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> jobType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cq<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>predicates<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Predicate</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">TypedQuery</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> query <span class="token operator">=</span> entityManager<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>cq<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> members <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">setFirstResult</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> pageable<span class="token punctuation">.</span><span class="token function">getOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setMaxResults</span><span class="token punctuation">(</span>pageable<span class="token punctuation">.</span><span class="token function">getPageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">getResultList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">toSlice</span><span class="token punctuation">(</span>pageable<span class="token punctuation">,</span> members<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>JPQL을 이용해서 동적쿼리를 생성하는 것보다 훨씬 간단해졌습니다. 또한 문자열을 통해서 쿼리를 생성하지 않아 개발자가 실수할 수 있는 포인트도 줄었습니다. 이처럼 JPA에서 제공하는 Critera를 사용하게 되면 동적 쿼리를 더 간단하고 안전하게 생성할 수 있다는 장점이 있습니다.</p>
<p>하지만 쿼리를 생성하기 위한 코드가 어려워졌습니다. 그리고 생성해야 하는 <code class="language-text">Predicate</code>가 많아진다면 관리하기 어려워지고 직관적으로 이해하기 힘들다는 단점이 발생합니다.</p>
<h2>JPA Specification &amp; Criteria</h2>
<p>Spring Data JPA에서는 Criteria의 사용성을 높이기 위해서 <code class="language-text">org.springframework.data.jpa.domain.Specification</code>으로 해결법을 제공하고 있습니다. Specification을 사용하기 위해서는 Repository에서 <code class="language-text">org.springframework.data.jpa.repository.JpaSpecificationExecutor</code>을 상속 받아야 합니다.</p>
<p>Specifiation을 사용한 동적 쿼리를 방식을 살펴보겠습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MemberRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">JpaSpecificationExecutor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token class-name">Specification</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> spec<span class="token punctuation">,</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> slice <span class="token operator">=</span> memberRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token class-name">MemberSpec</span><span class="token punctuation">.</span><span class="token function">searchWith</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">,</span> careerLevel<span class="token punctuation">,</span> jobType<span class="token punctuation">)</span><span class="token punctuation">,</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>기존의 Spring Data JPA와 달라진 점은 <code class="language-text">Specification&lt;Member&gt; spec</code>을 받아서 사용하고 있다는 점입니다. Specification을 이용해서 동적 쿼리를 구현할 수 있게 되는 것입니다. 동적 쿼리를 이용했기 때문에 Service 로직도 깔끔해진 모습을 볼 수 있습니다.</p>
<p>파라미터로 사용되는 Specification을 생성하는 코드도 함께 보겠습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Specification</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchWith</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> gitHubId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">CareerLevel</span> careerLevel<span class="token punctuation">,</span>
                                                   <span class="token keyword">final</span> <span class="token class-name">JobType</span> jobType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> query<span class="token punctuation">,</span> builder<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Predicate</span><span class="token punctuation">&gt;</span></span> predicates <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            predicates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;gitHubId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;%&quot;</span> <span class="token operator">+</span> gitHubId <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>careerLevel <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            predicates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;careerLevel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> careerLevel<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            predicates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;jobType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> jobType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>predicates<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Predicate</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">MemberSpec</code> 클래스를 만들고 정적 메서드를 활용해서 다양한 검색 조건을 조합해서 생성해주는 모습을 볼 수 있습니다. Criteria만 활용하는 것보다 코드가 훨씬 간단해진 모습을 볼 수 있습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">CriteriaBuilder</span> builder <span class="token operator">=</span> entityManager<span class="token punctuation">.</span><span class="token function">getCriteriaBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CriteriaQuery</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> cq <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span><span class="token class-name">Member</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Root</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> root <span class="token operator">=</span> cq<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">Member</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>위와 같은 CriteriaQuery를 작성을 위한 준비 코드를 작성하지 않아도 되고, Spring Data JPA를 활용한 쿼리를 사용할 수 있으니 이전보다 보기 좋고 쉬운 코드가 완성되었습니다.</p>
<p>하지만 여전히 Criteria를 통한 동적 쿼리 생성 방식은 복잡하고 장황해 보입니다. 무엇보다 코드의 형태가 SQL스럽지 않습니다.</p>
<h2>Querydsl</h2>
<p>Querydsl은 Criteria의 복잡함을 개선할 수 있는 JPQL 빌더 역할을 하는 오픈 소스 프로젝트입니다. 문자열이 아닌 자바 코드로 쿼리를 생성하는 것임에도 불구하고, 더 쉽고 간결하며 형태도 SQL과 비슷하게 개발할 수 있다는 것이 Querydsl의 장점입니다.</p>
<p>Querydsl을 활용해서 동적 쿼리를 만드는 코드를 살펴보겠습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findWithSearchConditions</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> gitHubId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">CareerLevel</span> careerLevel<span class="token punctuation">,</span>
                                                  <span class="token keyword">final</span> <span class="token class-name">JobType</span> jobType<span class="token punctuation">,</span>
                                                  <span class="token keyword">final</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BooleanBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BooleanBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>member<span class="token punctuation">.</span>gitHubId<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>careerLevel <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>member<span class="token punctuation">.</span>careerLevel<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>careerLevel<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>member<span class="token punctuation">.</span>jobType<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>jobType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">JPAQuery</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> jpaQuery <span class="token operator">=</span> jpaQueryFactory<span class="token punctuation">.</span><span class="token function">selectFrom</span><span class="token punctuation">(</span>member<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>pageable<span class="token punctuation">.</span><span class="token function">getOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>pageable<span class="token punctuation">.</span><span class="token function">getPageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token function">makeOrderSpecifiers</span><span class="token punctuation">(</span>member<span class="token punctuation">,</span> pageable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">toSlice</span><span class="token punctuation">(</span>pageable<span class="token punctuation">,</span> jpaQuery<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Criteria와 비교했을 때 불필요한 <code class="language-text">Predicate</code>를 생성하는 과정이 없어 더 간결하고 가독성이 좋아졌습니다. 그리고 더 SQL스럽게 코드가 작성된 것을 볼 수 있습니다.</p>
<p>하지만 여전히 <code class="language-text">BooleanBuilder</code>를 통해서 조건을 생성하는 코드가 있어서 코드가 복잡해 보입니다. Querydsl에서도 Specification을 사용한 것과 마찬가지로 <code class="language-text">BooleanBuilder</code>를 생성하는 과정을 분리하면 최종적으로는 다음과 같은 코드가 완성됩니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">Slice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> <span class="token function">findWithSearchConditions</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> gitHubId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">CareerLevel</span> careerLevel<span class="token punctuation">,</span>
                                               <span class="token keyword">final</span> <span class="token class-name">JobType</span> jobType<span class="token punctuation">,</span>
                                               <span class="token keyword">final</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">JPAQuery</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">&gt;</span></span> jpaQuery <span class="token operator">=</span> jpaQueryFactory<span class="token punctuation">.</span><span class="token function">selectFrom</span><span class="token punctuation">(</span>member<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>
                    <span class="token function">toContainsExpression</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token function">eqCareerLevel</span><span class="token punctuation">(</span>careerLevel<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token function">eqJobType</span><span class="token punctuation">(</span>jobType<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>pageable<span class="token punctuation">.</span><span class="token function">getOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>pageable<span class="token punctuation">.</span><span class="token function">getPageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token function">makeOrderSpecifiers</span><span class="token punctuation">(</span>member<span class="token punctuation">,</span> pageable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">toSlice</span><span class="token punctuation">(</span>pageable<span class="token punctuation">,</span> jpaQuery<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token class-name">BooleanExpression</span> <span class="token function">toContainsExpression</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> gitHubId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> member<span class="token punctuation">.</span>gitHubId<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>gitHubId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token class-name">BooleanExpression</span> <span class="token function">eqCareerLevel</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">CareerLevel</span> careerLevel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>careerLevel <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> member<span class="token punctuation">.</span>careerLevel<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>careerLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token class-name">BooleanExpression</span> <span class="token function">eqJobType</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">JobType</span> jobType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> member<span class="token punctuation">.</span>jobType<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>jobType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Where 문에 어떤 조건들이 들어가는지 확인할 수 있어 훨씬 가독성이 좋아졌습니다. 이처럼 Querydsl을 통해서 동적 쿼리를 생성하는 방식이 Spring Data Specification에 비해서 가독성이 더 좋다는 것을 확인해 보았습니다.</p>
<p>하지만 Querydsl에도 단점이 없는 것은 아닙니다. Criteria보다는 쉽지만, SQL 작성을 위해서 새로운 방법에 적응하고 공부하는 시간이 필요하기 마련입니다.
또한 <code class="language-text">Q.Class</code>에 의존하여 쿼리를 생성하는 것도 단점이라고 볼 수 있습니다. <code class="language-text">Q.Class</code>를 생성하는 방법이 Gradle의   플러그인을 활용하는 방법에서 <code class="language-text">Annotation Processor</code>로 바뀐 것처럼 어떤 버전과 빌드 방식을 사용하는가에 따라서 신경을 쓰고 다르게 설정해주어야 하기 때문입니다.</p>
<h2>정리</h2>
<p>지금까지 검색 기능을 개발하기 위해 JPA에서 선택할 수 있는 대안들에 대해서 살펴보았습니다. 프로젝트 초반에는 Service 레이어에서 if 문을 통해서 각 쿼리를 실행하는 것이 직관적이고 코드를 작성하기 편했었습니다. 하지만 검색에 대한 조건이 점차 늘어남에 따라서 동적 쿼리의 필요성을 느꼈습니다.</p>
<p>최종적으로 저희 팀은 Querydsl을 활용해서 동적 쿼리를 생성하는 방법을 선택했습니다. 그 이유는 SQL 문을 생성함에 있어서 컴파일 타임에 오류를 잡아줄 수 있어야 했고, 여러 개발자가 같이 프로젝트를 진행하기 위해서는 가독성이 중요하다고 느꼈기 때문입니다.</p>
<p>프로젝트의 상황에 따라 달라지겠지만, 동적 쿼리의 적용을 고민하는 개발자가 있다면 이 글이 조금이나마 도움이 되었으면 합니다.</p>
<p>긴 글 끝까지 읽어주셔서 감사합니다.</p>
<h2>Reference</h2>
<ul>
<li>김영한 지음, 자바 ORM 표준 JPA 프로그래밍</li>
<li><a href="https://jojoldu.tistory.com/394">이동욱님 블로그 Querydsl 다이나믹 쿼리 사용하기</a></li>
<li><a href="https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/">Spring.io blog Specification and Querydsl</a></li>
<li><a href="https://www.baeldung.com/spring-data-criteria-queries">Baeldung Criteria and Specification</a></li>
</ul></div></section></article></div><div></div></main><style data-emotion="css dcfhc9">.css-dcfhc9{position:relative;padding:0 5vw;}</style><style data-emotion="css 1aa7tg3">.css-1aa7tg3{border-bottom:1px solid rgba(255, 255, 255, 0.1);background:#0a0b0c;position:relative;padding:0 5vw;}.css-1aa7tg3 .post-card{padding-bottom:0;border-bottom:none;}.css-1aa7tg3 .post-card:after{display:none;}.css-1aa7tg3 .post-card-primary-tag{color:#fff;opacity:0.6;}.css-1aa7tg3 .post-card-title{color:#fff;opacity:0.8;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1aa7tg3 .post-card:hover .post-card-image{opacity:1;}.css-1aa7tg3 .post-card-excerpt{color:rgba(255, 255, 255, 0.6);}.css-1aa7tg3 .static-avatar{border-color:#000;}.css-1aa7tg3 .post-card-byline-content{color:rgba(255, 255, 255, 0.6);}.css-1aa7tg3 .post-card-byline-content a{color:rgba(255, 255, 255, 0.8);}.css-1aa7tg3 .author-avatar{border-color:#0a0b0c;}.css-1aa7tg3 .author-profile-image{background:#0a0b0c;}@media (max-width: 650px){.css-1aa7tg3 .post-card{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:25px;padding:25px 0 0;border-bottom:1px solid rgba(255, 255, 255, 0.1);}}</style><aside class="read-next css-1aa7tg3 edbrc111"><div class="css-y521qa"><style data-emotion="css 1ehfk3g">.css-1ehfk3g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -25px;padding:60px 0 0 0;}</style><div class="read-next-feed css-1ehfk3g edbrc110"><style data-emotion="css 1gm6nmw">.css-1gm6nmw{position:relative;-webkit-flex:0 1 326px;-ms-flex:0 1 326px;flex:0 1 326px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 25px 50px;padding:25px;background:linear-gradient(
    #1a1c20,
    #0a0b0c
  );border-radius:3px;}.css-1gm6nmw a{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1gm6nmw a:hover{-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 1170px){.css-1gm6nmw{-webkit-flex:1 1 261px;-ms-flex:1 1 261px;flex:1 1 261px;margin-bottom:5vw;}}@media (max-width: 650px){.css-1gm6nmw{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:0 25px;padding:0;background:none;}}</style><article class="read-next-card css-1gm6nmw evrb5ym4"><header class="read-next-card-header"><style data-emotion="css 1wo4mzo">.css-1wo4mzo{margin:0;color:rgba(255, 255, 255, 0.6);font-size:1.2rem;line-height:1em;font-weight:300;letter-spacing:0.4px;text-transform:uppercase;}.css-1wo4mzo a{color:#fff;font-weight:500;-webkit-text-decoration:none;text-decoration:none;opacity:0.8;}.css-1wo4mzo a:hover{opacity:1;}</style><h3 class="css-1wo4mzo evrb5ym3"><span>More in</span> <a href="/tags/jpa/">JPA</a></h3></header><style data-emotion="css ejekmm">.css-ejekmm{font-size:1.7rem;}.css-ejekmm ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0;padding:0;list-style:none;}.css-ejekmm li{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin:0;padding:20px 0;border-bottom:rgba(255, 255, 255, 0.1);}.css-ejekmm li:last-of-type{padding-bottom:5px;border:none;}.css-ejekmm h4{margin:0;font-size:1.6rem;line-height:1.35em;font-weight:600;}.css-ejekmm li a{display:block;color:#fff;opacity:0.8;}.css-ejekmm li a:hover{opacity:1;}</style><div class="read-next-card-content css-ejekmm evrb5ym2"><ul><li><h4><a href="/post/2023-11-01-jpa-fetch-join/">JPA가 Fetch Join에 대한 On절을 지원하지 않는 이유</a></h4><style data-emotion="css f7c4dv">.css-f7c4dv{margin-top:2px;font-size:1.2rem;line-height:1.4em;font-weight:400;}.css-f7c4dv p{margin:0;color:rgba(255, 255, 255, 0.6);}</style><div class="read-next-card-meta css-f7c4dv evrb5ym1"><p><time dateTime="2023-11-23">23 Nov 2023</time> - <!-- -->6<!-- --> min read</p></div></li><li><h4><a href="/post/2023-10-04-spatial-data/">공간 데이터 개념부터 적용까지</a></h4><div class="read-next-card-meta css-f7c4dv evrb5ym1"><p><time dateTime="2023-10-24">24 Oct 2023</time> - <!-- -->14<!-- --> min read</p></div></li><li><h4><a href="/post/2023-08-14-JPA-Cascade/">JPA Cascade는 무엇이고 언제 사용해야 할까?</a></h4><div class="read-next-card-meta css-f7c4dv evrb5ym1"><p><time dateTime="2023-10-16">16 Oct 2023</time> - <!-- -->5<!-- --> min read</p></div></li></ul></div><style data-emotion="css qqvtec">.css-qqvtec{position:relative;margin:40px 0 5px;}.css-qqvtec a{padding:7px 12px 8px 14px;border:1px solid rgba(255, 255, 255, 0.6);color:rgba(255, 255, 255, 0.6);font-size:1.3rem;border-radius:999px;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-qqvtec a:hover{border-color:#fecd35;color:#fecd35;-webkit-text-decoration:none;text-decoration:none;}</style><footer class="read-next-card-footer css-qqvtec evrb5ym0"><a href="/tags/jpa/">See all 5 posts<!-- --> →</a></footer></article><style data-emotion="css 1yuxrrc">.css-1yuxrrc{position:relative;-webkit-flex:1 1 301px;-ms-flex:1 1 301px;flex:1 1 301px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 0 40px;padding:0 20px 40px;min-height:220px;border-bottom:1px solid #eaeff1;-webkit-background-size:cover;background-size:cover;}@media (prefers-color-scheme: dark){.css-1yuxrrc{border-bottom-color:#2b2f36;}}</style><article class="post-card   css-1yuxrrc"><style data-emotion="css c0hj8a">.css-c0hj8a{position:relative;display:block;overflow:hidden;border-radius:5px 5px 0 0;}</style><a class="post-card-image-link css-c0hj8a" href="/post/2022-10-23-git-merge/"><style data-emotion="css 8kte6t">.css-8kte6t{width:auto;height:200px;background:#c5d2d9 no-repeat center center;-webkit-background-size:cover;background-size:cover;}</style><div class="post-card-image css-8kte6t e17we9q67"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:45.49999999999999%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVR42p2SPUtCcRTG/RLVlzEtbbDaElcbRBfBargWiIgK4l1c3RxEUvA62SLoZoroRSRxU3FWRHAR3355L1y1S2D0DP/z9vCcw/8cAztst1v00HKKPa7rYz0MWrHb7fLmf+Xl6ZnPavVPYlp8nDcoT7PZ5N52h/XawpXJzI3FykexqBL6/T71ep3ZbMZms2E+nzOdTplMJmp9sVgwHo/3DVTBR6cTMR7fdy5IBW5tNlarFYFAgFwuRyaTIRaLkUgkEEWRcDhMr9ejUqng8/kYDAaHCe0PdpLJ5F5QIZlNJnWKUCiEIAi43W68Xq/qB4NBNXa5XHg8HhwOB9Fo9CCYfc9yaTTu/vGL4XDIxdk5kXBEJdRqNdLpNI1Gg1arRalUYjQa0el0yOfzlMtlJElCluWDoIJUKoXckmm32/gFP8vlklMX8OuWTxGVRazXa9VqvrZVLa/ZH4L6c/gvvgG3O3tbZU345AAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/webp" data-srcset="/static/9359128bf3a2e2f005e407b956e41585/b6c78/git-merge.webp 750w,/static/9359128bf3a2e2f005e407b956e41585/b9d8e/git-merge.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/9359128bf3a2e2f005e407b956e41585/228aa/git-merge.png" data-srcset="/static/9359128bf3a2e2f005e407b956e41585/6062a/git-merge.png 750w,/static/9359128bf3a2e2f005e407b956e41585/228aa/git-merge.png 800w" alt="Git Merge cover image"/></picture><noscript><picture><source type="image/webp" srcSet="/static/9359128bf3a2e2f005e407b956e41585/b6c78/git-merge.webp 750w,/static/9359128bf3a2e2f005e407b956e41585/b9d8e/git-merge.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/9359128bf3a2e2f005e407b956e41585/228aa/git-merge.png" srcSet="/static/9359128bf3a2e2f005e407b956e41585/6062a/git-merge.png 750w,/static/9359128bf3a2e2f005e407b956e41585/228aa/git-merge.png 800w" alt="Git Merge cover image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div></a><style data-emotion="css 1lh7kdz">.css-1lh7kdz{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="post-card-content css-1lh7kdz e17we9q66"><style data-emotion="css 1fjrpmt">.css-1fjrpmt{position:relative;display:block;color:#15171A;}.css-1fjrpmt:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="post-card-content-link css-1fjrpmt" href="/post/2022-10-23-git-merge/"><style data-emotion="css 1w0j2bn">.css-1w0j2bn{margin:15px 0 0;}</style><header class="post-card-header css-1w0j2bn e17we9q60"><style data-emotion="css mmf1tx">.css-mmf1tx{height:25px;margin:0 0 0.2em;color:#3eb0ef;font-size:1.7rem;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;}</style><div class="post-card-primary-tag css-mmf1tx e17we9q65">#git</div><style data-emotion="css 3lgx4i">.css-3lgx4i{margin:0 0 0.4em;line-height:1.15em;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}@media (prefers-color-scheme: dark){.css-3lgx4i{color:rgba(255, 255, 255, 0.85);}}</style><h2 class="post-card-title css-3lgx4i e17we9q64">Git Merge</h2></header><style data-emotion="css 10mgfrl">.css-10mgfrl{font-family:Georgia,serif;}@media (prefers-color-scheme: dark){.css-10mgfrl{color:#90a2aa!important;}}</style><section class="post-card-excerpt css-10mgfrl e17we9q63"><p>와  branch로 merge 관련된 여러 개념을 이해해봅시다!  : base branch  :  branch에서 나눠진 하위 branch 오늘 생각해볼 내용은 이렇습니다. merge fast-forward merge non fast-forward…</p></section></a><style data-emotion="css 143c7df">.css-143c7df{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0;}</style><footer class="post-card-meta css-143c7df e17we9q62"><ul class="author-list css-12fmpzj e1y81fg50"><li class="author-list-item css-rzestn ekzlxzj1"><style data-emotion="css 1ub0qw9">.css-1ub0qw9{position:absolute;bottom:105%;z-index:999;display:block;padding:2px 8px;color:white;font-size:1.2rem;letter-spacing:0.2px;white-space:nowrap;background:#15171A;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.03) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:translateY(6px);-moz-transform:translateY(6px);-ms-transform:translateY(6px);transform:translateY(6px);pointer-events:none;}@media (max-width: 700px){.css-1ub0qw9{display:none;}}</style><div class="author-name-tooltip css-1ub0qw9 ekzlxzj0">4기_무비</div><a class="author-avatar css-1smzq71" href="/author/4-기-무비/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:100%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAkHBgj/xAAVAQEBAAAAAAAAAAAAAAAAAAAAA//aAAwDAQACEAMQAAABn5ontLgaUnOoqNt3YJVg/8QAHBAAAgIDAQEAAAAAAAAAAAAABAUCBgEDBxUW/9oACAEBAAEFAkXHWGmV1onqmkchso8wGKD6Hp63aqtxlwXglc7RKCxbDKOWVl35nYf/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAlEAACAQMFAQACAwEAAAAAAAABAgMEERIABRMhMSIGIxQyQXH/2gAIAQEABj8CpK/dKoIJFSalpqYQSyzlhkqYyVMbhuO8uOHilVyk+dQbcNxCbnHTfyKWjwVnqIZGmeNYzJLCA3F+zA/50rZfOsGaD+oYdO/TeXMeSXt6ATbw96/GYaueE76m0QwiHl+BNHCAkcjD4R3fuFrd/du9bJ+QCFzQE7fTS1Iu8cbKc1y9VEYkqrNb7UAehtVEM5kL88zhY0DCOIyMsMfo7ESof+Ea23cqigpZa5pKaqNS8Mbzc91IcSMpdcbALZhYDVbQtDA9KVoH4ZIldOSeWXkcBr2J4lFhZPWxzOWt6LRU5tuNTGv6U+UhfhRR1fpUHpJJub6//8QAGhABAQEBAQEBAAAAAAAAAAAAAREhMQBBUf/aAAgBAQABPyFI+3KLPsPDYS9j30ERBJeqPID1NsbontGGqtIfGlm/pblymYRJ2BpWg2ChQNBQIZIfRRmElCZ1XfWXqHpJ85GSbvlINcsLQL+7Jr5EOsZu9cF1bW0B/9oADAMBAAIAAwAAABADxzz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAXEAEBAQEAAAAAAAAAAAAAAAABEQAh/9oACAEBAAE/EAhGfvBk2dETPk8sE69AkEpN83H+ZDhpAW/JEJbXlX8cuC7tkUkmLaSl3ckGP7SFmxdqTfS4IJvwUoKMk2gsA9FO6ln4arB3UDjmEGixhga//9k=" alt=""/><picture><source type="image/webp" data-srcset="/static/601e073dfdd23d0ede613fa259da3397/b5c5b/movie.webp 460w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/601e073dfdd23d0ede613fa259da3397/37851/movie.jpg" data-srcset="/static/601e073dfdd23d0ede613fa259da3397/37851/movie.jpg 460w" alt="4기_무비"/></picture><noscript><picture><source type="image/webp" srcSet="/static/601e073dfdd23d0ede613fa259da3397/b5c5b/movie.webp 460w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/601e073dfdd23d0ede613fa259da3397/37851/movie.jpg" srcSet="/static/601e073dfdd23d0ede613fa259da3397/37851/movie.jpg 460w" alt="4기_무비"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></li></ul><style data-emotion="css 1rrg0pi">.css-1rrg0pi{-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:4px 0 0 10px;color:#90a2aa;font-size:1.2rem;line-height:1.4em;font-weight:400;letter-spacing:0.2px;text-transform:uppercase;}.css-1rrg0pi span{margin:0;}.css-1rrg0pi a{color:#434952;font-weight:600;}@media (prefers-color-scheme: dark){.css-1rrg0pi a{color:rgba(255, 255, 255, 0.75);}}</style><div class="post-card-byline-content css-1rrg0pi e17we9q61"><span><a href="/author/4-기-무비/">4기_무비</a></span><span class="post-card-byline-date"><time dateTime="2022-10-23">23 Oct 2022</time> <span class="bull">•</span> <!-- -->5<!-- --> min read</span></div></footer></div></article><article class="post-card   css-1yuxrrc"><a class="post-card-image-link css-c0hj8a" href="/post/2022-10-24-openID-Oauth/"><div class="post-card-image css-8kte6t e17we9q67"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:67.11409395973155%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA6ElEQVR42s2Sv0vDQBiG+987ZMwU0CVrcMyQxS2psQSCkA4RJRl616j0B6RcY3v3WCLFYhulUFoPXu6+j+P5Xu69HidevfMAjfnSKYBmA9pqt+669zvQ6HbTowfM9OXb7Q7kOIcbYDVbMrm7QgxueZ8rpBTkeY5SiqZpWtV1TZIklGV5GLid/FpJhs8jeLxhPgyopgvi+z6u6+J5HrZt4zgOvu9jWRZBELQDOh0u1YKnUjLpX8Nb1vbGY0kcx0RRRJqmZFmGEIIwDCmK4u9QVus1q4/m5/PtBXJUyl2pa633zhf62P8J+AnZpffx/FrygwAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/webp" data-srcset="/static/f07050de231f4d8aa0d5c79b9fbcd2d4/064ad/openid.webp 750w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/657d1/openid.webp 1080w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/5132b/openid.webp 1366w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/531ba/openid.webp 1490w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/f07050de231f4d8aa0d5c79b9fbcd2d4/aa4f4/openid.png" data-srcset="/static/f07050de231f4d8aa0d5c79b9fbcd2d4/49383/openid.png 750w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/66072/openid.png 1080w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/16b80/openid.png 1366w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/aa4f4/openid.png 1490w" alt="OpenID와 OAuth2.0 cover image"/></picture><noscript><picture><source type="image/webp" srcSet="/static/f07050de231f4d8aa0d5c79b9fbcd2d4/064ad/openid.webp 750w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/657d1/openid.webp 1080w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/5132b/openid.webp 1366w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/531ba/openid.webp 1490w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/f07050de231f4d8aa0d5c79b9fbcd2d4/aa4f4/openid.png" srcSet="/static/f07050de231f4d8aa0d5c79b9fbcd2d4/49383/openid.png 750w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/66072/openid.png 1080w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/16b80/openid.png 1366w,/static/f07050de231f4d8aa0d5c79b9fbcd2d4/aa4f4/openid.png 1490w" alt="OpenID와 OAuth2.0 cover image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div></a><div class="post-card-content css-1lh7kdz e17we9q66"><a class="post-card-content-link css-1fjrpmt" href="/post/2022-10-24-openID-Oauth/"><header class="post-card-header css-1w0j2bn e17we9q60"><div class="post-card-primary-tag css-mmf1tx e17we9q65">#OpenID</div><h2 class="post-card-title css-3lgx4i e17we9q64">OpenID와 OAuth2.0</h2></header><section class="post-card-excerpt css-10mgfrl e17we9q63"><p>…</p></section></a><footer class="post-card-meta css-143c7df e17we9q62"><ul class="author-list css-12fmpzj e1y81fg50"><li class="author-list-item css-rzestn ekzlxzj1"><div class="author-name-tooltip css-1ub0qw9 ekzlxzj0">4기_써머</div><a class="author-avatar css-1smzq71" href="/author/4-기-써머/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:100%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVR42gHEBDv7AIGQmF1zZElnLkNZNGhwb1pfVlZjSVhfVlBiRo2QikNPQXyBdcXFwicnJxYYGB0fHTIxK0pFPWBfSV5pUACuu811hoYhMx04TjN0g3pUWU9hbUppb2thbk+WnJZYWE+AfnfDxMM3NjY8OzlYUU1pYFZlZlJdd1V0hWcAZoNdWW9QPlE1UmhJeod+Z2xofIqJkJahkZabnaisY2JhiomKwsbFWV1QbnJhbHFYXW5EYXxCb4dKb4BMAGh6Rk1fOD9INU1aSHB4c1ljaFBZakhKVUVKVFJYYUdLSoKEgbe4tmtvXnZ8aGFyUWB2T2d0V3mDZ3qBaABqfERHU0UdLh0tPy93f3xGREMYFRoTExRALig6NjVVY01TWk9NTU9RUUtdbVNXbFJdaVmOjYudnpycm5wAZmtbWV9dT1VLV19XioeBUEtICxEURjo11pSClnx4UmlMPkk3MjM3Pj85TV8+XGlNdXhkjI57k5J/dXxmAMm9sMW5rLmto66jmKOblUdCQwULDzMrKapzYK+WjaWcmKedmqiem62in7Wrp760r8K4s8K5tMS6sqmmlADW3cvY3svc3srn4c21q5w0LzFJP0IdGyGOf3Xu3Mbk1MHZyLbQvanUvqzTu6vOuazKuq/Kv7PGvrfWyMQAz9rFztnE0NbD2dvJcW5mkIyR9eDhPTI4cnFr39vC3dW9io6El5iL7uDF4dG54dG328evhXJoTVxWsaaRAM/ZxMnUv9DZxbG3pVBIR8S6vvnSz4R4f1ZRTsjBqa+rk6OgjqCcice8pdfOt9vTvs7EsZiIfYB7cbenkQDZ2MXR1L7d4MmGhnpRS1DTvb7zw76xoqksKCypiXrDpZOilod3dWqYjnuzqo+poYqajX3Cq5LMs5fNspcA0NS9y8y20c64tLGdpZmX0L7B6NLTwLe8UEdJkn5trJB9c2hhTktIeG5jqZGDinFtXE9NbGtmhoR8wLulAMS6pL2znLitmMC0nsmyrMOwtOPq8dvJy7ehoLGllKOgiraohqSdgFhaUplKVIUpOXJWTqOeiKOejr22ogC1p5Kzo5GpooyhnYnKsq7Bn57ApaHKn5bgqp64nY+Ti3PGwFufj2FxOk9eIjAlFBs5RkiNioaSko+koJcAcmhnWVhYg3l1sqKRx7e1x7G0qYJ/rHt0x5KHuIl+vY+F0bCd12919yBKxAMlhR0vdic9Tk9TjISCdnNzAIBLV19MVHdiZKuIh9PFy8y5wMOzurqpsL+us6aMizw0PJ57edyQhM4hPIchNZkiON4WOr4xSdhSaeJzhABxV19jdHhgaW49QkZ6c3nYusDYytTZusDTuL/Pt7dDQUoYHSa9komcWlqUCiOIHDCBMkL/c4r/aIHsRWEAnUFSdUFPSTU/LCsxJzA2bGZtzbS+58LI3re64MrQdG10LCUmz5eLuId+GBYbHCwujURR/05q/0Rjk0FLAL9UZ7JGWIE0Qlk1PngvQH8xRH9pdriEkeOcoNzIzZN4eRgTFLd9b6t4bhocHTExNnRCS4pRW4tIVVhVUQDNbXvTZHXJaHWiUF6ZU2Kka36VcIHSeYvtkp2UeX4hIyc5KSfhoJKDZ2MtMTQuLjInLzEjLjIjMzY+QUVyB1aw3QgH1AAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/webp" data-srcset="/static/024b7ba0135427ca042dca2c37f88030/b5c5b/summer.webp 460w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/024b7ba0135427ca042dca2c37f88030/24f3d/summer.png" data-srcset="/static/024b7ba0135427ca042dca2c37f88030/24f3d/summer.png 460w" alt="4기_써머"/></picture><noscript><picture><source type="image/webp" srcSet="/static/024b7ba0135427ca042dca2c37f88030/b5c5b/summer.webp 460w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/024b7ba0135427ca042dca2c37f88030/24f3d/summer.png" srcSet="/static/024b7ba0135427ca042dca2c37f88030/24f3d/summer.png 460w" alt="4기_써머"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></li></ul><div class="post-card-byline-content css-1rrg0pi e17we9q61"><span><a href="/author/4-기-써머/">4기_써머</a></span><span class="post-card-byline-date"><time dateTime="2022-10-24">24 Oct 2022</time> <span class="bull">•</span> <!-- -->3<!-- --> min read</span></div></footer></div></article></div></div></aside><style data-emotion="css 1turcvg">.css-1turcvg{position:relative;padding:0 5vw;position:relative;padding-top:20px;padding-bottom:60px;color:#fff;background:#000;}</style><footer class="css-1turcvg"><style data-emotion="css 1d3gyi8">.css-1d3gyi8{margin:0 auto;max-width:1040px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(255, 255, 255, 0.7);font-size:1.3rem;}.css-1d3gyi8 a{color:rgba(255, 255, 255, 0.7);}.css-1d3gyi8 a:hover{color:rgba(255, 255, 255, 1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 650px){.css-1d3gyi8{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-1d3gyi8"><section class="copyright"><a href="/">Tecoble</a> © <!-- -->2023<!-- --> <a href="/">| <!-- -->Tecoble<!-- --> <!-- -->is based on woowacourse</a></section><style data-emotion="css pwtbz1">.css-pwtbz1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-pwtbz1 a{position:relative;margin-left:20px;}.css-pwtbz1 a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-pwtbz1 a:first-of-type:before{display:none;}@media (max-width: 650px){.css-pwtbz1 a:first-of-type{margin-left:0;}}</style><nav class="css-pwtbz1 e19to57e0"><a href="/">Latest Posts</a><a href="https://github.com/scttcper/gatsby-casper" target="_blank" rel="noopener noreferrer">Casper</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7YLT36LV0M"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7YLT36LV0M', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/2022-10-11-jpa-dynamic-query/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-f868b9a2cfcc7d3f8a88.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-6b6465e9bd58f2a527bc.js\"],\"component---src-templates-author-tsx\":[],\"component---src-templates-index-tsx\":[\"/component---src-templates-index-tsx-5a0d030db642605a32bf.js\"],\"component---src-templates-post-tsx\":[\"/component---src-templates-post-tsx-f43acd1f7a8c92440a7c.js\"],\"component---src-templates-tags-tsx\":[\"/component---src-templates-tags-tsx-9f42085b0817aae400a6.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="ff32212908a9f1525254";</script><script src="/webpack-runtime-c4948ce4939a2c9854e7.js" async></script><script src="/framework-6abcadde3b049d27c933.js" async></script><script src="/app-f868b9a2cfcc7d3f8a88.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>