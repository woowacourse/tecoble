<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.27.0"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://tecoble.techcourse.co.kr/post/2022-10-15-test-code-optimization/" data-baseprotocol="https:" data-basehost="tecoble.techcourse.co.kr"/><title data-react-helmet="true">테스트코드 성능 개선기</title><link data-react-helmet="true" rel="icon" href="data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjhJREFUeNrEV4uRgkAMzdmAlGAJdqDXgSVYgiXQgSVYgiWgFYAVYAdqBXv7kDAhhGVFPDOT8QObvPyzRDU55xLPqefSfY7KWkdCkmrlufs/yhnET/0l87ykCLper1QUBV0uF7rf79Xv5fJ5dLVa0Xq9pkgqPP9S7ZInrDx3m83GwSlJkrg0bR65LMucF149CzHObbdbV5ZRkUyJY3673arDWuBut6ve5N8QfjgcOgoAcL/fO++N5l1pQF9OUAPFv9xnFZRBQaRV1bsMBJ8wro8aAOx6iyFwDMFbQyCiPdBnKRi500cIF2Qgf4IAoMTKAXhGK7W8FUo+9oSVE9QqTm/JYrFoJRy7Dp8saKgKYLUmyMUzHQqKjWcoRyzWIOA5ywtkvaRjGsqPkCd0OOAFcC8AdrE82NcfYhjyLEOkgS0AyFSUjJXFY9nyMBoW00w259PpRN5FrYZ9Pp/pHYJMJp4Tj8ej+W+mD/BgkcNnapIyZ/Rl6gDAqJWkQzIFSZktAIiRdjlm/Dsk9wPOh/l8bgNA/OEBCcI3IPJlOEq5L0MzoVtLiyyT4/HYKZMpGxHKPNiI+rrVFK2YB54G1QHA1uqePXYYQQ53UjncgsOItxlrzr8yjq0uqtuzCQCKIRAcWjaGFhIL6GAOaPQAMXYlw0KrAehZE9wHUBUyfq8spagk9qQEAJkaQFAqlMr7QOxaDsUcTpwBa+W8lqexVn3iYvLy1QzXMbRUXM14drx1Nfv25ZS+fT3/E2AAsWMCdac8y9AAAAAASUVORK5CYII=" type="image/x-icon"/><meta data-react-helmet="true" name="description" content="들어가며 코드를 수정하면, 검토 요청(PR…"/><meta data-react-helmet="true" property="og:site_name" content="Tecoble"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="테스트코드 성능 개선기"/><meta data-react-helmet="true" property="og:description" content="들어가며 코드를 수정하면, 검토 요청(PR…"/><meta data-react-helmet="true" property="og:url" content="https://post/2022-10-15-test-code-optimization/"/><meta data-react-helmet="true" property="og:image" content="https://static/6d609ab1d3bd75c286e135674c2d0001/e1744/testing-server.jpg"/><meta data-react-helmet="true" property="article:published_time" content="2022-10-27T13:10:00.000Z"/><meta data-react-helmet="true" property="article:tag" content="Test"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="테스트코드 성능 개선기"/><meta data-react-helmet="true" name="twitter:description" content="들어가며 코드를 수정하면, 검토 요청(PR…"/><meta data-react-helmet="true" name="twitter:url" content="https://post/2022-10-15-test-code-optimization/"/><meta data-react-helmet="true" name="twitter:image" content="https://tecoble.techcourse.co.kr//static/6d609ab1d3bd75c286e135674c2d0001/e1744/testing-server.jpg"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="4기_수달"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="Test"/><meta data-react-helmet="true" property="og:image:width" content="1918"/><meta data-react-helmet="true" property="og:image:height" content="699.1419354838711"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-674180cef417bd6b6e8f.js"/><link as="script" rel="preload" href="/framework-2de79c8137b068b61a3a.js"/><link as="script" rel="preload" href="/app-7871a49fb71b5d2fd8af.js"/><link as="script" rel="preload" href="/commons-4c188b18bcaae3f07bde.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-a08628f9047d81b892e4.js"/><link as="fetch" rel="preload" href="/page-data/post/2022-10-15-test-code-optimization/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2130001345.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4041952199.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion="css-global 8s70am">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:inherit;}a{background-color:transparent;}a:active,a:hover{outline:0;}b,strong{font-weight:bold;}i,em,dfn{font-style:italic;}h1{margin:0.67em 0;font-size:2em;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type='button'],input[type='reset'],input[type='submit']{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type='checkbox'],input[type='radio']{box-sizing:border-box;padding:0;}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{height:auto;}input[type='search']{box-sizing:content-box;-webkit-appearance:textfield;}input[type='search']::-webkit-search-cancel-button,input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{overflow:auto;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}body{overflow-x:hidden;color:#303a3e;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:'liga' on;}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed;}audio,canvas,iframe,img,svg,video{vertical-align:middle;}fieldset{margin:0;padding:0;border:0;}textarea{resize:vertical;}p,ul,ol,dl,blockquote{margin:0 0 1.5em 0;}ol,ul{padding-left:1.3em;padding-right:1.5em;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}ul{list-style:disc;}ol{list-style:decimal;}ul,ol{max-width:100%;}li{margin:0.5em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171A;font-weight:500;text-align:right;}dd{margin:0 0 5px 0;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em 0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:300;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote cite{font-weight:bold;}blockquote cite a{font-weight:normal;}a{color:#26a6ed;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:600;text-rendering:optimizeLegibility;}h1{margin:0 0 0.5em 0;font-size:5.5rem;font-weight:600;}@media (max-width: 500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em 0;font-size:2.2rem;}@media (max-width: 500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em 0;font-size:1.8rem;font-weight:500;}@media (max-width: 500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em 0;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}body{background:#fff;}@media (prefers-color-scheme: dark){body{color:rgba(255, 255, 255, 0.75);background:#191b1f;}img{opacity:0.9;}}</style><style data-emotion="css 12e1ozp">.css-12e1ozp .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-12e1ozp .site-main{background:#191b1f;}}</style><style data-emotion="css 159sn72">.css-159sn72{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-159sn72 .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-159sn72 .site-main{background:#191b1f;}}</style><div class="css-159sn72"><header class="site-header"><style data-emotion="css sdrsc">.css-sdrsc{position:relative;padding:0 5vw;position:fixed;top:0;right:0;left:0;z-index:1000;background:#0a0b0c;}@media (max-width: 700px){.css-sdrsc{padding-right:0;padding-left:0;}}</style><div class="css-sdrsc"><style data-emotion="css 1q5n7pp">.css-1q5n7pp{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-1q5n7pp"><style data-emotion="css 1phqi3w">.css-1phqi3w{position:relative;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;overflow-y:hidden;height:64px;font-size:1.3rem;}</style><nav class="css-1phqi3w"><style data-emotion="css vp1an1">.css-vp1an1{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;margin-right:10px;padding:10px 0 80px;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;white-space:nowrap;-ms-overflow-scrolling:touch;}@media (max-width: 700px){.css-vp1an1{margin-right:0;padding-left:5vw;}}</style><div class="site-nav-left css-vp1an1"><style data-emotion="css 1l8e9ha">.css-1l8e9ha{position:relative;z-index:100;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:inline-block;margin-right:32px;padding:12px 0;color:#fff;font-size:1.7rem;line-height:1.8rem;font-weight:bold;letter-spacing:-0.5px;text-transform:none;}.css-1l8e9ha:hover{-webkit-text-decoration:none;text-decoration:none;}.css-1l8e9ha img{display:block;width:auto;height:21px;}</style><a class="site-nav-logo css-1l8e9ha" href="/"><img src="/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png" alt="Tecoble"/></a><style data-emotion="css 1muigz5">.css-1muigz5{position:relative;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;}</style><div class="css-1muigz5"><style data-emotion="css 1gas2t1">.css-1gas2t1{position:absolute;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-1gas2t1 li{display:block;margin:0;padding:0;}.css-1gas2t1 li a{position:relative;display:block;padding:12px 12px;color:#fff;opacity:0.8;-webkit-transition:opacity 0.35s ease-in-out;transition:opacity 0.35s ease-in-out;}.css-1gas2t1 li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-1gas2t1 li a:before{content:'';position:absolute;right:100%;bottom:8px;left:12px;height:1px;background:#fff;opacity:0.25;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-1gas2t1 li a:hover:before{right:12px;opacity:0.5;}</style><ul role="menu" class="css-1gas2t1"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="https://woowacourse.github.io/">woowacourse</a></li></ul><style data-emotion="css ybggi6">.css-ybggi6{visibility:hidden;position:absolute;top:9px;color:#fff;font-size:1.7rem;font-weight:400;text-transform:none;opacity:0;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);-webkit-transform:translateY(175%);-moz-transform:translateY(175%);-ms-transform:translateY(175%);transform:translateY(175%);}.css-ybggi6 .dash{left:-25px;}.css-ybggi6 .dash:before{content:'– ';opacity:0.5;}</style><span class="nav-post-title css-ybggi6">테스트코드 성능 개선기</span></div></div><style data-emotion="css 19iu1ve">.css-19iu1ve{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:10px 0;height:64px;}@media (max-width: 700px){.css-19iu1ve{display:none;}}</style><div class="css-19iu1ve"><style data-emotion="css ienhkd">.css-ienhkd{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-ienhkd"></div></div></nav></div></div></header><style data-emotion="css zqbwy4">.css-zqbwy4{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 5vw;}@media (prefers-color-scheme: dark){.css-zqbwy4{background:#191b1f;}}</style><main id="site-main" class="site-main css-zqbwy4"><div class="css-1q5n7pp"><style data-emotion="css l1e7lw">.css-l1e7lw{position:relative;z-index:50;}</style><article class="css-l1e7lw"><style data-emotion="css rxh1cu">.css-rxh1cu{position:relative;margin:0 auto;padding:70px 170px 50px;border-top-left-radius:3px;border-top-right-radius:3px;}@media (max-width: 1170px){.css-rxh1cu{padding:60px 11vw 50px;}}@media (max-width: 800px){.css-rxh1cu{padding-right:5vw;padding-left:5vw;}}@media (max-width: 500px){.css-rxh1cu{padding:20px 0 35px;}}</style><header class="post-full-header css-rxh1cu"><style data-emotion="css 1ehbhhx">.css-1ehbhhx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:2.5rem;line-height:1.4em;font-weight:600;text-transform:uppercase;}</style><section class="post-full-tags css-1ehbhhx"><a href="/tags/test/">#Test</a><a href="/tags/spring-boot/">, <!-- -->#Spring Boot</a></section><style data-emotion="css qs7bhz">.css-qs7bhz{margin:0 0 0.2em;color:#0b0c0e;}@media (max-width: 500px){.css-qs7bhz{margin-top:0.2em;font-size:3.3rem;}}@media (prefers-color-scheme: dark){.css-qs7bhz{color:rgba(255, 255, 255, 0.9);}}</style><h1 class="post-full-title css-qs7bhz">테스트코드 성능 개선기</h1><style data-emotion="css 1v4p0ul">.css-1v4p0ul{margin:20px 0 0;color:var(--midgrey);font-family:Georgia,serif;font-size:2.3rem;line-height:1.4em;font-weight:300;}@media (max-width: 500px){.css-1v4p0ul{font-size:1.9rem;line-height:1.5em;}}@media (prefers-color-scheme: dark){.css-1v4p0ul{color:#90a2aa;}}</style><p class="post-full-custom-excerpt css-1v4p0ul"></p><style data-emotion="css cp69tq">.css-cp69tq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:35px 0 0;padding-top:15px;border-top:1px solid #e4eaed;}.css-cp69tq .post-full-byline-content{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-cp69tq .post-full-byline-content .author-list{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:0 12px 0 0;}.css-cp69tq .post-full-byline-meta{margin:2px 0 0;color:#90a2aa;font-size:1.2rem;line-height:1.2em;letter-spacing:0.2px;text-transform:uppercase;}.css-cp69tq .post-full-byline-meta h4{margin:0 0 3px;font-size:1.3rem;line-height:1.4em;font-weight:500;}.css-cp69tq .post-full-byline-meta h4 a{color:#2c3036;}.css-cp69tq .post-full-byline-meta h4 a:hover{color:#15171A;}.css-cp69tq .post-full-byline-meta .bull{display:inline-block;margin:0 4px;opacity:0.6;}@media (prefers-color-scheme: dark){.css-cp69tq{border-top-color:#3b4049;}.css-cp69tq .post-full-byline-meta h4 a{color:rgba(255, 255, 255, 0.75);}.css-cp69tq .post-full-byline-meta h4 a:hover{color:#fff;}}</style><div class="post-full-byline css-cp69tq"><section class="post-full-byline-content"><style data-emotion="css teqkql">.css-teqkql{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 0 0 4px;padding:0;list-style:none;}</style><ul class="author-list css-teqkql"><style data-emotion="css 1q168dw">.css-1q168dw{position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin:0;padding:0;}.css-1q168dw:hover .author-name-tooltip{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}</style><li class="author-list-item css-1q168dw"><style data-emotion="css 1xzzdyg">.css-1xzzdyg{position:absolute;bottom:130%;left:50%;z-index:600;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:-200px;width:400px;font-size:1.4rem;line-height:1.5em;background:white;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.06) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:scale(0.98) translateY(15px);-moz-transform:scale(0.98) translateY(15px);-ms-transform:scale(0.98) translateY(15px);transform:scale(0.98) translateY(15px);pointer-events:none;padding:20px 20px 22px;}.css-1xzzdyg:before{content:'';position:absolute;top:100%;left:50%;display:block;margin-left:-8px;width:0;height:0;border-top:8px solid #fff;border-right:8px solid transparent;border-left:8px solid transparent;}.css-1xzzdyg .author-info{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:0 0 0 20px;}.css-1xzzdyg .author-info h2{margin:8px 0 0;font-size:1.6rem;}.css-1xzzdyg .author-info p{margin:4px 0 0;color:color(var(--midgrey) l(-10%));}.css-1xzzdyg .author-info .bio h2{margin-top:0;}.css-1xzzdyg .author-info .bio p{margin-top:0.8em;}.css-1xzzdyg .author-profile-image{-webkit-flex:0 0 60px;-ms-flex:0 0 60px;flex:0 0 60px;margin:0;width:60px;height:60px;border:none;}@media (max-width: 1170px){.css-1xzzdyg{margin-left:-50px;width:430px;}.css-1xzzdyg:before{left:50px;}}@media (max-width: 650px){.css-1xzzdyg{display:none;}}@media (prefers-color-scheme: dark){.css-1xzzdyg{background:#22252a;box-shadow:0 12px 26px rgba(0, 0, 0, 0.4);}.css-1xzzdyg:before{border-top-color:#22252a;}}</style><div class="author-card css-1xzzdyg"><style data-emotion="css 121fnpm">.css-121fnpm{display:block;width:100%;height:100%;background:#e4eaed;border-radius:100%;object-fit:cover;}@media (prefers-color-scheme: dark){.css-121fnpm{background:#191b1f;}}</style><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:75%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAcIBQb/xAAWAQEBAQAAAAAAAAAAAAAAAAAGBAX/2gAMAwEAAhADEAAAAeuS7YkQulq01yjM/8QAGhABAQEAAwEAAAAAAAAAAAAABQMEAQIGFP/aAAgBAQABBQIWCOw3eTfoHzQBCX1sknOlL4/H5kiKw//EACARAAIBAwQDAAAAAAAAAAAAAAECAwQREgAFEyEiMXH/2gAIAQMBAT8B3rd6ehqBRS1UrOkasQSUXI8QiJsSDeMHFSwYJ6OOWitHMeVd2QLJ5qHhqWYBuwGYMbkDq9z9Ov/EAB0RAAMAAgMBAQAAAAAAAAAAAAECAwQRBSExACL/2gAIAQIBAT8B4DhbZuPfLGFBZ3Yzg4CNRQBU3OyobqpBLLvdO/QNjG5KAEW4mrtP8F0vihGK+soJUhWPYBUaB1off//EACMQAAICAQQBBQEAAAAAAAAAAAIDAQQFERITIRQABiMxQiL/2gAIAQEABj8CGyDUin27Qdl66zm5Ir4gNxrTChmZcUr/AF8eumhesL7uzeaVmPPu429mavO5oX6ecmDRXoIjRPPUkp+JQhvWlkan2M1vGxdKfCT4bBFBbUlDm2FJgnRvPZUs1u+4jXZ+JiLi8bcjnt1HIGw0EvZDTApARG0k0qQBdxECRaa/fXr2Zhq1mH2cBlX27jJKUjssWPifWAiYvdV5TgY3AfH9d/z6V50WpeAAuWLa6OaBGNHGIyAiw9Zk4jWNe40ido//xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhMf/aAAgBAQABPyF9GclII/ka0n3Jqi+e86qponAIFj3DZYhKtFHA82l5VzhgMHSjdG16a67Q1gAMYkB0pVoZwf1gNf/aAAwDAQACAAMAAAAQF9//xAAWEQEBAQAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QsAcVklNSpBoAocikOBjYEby4K//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAgEBPxBMvchjQkAB3NIQVBEwFUCk0JQ//8QAFxABAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAQABPxBrToxJroHRPANwwLOqz1/tRzQMDqRUsGi+anMgpbPf9Eq+iyU+Sa1HEac8Eo5rMJkTDuB//9k=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/797f4d4bfca1c3af6567b42e32555753/b3d27/sudal.jpg 40w,
/static/797f4d4bfca1c3af6567b42e32555753/5a735/sudal.jpg 80w,
/static/797f4d4bfca1c3af6567b42e32555753/6e81a/sudal.jpg 120w,
/static/797f4d4bfca1c3af6567b42e32555753/2f1b1/sudal.jpg 800w,
/static/797f4d4bfca1c3af6567b42e32555753/ada83/sudal.jpg 2880w" sizes="(max-width: 800px) 100vw, 800px" /><img loading="lazy" sizes="(max-width: 800px) 100vw, 800px" srcset="/static/797f4d4bfca1c3af6567b42e32555753/b3d27/sudal.jpg 40w,
/static/797f4d4bfca1c3af6567b42e32555753/5a735/sudal.jpg 80w,
/static/797f4d4bfca1c3af6567b42e32555753/6e81a/sudal.jpg 120w,
/static/797f4d4bfca1c3af6567b42e32555753/2f1b1/sudal.jpg 800w,
/static/797f4d4bfca1c3af6567b42e32555753/ada83/sudal.jpg 2880w" src="/static/797f4d4bfca1c3af6567b42e32555753/2f1b1/sudal.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="author-info"><div class="bio"><h2>4기_수달</h2><p>우아한테크코스 4기 수달(허수진)입니다 :)</p><p><a href="/author/4-기-수달/">More posts</a> by<!-- --> <!-- -->4기_수달<!-- -->.</p></div></div></div><style data-emotion="css cdhz0m">.css-cdhz0m{display:block;overflow:hidden;margin:0 -4px;width:40px;height:40px;border:#fff 2px solid;border-radius:100%;-webkit-transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;}@media (max-width: 500px){.css-cdhz0m{width:36px;height:36px;}}@media (prefers-color-scheme: dark){.css-cdhz0m{border-color:#1a1c20;}}</style><a class="author-avatar css-cdhz0m" href="/author/4-기-수달/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:75%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAcIBQb/xAAWAQEBAQAAAAAAAAAAAAAAAAAGBAX/2gAMAwEAAhADEAAAAeuS7YkQulq01yjM/8QAGhABAQEAAwEAAAAAAAAAAAAABQMEAQIGFP/aAAgBAQABBQIWCOw3eTfoHzQBCX1sknOlL4/H5kiKw//EACARAAIBAwQDAAAAAAAAAAAAAAECAwQREgAFEyEiMXH/2gAIAQMBAT8B3rd6ehqBRS1UrOkasQSUXI8QiJsSDeMHFSwYJ6OOWitHMeVd2QLJ5qHhqWYBuwGYMbkDq9z9Ov/EAB0RAAMAAgMBAQAAAAAAAAAAAAECAwQRBSExACL/2gAIAQIBAT8B4DhbZuPfLGFBZ3Yzg4CNRQBU3OyobqpBLLvdO/QNjG5KAEW4mrtP8F0vihGK+soJUhWPYBUaB1off//EACMQAAICAQQBBQEAAAAAAAAAAAIDAQQFERITIRQABiMxQiL/2gAIAQEABj8CGyDUin27Qdl66zm5Ir4gNxrTChmZcUr/AF8eumhesL7uzeaVmPPu429mavO5oX6ecmDRXoIjRPPUkp+JQhvWlkan2M1vGxdKfCT4bBFBbUlDm2FJgnRvPZUs1u+4jXZ+JiLi8bcjnt1HIGw0EvZDTApARG0k0qQBdxECRaa/fXr2Zhq1mH2cBlX27jJKUjssWPifWAiYvdV5TgY3AfH9d/z6V50WpeAAuWLa6OaBGNHGIyAiw9Zk4jWNe40ido//xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhMf/aAAgBAQABPyF9GclII/ka0n3Jqi+e86qponAIFj3DZYhKtFHA82l5VzhgMHSjdG16a67Q1gAMYkB0pVoZwf1gNf/aAAwDAQACAAMAAAAQF9//xAAWEQEBAQAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QsAcVklNSpBoAocikOBjYEby4K//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAgEBPxBMvchjQkAB3NIQVBEwFUCk0JQ//8QAFxABAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAQABPxBrToxJroHRPANwwLOqz1/tRzQMDqRUsGi+anMgpbPf9Eq+iyU+Sa1HEac8Eo5rMJkTDuB//9k=" alt="4기_수달" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/797f4d4bfca1c3af6567b42e32555753/b3d27/sudal.jpg 40w,
/static/797f4d4bfca1c3af6567b42e32555753/5a735/sudal.jpg 80w,
/static/797f4d4bfca1c3af6567b42e32555753/6e81a/sudal.jpg 120w,
/static/797f4d4bfca1c3af6567b42e32555753/2f1b1/sudal.jpg 800w,
/static/797f4d4bfca1c3af6567b42e32555753/ada83/sudal.jpg 2880w" sizes="(max-width: 800px) 100vw, 800px" /><img loading="lazy" sizes="(max-width: 800px) 100vw, 800px" srcset="/static/797f4d4bfca1c3af6567b42e32555753/b3d27/sudal.jpg 40w,
/static/797f4d4bfca1c3af6567b42e32555753/5a735/sudal.jpg 80w,
/static/797f4d4bfca1c3af6567b42e32555753/6e81a/sudal.jpg 120w,
/static/797f4d4bfca1c3af6567b42e32555753/2f1b1/sudal.jpg 800w,
/static/797f4d4bfca1c3af6567b42e32555753/ada83/sudal.jpg 2880w" src="/static/797f4d4bfca1c3af6567b42e32555753/2f1b1/sudal.jpg" alt="4기_수달" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><a href="/author/4-기-수달/">4기_수달</a></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2022-10-27">27 Oct 2022</time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->6<!-- --> min read</span></div></section></section></div></header><style data-emotion="css 4wxe1t">.css-4wxe1t{margin:25px 0 50px;height:560px;background:#c5d2d9 center center;-webkit-background-size:cover;background-size:cover;border-radius:5px;}@media (max-width: 1170px){.css-4wxe1t{margin:25px -6vw 50px;border-radius:0;}.css-4wxe1t img{max-width:1170px;}}@media (max-width: 800px){.css-4wxe1t{height:400px;}}@media (max-width: 500px){.css-4wxe1t{margin-bottom:4vw;height:350px;}}</style><figure class="css-4wxe1t"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:36.45161290322581%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUH/8QAFgEBAQEAAAAAAAAAAAAAAAAABAYH/9oADAMBAAIQAxAAAAHLYBIYnZDAf//EABgQAQADAQAAAAAAAAAAAAAAAAQDBQYC/9oACAEBAAEFApU5roUS62Swv2ZpLf/EACERAAIBAwMFAAAAAAAAAAAAAAEDAgQFEwAREhQhIlFh/9oACAEDAQE/Aa+7Tu7szKK3UW8VrwW2l6OnGJCqXIEwmY5WRpwxszvkexrSOUhxAxALj3jDxHICUth7kQST9Ov/xAAgEQACAgIABwAAAAAAAAAAAAACAwEEEiEAERMVIkFR/9oACAECAQE/AaNftqhUD7FqFsJ+d5kWmHJtN+DDMYklgTJWsdYpEVc8Y26wVtp2TBSycXUIELhSRmfS1j4gPwY1HH//xAAfEAADAQADAAIDAAAAAAAAAAABAgMEERITBSEAFCL/2gAIAQEABj8CyxhGctS5XbXe2fXVjrlJHnKXXQs+Ntw+dnZDOCN6EfQ4w6d2YPlRsv7ufFBYhpR6SpPyNUSlaRn60oKS9rUbsV+2/Ep8J8ffLkGdFebyXMToFKl3E13bRwUMh29uSVP8Djk//8QAGBABAQADAAAAAAAAAAAAAAAAAQARMXH/2gAIAQEAAT8hBEFtOR3bHjDOtIGbQVBUlWFWnsQBVqABET//2gAMAwEAAgADAAAAEIfP/8QAFxEBAQEBAAAAAAAAAAAAAAAAASEAQf/aAAgBAwEBPxAoALEvnYm7ePw4gCtoC03UVau//8QAGBEBAQEBAQAAAAAAAAAAAAAAAREAITH/2gAIAQIBAT8QUfkCKpEaJEk5jG7Qiqtg5w9Ge7//xAAWEAEBAQAAAAAAAAAAAAAAAAABEQD/2gAIAQEAAT8QtWGgSeQW8865+9A7YJUHriW0Jq9DHsa/BH//2Q==" alt="테스트코드 성능 개선기" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/6d609ab1d3bd75c286e135674c2d0001/0079a/testing-server.jpg 930w,
/static/6d609ab1d3bd75c286e135674c2d0001/8dba1/testing-server.jpg 1860w,
/static/6d609ab1d3bd75c286e135674c2d0001/e1744/testing-server.jpg 1918w" sizes="(max-width: 1918px) 100vw, 1918px" /><img loading="lazy" sizes="(max-width: 1918px) 100vw, 1918px" srcset="/static/6d609ab1d3bd75c286e135674c2d0001/0079a/testing-server.jpg 930w,
/static/6d609ab1d3bd75c286e135674c2d0001/8dba1/testing-server.jpg 1860w,
/static/6d609ab1d3bd75c286e135674c2d0001/e1744/testing-server.jpg 1918w" src="/static/6d609ab1d3bd75c286e135674c2d0001/e1744/testing-server.jpg" alt="테스트코드 성능 개선기" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></figure><style data-emotion="css 1hzbvd8">.css-1hzbvd8{position:relative;margin:0 auto;padding:0 170px 6vw;min-height:230px;font-family:Georgia,serif;font-size:2rem;line-height:1.6em;background:#fff;}@media (max-width: 1170px){.css-1hzbvd8{padding:0 11vw;}}@media (max-width: 800px){.css-1hzbvd8{padding:0 5vw;font-size:1.8rem;}}@media (max-width: 500px){.css-1hzbvd8{padding:0;}}@media (max-width: 500px){.css-1hzbvd8 .post-full-custom-excerpt{font-size:1.9rem;line-height:1.5em;}}.css-1hzbvd8 .no-image{padding-top:0;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h5,.css-1hzbvd8 h6,.css-1hzbvd8 p,.css-1hzbvd8 ul,.css-1hzbvd8 ol,.css-1hzbvd8 dl,.css-1hzbvd8 pre,.css-1hzbvd8 blockquote,.css-1hzbvd8 .post-full-comments,.css-1hzbvd8 .footnotes{margin:0 0 1.5em 0;min-width:100%;}@media (max-width: 500px){.css-1hzbvd8 p,.css-1hzbvd8 ul,.css-1hzbvd8 ol,.css-1hzbvd8 dl,.css-1hzbvd8 pre,.css-1hzbvd8 .post-full-comments,.css-1hzbvd8 .footnotes{margin-bottom:1.28em;}}.css-1hzbvd8 li{word-break:break-word;}.css-1hzbvd8 li p{margin:0;}.css-1hzbvd8 a{color:#15171A;word-break:break-word;box-shadow:#15171A 0 -1px 0 inset;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1hzbvd8 a:hover{color:#3eb0ef;-webkit-text-decoration:none;text-decoration:none;box-shadow:#3eb0ef 0 -1px 0 inset;}.css-1hzbvd8 strong,.css-1hzbvd8 em{color:#0a0b0c;}.css-1hzbvd8 small{display:inline-block;line-height:1.6em;}.css-1hzbvd8 img,.css-1hzbvd8 video{display:block;margin:1.5em auto;width:100%;max-width:1040px;height:auto;}@media (max-width: 1040px){.css-1hzbvd8 img,.css-1hzbvd8 video{width:100%;}}.css-1hzbvd8 img[src$='#full']{max-width:none;width:100vw;}.css-1hzbvd8 img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1hzbvd8 iframe{margin:0 auto!important;}.css-1hzbvd8 blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:#3eb0ef 3px solid;}@media (max-width: 500px){.css-1hzbvd8 blockquote{padding:0 1.3em;}}.css-1hzbvd8 blockquote p{margin:0 0 1em 0;color:inherit;font-size:inherit;line-height:inherit;font-style:italic;}.css-1hzbvd8 blockquote p:last-child{margin-bottom:0;}.css-1hzbvd8 code{padding:0 5px 2px;font-size:0.8em;line-height:1em;font-weight:400!important;background:#e5eff5;border-radius:3px;}.css-1hzbvd8 p code{word-break:break-all;}.css-1hzbvd8 pre{overflow-x:auto;padding:20px;max-width:100%;color:#e5eff5;font-size:1.4rem;line-height:1.5em;border-radius:5px;}.css-1hzbvd8 pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1hzbvd8 pre code :not(span){color:inherit;}.css-1hzbvd8 .fluid-width-video-wrapper{margin:1.5em 0 3em;}.css-1hzbvd8 hr{margin:2em 0;}.css-1hzbvd8 hr:after{content:'';position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#e4eaed;box-shadow:#fff 0 0 0 5px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.css-1hzbvd8 hr+p{margin-top:1.2em;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h5,.css-1hzbvd8 h6{color:#0a0b0c;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.css-1hzbvd8 h1{margin:0.5em 0 0.4em;font-size:4.2rem;line-height:1.25em;font-weight:600;}.css-1hzbvd8 p+h1{margin-top:0.8em;}@media (max-width: 800px){.css-1hzbvd8 h1{font-size:3.2rem;line-height:1.25em;}}.css-1hzbvd8 h2{margin:0.5em 0 0.4em;font-size:3.2rem;line-height:1.25em;font-weight:600;}.css-1hzbvd8 p+h2{margin-top:0.8em;}@media (max-width: 800px){.css-1hzbvd8 h2{margin-bottom:0.3em;font-size:2.8rem;line-height:1.25em;}}.css-1hzbvd8 h3{margin:0.5em 0 0.2em;font-size:2.5rem;line-height:1.3em;font-weight:600;}.css-1hzbvd8 h2+h3{margin-top:0.7em;}@media (max-width: 800px){.css-1hzbvd8 h3{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1hzbvd8 h4{margin:0.5em 0 0.2em;font-size:2.5rem;font-weight:600;}.css-1hzbvd8 h2+h4{margin-top:0.7em;}.css-1hzbvd8 h3+h4{margin-top:0;}@media (max-width: 800px){.css-1hzbvd8 h4{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1hzbvd8 h5{display:block;margin:0.5em 0;padding:0.4em 1em 0.9em;border:0;color:#3eb0ef;font-family:Georgia,serif;font-size:3.2rem;line-height:1.35em;text-align:center;}@media (min-width: 1180px){.css-1hzbvd8 h5{max-width:1060px;}}@media (max-width: 800px){.css-1hzbvd8 h5{margin-bottom:1em;margin-left:1.3em;padding:0 0 0.5em;font-size:2.4rem;text-align:initial;}}.css-1hzbvd8 h6{margin:0.5em 0 0.2em 0;font-size:2rem;font-weight:700;}@media (max-width: 800px){.css-1hzbvd8 h6{font-size:1.8rem;line-height:1.4em;}}.css-1hzbvd8 table{display:inline-block;overflow-x:auto;margin:0.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;}.css-1hzbvd8 table{-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 0 center,radial-gradient(ellipse at right, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 100% center;background-attachment:scroll,scroll;-webkit-background-size:10px 100%,10px 100%;background-size:10px 100%,10px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table td:first-of-type{background-image:linear-gradient(
      to right,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table td:last-child{background-image:linear-gradient(
      to left,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-position:100% 0;background-position:100% 0;-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table th{color:#15171A;font-size:1.2rem;font-weight:700;letter-spacing:0.2px;text-align:left;text-transform:uppercase;background-color:#f4f8fb;}.css-1hzbvd8 table th,.css-1hzbvd8 table td{padding:6px 12px;border:#e1edf4 1px solid;}@media (prefers-color-scheme: dark){.css-1hzbvd8{background:#191b1f;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h6{color:rgba(255, 255, 255, 0.9);}.css-1hzbvd8 a{color:#fff;box-shadow:inset 0 -1px 0 #fff;}.css-1hzbvd8 strong{color:#fff;}.css-1hzbvd8 em{color:#fff;}.css-1hzbvd8 code{color:#fff;background:#000;}.css-1hzbvd8 hr{border-top-color:#2b2f36;}.css-1hzbvd8 figcaption{color:rgba(255, 255, 255, 0.6);}.css-1hzbvd8 table td:first-of-type{background-image:linear-gradient(to right, #191b1f 50%, #191b1f 100%);}.css-1hzbvd8 table td:last-child{background-image:linear-gradient(270deg, #191b1f 50%, rgba(25, 27, 31, 0));}.css-1hzbvd8 table th{color:rgba(255, 255, 255, 0.85);background-color:#2b2f36;}.css-1hzbvd8 table th,.css-1hzbvd8 table td{border:#2b2f36 1px solid;}.css-1hzbvd8 .kg-bookmark-container,.css-1hzbvd8 .kg-bookmark-container:hover{color:rgba(255, 255, 255, 0.75);box-shadow:0 0 1px rgba(255, 255, 255, 0.9);}}.css-1hzbvd8 code[class*='language-'],.css-1hzbvd8 pre[class*='language-']{color:white;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1hzbvd8 pre[class*='language-']{overflow:auto;}.css-1hzbvd8 *:not(pre)>code[class*='language-']{border-radius:0.3em;background:rgb(1, 22, 39);color:white;padding:0.15em 0.5em;white-space:normal;}.css-1hzbvd8 .token.attr-name{color:rgb(173, 219, 103);font-style:italic;}.css-1hzbvd8 .token.comment{color:rgb(128, 147, 147);}.css-1hzbvd8 .token.string,.css-1hzbvd8 .token.url{color:rgb(173, 219, 103);}.css-1hzbvd8 .token.variable{color:rgb(214, 222, 235);}.css-1hzbvd8 .token.number{color:rgb(247, 140, 108);}.css-1hzbvd8 .token.builtin,.css-1hzbvd8 .token.char,.css-1hzbvd8 .token.constant,.css-1hzbvd8 .token.function{color:rgb(130, 170, 255);}.css-1hzbvd8 .token.punctuation{color:rgb(199, 146, 234);}.css-1hzbvd8 .token.selector,.css-1hzbvd8 .token.doctype{color:rgb(199, 146, 234);font-style:'italic';}.css-1hzbvd8 .token.class-name{color:rgb(255, 203, 139);}.css-1hzbvd8 .token.tag,.css-1hzbvd8 .token.operator,.css-1hzbvd8 .token.keyword{color:#ffa7c4;}.css-1hzbvd8 .token.boolean{color:rgb(255, 88, 116);}.css-1hzbvd8 .token.property{color:rgb(128, 203, 196);}.css-1hzbvd8 .token.namespace{color:rgb(178, 204, 214);}.css-1hzbvd8 pre[data-line]{padding:1em 0 1em 3em;position:relative;}.css-1hzbvd8 .gatsby-highlight-code-line{background-color:hsla(207, 95%, 15%, 1);display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid #ffa7c4;}.css-1hzbvd8 .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto;}.css-1hzbvd8 .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}</style><section class="post-full-content css-1hzbvd8"><div><h2>들어가며</h2>
<blockquote>
<p>코드를 수정하면, 검토 요청(PR) 과정의 첫 번째에 <strong>전체 테스트 코드</strong>가 잘 돌아가는지 확인하는 과정이 주기적으로 일어나고 있어요.</p>
</blockquote>
<p>혼자 개발하며 테스트 코드를 접했을 때는 비지니스 로직의 안정성을 보장해주고, 문서화 기능도 있어 테스트는 무조건 많으면 좋은 것이라고 생각했었어요.
그러나 프로젝트가 진행되면서 요구사항이 계속 추가되다보니 테스트 개수와 유지보수 포인트가 늘어났습니다. 이에따라 속도가 저하되어 개발 생산성이 낮아지는 경험을 했습니다.</p>
<p>‘이것이 단순히 테스트 개수의 문제 일까?‘하는 궁금증이 들었고, 속도를 개선을 진행하며 느꼈던 점을 공유하고자 합니다.</p>
<h2>마틴 파울러의 테스트 피라미드에 맞춰서 테스트 비율 조정하기</h2>
<blockquote>
<p>테스트 피라미드는 상위 계층의 테스트일수록 비용이 높기 때문에 최대한 적은 비율로 유지하는 것이 좋다는 것을 나타내요.</p>
</blockquote>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1392px">
      <a class="gatsby-resp-image-link" href="/static/a7f10ca9141edd95e55997bd5ceb9d7f/e9bec/2022-10-15-test-optimization1.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:71.4%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+0lEQVQ4y4VSDVMSURTdv51ak8X0MX1YM1mhMoaKiziCbgZUUC0ubKuJUwolpGONSBAQ4+rk4O47vftAdI2PN3Pm7p577tl79z4JHQ5jzBEtHq2LXOu505F6Gtq2iPuGgYNPaw6OdTGV+pmZlQr0hw+w+ngEx7VaX1Op56gc2fkAlgYHoAwNIhcKCs5pxvoYsvMODj4aSN504eXQVYSuDEB33UJ5bb1nl1K3UavVMlL+cRg+N9SpUajeUazKY4KjXDdTqdOotmVDy0QR3pIR2w4h9m1BILw5h0jGj8RmBNap3fE3OQxt1hTl9rfgV90Y8bpw3zOMO+5reCLfxcTiI9wbv455bQJff3xx1LQNL5tV60W8/jyLeHYOcd5NJD2NRd0DxZhELCM3eY7oxgx+1wr/mTo6tPioYSMNOaHyLpIIaBqCfDFBfg8pLqR0BFY0kSPNK31d1FwamfEvNF/SuRJevCtAXiljNlGCT/2F50q2jbHlbcETSEPajXyp1SUTV0g6MyvVTPg+/ISsFbm4AH+yiMk3edx4toTbnihc7mUMPw0JjnKkIS3VUO2ZqRi50WhASe7CG9+D7/0eZlqYju8ITMW+88jzb/P8eaetoUg1SmpXeLS3fGpZqJt/cXh8co6jE74gE5U/Jo9HfAGHqNRNwVHuopZqyYPOP8egAMYnGsh8AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="테스트 피라미드" title="테스트 피라미드" src="/static/a7f10ca9141edd95e55997bd5ceb9d7f/e9bec/2022-10-15-test-optimization1.png" srcSet="/static/a7f10ca9141edd95e55997bd5ceb9d7f/0eb09/2022-10-15-test-optimization1.png 500w, /static/a7f10ca9141edd95e55997bd5ceb9d7f/1263b/2022-10-15-test-optimization1.png 1000w, /static/a7f10ca9141edd95e55997bd5ceb9d7f/e9bec/2022-10-15-test-optimization1.png 1392w" sizes="(max-width: 1392px) 100vw, 1392px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<h3><strong>인수 테스트(</strong>UI Test<strong>)</strong></h3>
<blockquote>
<p>인수 테스트는 사용자 스토리(시나리오)에 맞춰 수행하는 테스트이다. 시나리오에서 요구하는 것은 <code class="language-text">누가, 어떤 목적으로, 무엇을 하는가</code>이다. 이는 API를 통해 드러난다.  인수 테스트는 소프트웨어 인수를 목적으로 하는 테스트이다. 소프트웨어를 인수하기 전에 명세한 요구사항(인수 조건)대로 잘 작동하는지 검증이 필요하다.</p>
</blockquote>
<p><a href="https://github.com/woowacourse-teams/2022-ternoko">저희 프로젝트</a>에서는 <code class="language-text">RestAssured</code> 를 사용하여
실제 HTTP 요청을 보내 인수 테스트를 진행하고 있어요. 네트워크 응답 대기 시간이 소요되기 때문에 인수 테스트를 실행하는데 가장 오랜 시간이 걸렸어요.</p>
<p>왜그럴까 살펴보니 <strong>인수테스트</strong>에서 검증하는 대다수의 행위를 <strong>통합테스트</strong>에서 <strong>중복해서 검증</strong>하고 있었어요. 예외 케이스 까지도요.
저희가 인수테스트를 진행한 목적은 서비스의 요구사항이 제대로 동작하는 가를 확인하기 위함이었는데 말이죠.</p>
<p>따라서 인수테스트에서는 API의 성공 사례들만 검증하고, <strong>예외 처리에 대해서는 통합테스트로 내리면</strong> 테스트 시간도 줄일 수 있고, 테스트 목적에도 더 부합하지
않을까 생각되었습니다.</p>
<h3><strong>통합 테스트(Integration Test)</strong></h3>
<blockquote>
<p>통합 테스트는 단위 테스트보다 더 큰 동작을 달성하기 위해 여러 모듈들을 모아 이들이 의도대로 협력하는지 확인하는 테스트이다. @SpringBootTest 를 사용하여
작성할 수 있다. 통합 테스트는 단위 테스트와 달리 개발자가 변경할 수 없는 부분(ex. 외부 라이브러리)까지 묶어 검증할 때 사용한다.
이는 DB에 접근하거나 전체 코드와 다양한 환경이 제대로 작동하는지 확인하는데 필요한 모든 작업을 수행할 수 있다.</p>
</blockquote>
<p>통합테스트는 @SpringBootTest 애너테이션을 사용하여 여러 객체들이 서로 잘 협력하는지, 협력하는 과정에서 side effect 가 발생하지는 않는지 확인하는 용도로 작성했어요.</p>
<p>그런데 코드를 살펴보니, 객체 간 협력이 아닌 도메인 로직의 검증이 Service 나 Controller 에 작성되어 있었습니다. 즉 여러 객체 사이의 상호 작용이 아니라 단일 객체에 대한 테스트가 진행되고 있었습니다.</p>
<p>해당 테스트 계층의 책임이 아니라고 판단되어 각 단위로 적절하게 책임을 내려주었습니다.</p>
<h3><strong>단위 테스트(Unit Test)</strong></h3>
<blockquote>
<p>단위 테스트는 응용 프로그램에서 테스트 가능한 가장 작은 소프트웨어를 실행하여 예상대로 동작하는지 확인하는 테스트이다.</p>
</blockquote>
<p>단위 테스트는 테스트 피라미드 가장 아래에 위치하는 테스트 입니다. 독립적인 객체 테스트이기 때문에 테스트 비용이 가장 적습니다.
비즈니스를 구성할 때 각 도메인이 유효성 검증에 대한 책임과 행위에 대한 책임 등 적절한 책임을 가지고 있으면 객체 끼리 메세지를 주고 받기 수월해지고
객체지향적임에 한걸음 다가갈 수 있게 되는 것 같아요.</p>
<p>따라서 단위 테스트는 꼼꼼하게 작성해주면 좋아요.</p>
<h3>테스트 피라미드에 맞춰서 테스트 비율 조정해보며</h3>
<p>불필요한 테스트 비용을 제거하니 같은 로직을 더 빠르게 테스트 할 수 있게 되었어요. 😀여기서 주의할 점은 <strong>모든 경우에 항상 피라미드형 테스트 비율을
유지할 수는 없다</strong>는 점이예요. 도메인이 간단해 필요한 테스트의 양이 많지 않은 경우에 API 개수만큼 인수테스트를 작성한다고 가정하면 아래처럼 인수 테스트의
비율과 단위 테스트의 비율이 비슷할 수도 있겠죠? 따라서 현재 가지고 있는 도메인의 특성을 파악해서 테스트 비율을 조정하겠다는 유연한 사고를 한다면 더 좋겠네요.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:769px">
      <a class="gatsby-resp-image-link" href="/static/7e7dc898cc717192a2d67937a2fe2707/e4e90/2022-10-15-test-optimization2.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:41.6%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPUlEQVQoz5WSTUsCURSG/c1t+gHhQs2SKLHCpCRpTBSrkXaGjjON41Xpw5lx1BYRbQTFhSv1SQcnDErswOF83HPe8957j48Vmc1mrh2NRrTbbRzHwbYsOr0enW4XZ55b5G3bZjwe/+jxxLcaTCYT15bLZUqlEpZp8mJbPOSyKPId5nyA2WpRLBYRQri10+n0b0DvUNd1BoPBMgnqfgRxfPpd1+/3NwP0GC4YpKU0FVUjfhYh5N9yNXF+hKrpSJLkDl3tWQuoKAqdtsPbxytxOUQ0F+DkNkSiEOb9c/GuNlWjujlDTVPJ5mUOUjKBRIadaBJ/7NL1o9I9+RsZ41+AqsJhssBeukHwosJ2ODPXa4LJCrtXNWKpAmIJuPbK3gosPuTRaFBvPlMVDXSjPo8Fhmgimk/otSbD4fDXtfkCP9JE/7bUOQgAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="test pyramid" title="test pyramid" src="/static/7e7dc898cc717192a2d67937a2fe2707/e4e90/2022-10-15-test-optimization2.png" srcSet="/static/7e7dc898cc717192a2d67937a2fe2707/0eb09/2022-10-15-test-optimization2.png 500w, /static/7e7dc898cc717192a2d67937a2fe2707/e4e90/2022-10-15-test-optimization2.png 769w" sizes="(max-width: 769px) 100vw, 769px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<h2>Application Context  를 살펴보자.</h2>
<p>그 다음으로는 Application Context 에 대한 학습을 진행했어요. 전체 테스트를 돌리면 스프링 부트가 여러번 띄워지는 경우를 보셨을거예요.
애플리케이션을 로드할 때 Application Context에 빈을 등록하기 위해서 @Bean 으로 선언된 객체들을 찾는 등의 작업이 진행되기 때문에 시간이 오래 걸려요.
따라서 Application Context 재사용하면, 전체 테스트를 돌리는 시간도 줄겠다고 생각했어요.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1260px">
      <a class="gatsby-resp-image-link" href="/static/2a07d9117771f32c940323d34a608e54/58c38/2022-10-15-test-optimization3.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:30.8%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAkklEQVQY042QXQoFIQhGZztl/9kQ0f635e0TmofLwPRwMLMO6kVkxTlaeLFEQn845xR6qb1xmcgSMkuKQS+891JKeSQ5Z81xttZ+chVuUhetsdRaH5hZgRAxpaQfPjsMIUiMUbtAhAxnSBAh2rUjIR6OMWTOqfG+79VtUyBH3ns/F2JX6GCPinzvwxijO8XYp8Ifnvm35jaHfYIAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="boot" title="boot" src="/static/2a07d9117771f32c940323d34a608e54/58c38/2022-10-15-test-optimization3.png" srcSet="/static/2a07d9117771f32c940323d34a608e54/0eb09/2022-10-15-test-optimization3.png 500w, /static/2a07d9117771f32c940323d34a608e54/1263b/2022-10-15-test-optimization3.png 1000w, /static/2a07d9117771f32c940323d34a608e54/58c38/2022-10-15-test-optimization3.png 1260w" sizes="(max-width: 1260px) 100vw, 1260px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p>
<p>현재 아래와 같은 항목에 대해서 Application Context를 사용하고 있어요.</p>
<ul>
<li>Acceptance Test</li>
<li>Service Test</li>
<li>DataJpa Test</li>
<li>WebMvc Test</li>
</ul>
<p>따라서 각 계층마다 한번씩만 Application Context가 띄워지는 것을 목표로 삼고 리팩터링을 진행해봤어요.</p>
<h3>@DirtiesContext 걷어내기</h3>
<blockquote>
<p>Use this annotation if a test has modified the context — for example, by modifying the state of a singleton bean, modifying the state of an embedded database, etc. Subsequent tests that request the same context will be supplied a new context.</p>
</blockquote>
<p><strong>데이터 격리</strong>를 위해 사용했던 <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/annotation/DirtiesContext.html">@DirtiesContext</a>
때문에 모든 테스트가 종료되고 Context 를 재생성하기 때문에 시간이 오래 걸렸어요.</p>
<p><strong>데이터 격리</strong>라는 목적은 Bean 재생성 없이 DB를 수동으로  초기화 해주면 되겠다는 생각으로 이어졌고, DirtiesContext 를 걷어내고,
DataBaseCleaner 를 사용해서 Context 재생성을 줄였습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DatabaseCleaner</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> tableNames<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">tableClear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        entityManager<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        entityManager<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        entityManager<span class="token punctuation">.</span><span class="token function">createNativeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;SET REFERENTIAL_INTEGRITY FALSE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> tableName <span class="token operator">:</span> tableNames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            entityManager<span class="token punctuation">.</span><span class="token function">createNativeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;TRUNCATE TABLE &quot;</span> <span class="token operator">+</span> tableName <span class="token operator">+</span> <span class="token string">&quot; RESTART IDENTITY &quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        entityManager<span class="token punctuation">.</span><span class="token function">createNativeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;SET REFERENTIAL_INTEGRITY TRUE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre></div>
<h3><strong>Context Caching</strong></h3>
<blockquote>
<p>Once the TestContext framework loads an ApplicationContext (or WebApplicationContext) for a test, that context is cached and reused for all subsequent tests that declare the same unique context configuration within the same test suite. To understand how caching works, it is important to understand what is meant by “unique” and “test suite.”</p>
</blockquote>
<p>또한 SpringBootTest 를 사용하면서 <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-ctx-management-caching">Context를 캐싱</a>할
수 있다는 점을 발견하게 되었어요.</p>
<p>‘동일한 고유 컨텍스트 구성을 선언하는 모든 후속 테스트에 재사용 된다’는 부분에서 <code class="language-text">고유 컨텍스트 구성</code>이 무엇을 의미하는지 살펴봤어요. 그중에서 아래 부분이 눈에 띄었어요.</p>
<ul>
<li><code class="language-text">contextCustomizers</code>(from <code class="language-text">ContextCustomizerFactory</code>) – this includes <code class="language-text">@DynamicPropertySource</code> methods as well as various features from Spring Boot’s testing support such as <code class="language-text">@MockBean</code> and <code class="language-text">@SpyBean</code>.</li>
</ul>
<p>바로 테스트 격리를 위해서 사용했던 <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.mocking-beans">MockBean, SpyBean</a> 이 객체마다 다르게 선언되어 있었던 점이 문제였는데요.</p>
<h3>@MockBean , @SpyBean</h3>
<blockquote>
<p>When you are using <code class="language-text">@SpyBean</code> to spy on a bean that is proxied by Spring, you may need to remove Spring’s proxy in some situations, for example when setting expectations using <code class="language-text">given</code> or <code class="language-text">when</code>. Use <code class="language-text">AopTestUtils.getTargetObject(yourProxiedSpy)</code>to do so.</p>
</blockquote>
<p>해당 어노테이션을 사용하면 대리 객체가 생성되어 실제 객체가 아니라, 대리 객체가 생성되고 있었어요. 따라서 당연하게 Context 에 생성되는 기존 객체가 아닌 대리 객체가 추가 되기 때문에 고유 컨텍스트 구성이 오염되었다고 판단해서 새로운 Context 를 띄우게 되는 것이었어요!</p>
<h3>재사용 가능한 테스트 구조 🤔</h3>
<p>처음부터 필요한 대리 객체가 무엇인지 파악한 뒤  Mock, Spy 한번에  선언하여 Context 에 올려두고, Test Class 들이 상속 받아 사용하는 형태로 구현한다면 컨텍스트 초기화를 한번만 하는 것이 가능해질 것 같았어요.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@WebMvcTest</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebMvcTestSupporter</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token class-name">MockMvc</span> mockMvc<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">protected</span> <span class="token class-name">Class</span> realClassA<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@MockBean</span>
    <span class="token keyword">protected</span> <span class="token class-name">Class</span> classA<span class="token punctuation">;</span>

   <span class="token annotation punctuation">@MockBean</span>
    <span class="token keyword">protected</span> <span class="token class-name">Class</span> classB<span class="token punctuation">;</span>

   <span class="token annotation punctuation">@SpyBean</span>
    <span class="token keyword">protected</span> <span class="token class-name">Class</span> classC<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ControllerTestA</span> <span class="token keyword">extends</span> <span class="token class-name">WebMvcTestSupporter</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Test</span>
	<span class="token keyword">void</span> <span class="token function">testA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>구조를 변경했더니 정말 Context 초기화가 한번만 이뤄졌습니다. 여기서 그럼 격리하고 싶은 객체 전부 최상위 객체에 테스트 더블을 사용하면 생각하실 수도 있는데요. 실제 객체가 필요한 상태인데 테스트 더블을 사용하는 것이 아닌지 유의하여 객체를 설계해야 유의미한 테스트가 가능하다는 점을 주의 하셨으면 좋겠습니다.</p>
<h2>결론</h2>
<ul>
<li>테스트 피라미드를 참고해서 계층별 테스트 비율을 조절하자</li>
<li>불필요한 설정을 제거하자 (ControllerTest → WebMvcTest 로 내린다든가) ✍🏻</li>
<li>데이터 격리 방식으로 DirtiesContext 걷어내자</li>
<li>재사용 가능한 테스트 구조를 고민해보자</li>
</ul>
<p>테스트 코드 성능 개선을 하고자 했던 리팩토링을 통해 더욱 객체지향적인 코드 작성이 가능해지고, 전체 테스트가 돌아가는 속도가 향상되어 팀의 개발 생산성이 한층 좋아졌습니다. 제가 접근한 개선 방향이 정답이 아닐 수도 있지만, 해당 내용을 경험하며 재미를 느끼고, 팀에 생산성을 향상 시키는데 기여 했다는 느낌에 행복했습니다. 오늘도 즐거운 학습 하시길 바랍니다.  👏</p>
<h3>참고자료</h3>
<h2></h2>
<ul>
<li><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-ctx-management-caching">Spring.io Context Caching</a></li>
<li><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.mocking-beans">Spring.io Mocking and Spying Beans</a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/annotation/DirtiesContext.html">Spring.io DirtiesContext</a></li>
</ul></div></section></article></div><div></div></main><style data-emotion="css 3pb1mm">.css-3pb1mm{position:relative;padding:0 5vw;}</style><style data-emotion="css rtegya">.css-rtegya{border-bottom:1px solid rgba(255, 255, 255, 0.1);background:#0a0b0c;position:relative;padding:0 5vw;}.css-rtegya .post-card{padding-bottom:0;border-bottom:none;}.css-rtegya .post-card:after{display:none;}.css-rtegya .post-card-primary-tag{color:#fff;opacity:0.6;}.css-rtegya .post-card-title{color:#fff;opacity:0.8;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-rtegya .post-card:hover .post-card-image{opacity:1;}.css-rtegya .post-card-excerpt{color:rgba(255, 255, 255, 0.6);}.css-rtegya .static-avatar{border-color:#000;}.css-rtegya .post-card-byline-content{color:rgba(255, 255, 255, 0.6);}.css-rtegya .post-card-byline-content a{color:rgba(255, 255, 255, 0.8);}.css-rtegya .author-avatar{border-color:#0a0b0c;}.css-rtegya .author-profile-image{background:#0a0b0c;}@media (max-width: 650px){.css-rtegya .post-card{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:25px;padding:25px 0 0;border-bottom:1px solid rgba(255, 255, 255, 0.1);}}</style><aside class="read-next css-rtegya"><div class="css-1q5n7pp"><style data-emotion="css si41tf">.css-si41tf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -25px;padding:60px 0 0 0;}</style><div class="read-next-feed css-si41tf"><style data-emotion="css 9rmdm3">.css-9rmdm3{position:relative;-webkit-flex:0 1 326px;-ms-flex:0 1 326px;flex:0 1 326px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 25px 50px;padding:25px;background:linear-gradient(
    #1a1c20,
    #0a0b0c
  );border-radius:3px;}.css-9rmdm3 a{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-9rmdm3 a:hover{-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 1170px){.css-9rmdm3{-webkit-flex:1 1 261px;-ms-flex:1 1 261px;flex:1 1 261px;margin-bottom:5vw;}}@media (max-width: 650px){.css-9rmdm3{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:0 25px;padding:0;background:none;}}</style><article class="read-next-card css-9rmdm3"><header class="read-next-card-header"><style data-emotion="css e6nomv">.css-e6nomv{margin:0;color:rgba(255, 255, 255, 0.6);font-size:1.2rem;line-height:1em;font-weight:300;letter-spacing:0.4px;text-transform:uppercase;}.css-e6nomv a{color:#fff;font-weight:500;-webkit-text-decoration:none;text-decoration:none;opacity:0.8;}.css-e6nomv a:hover{opacity:1;}</style><h3 class="css-e6nomv"><span>More in</span> <a href="/tags/test/">Test</a></h3></header><style data-emotion="css 1omyahg">.css-1omyahg{font-size:1.7rem;}.css-1omyahg ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0;padding:0;list-style:none;}.css-1omyahg li{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin:0;padding:20px 0;border-bottom:rgba(255, 255, 255, 0.1);}.css-1omyahg li:last-of-type{padding-bottom:5px;border:none;}.css-1omyahg h4{margin:0;font-size:1.6rem;line-height:1.35em;font-weight:600;}.css-1omyahg li a{display:block;color:#fff;opacity:0.8;}.css-1omyahg li a:hover{opacity:1;}</style><div class="read-next-card-content css-1omyahg"><ul><li><h4><a href="/post/2023-11-06-Testcontainers/">로컬에서도 프로덕션과 유사한 환경에서 테스트할 수 없을까? : Testcontainers 도입기</a></h4><style data-emotion="css k775aa">.css-k775aa{margin-top:2px;font-size:1.2rem;line-height:1.4em;font-weight:400;}.css-k775aa p{margin:0;color:rgba(255, 255, 255, 0.6);}</style><div class="read-next-card-meta css-k775aa"><p><time dateTime="2023-11-21">21 Nov 2023</time> - <!-- -->13<!-- --> min read</p></div></li></ul></div><style data-emotion="css z3frum">.css-z3frum{position:relative;margin:40px 0 5px;}.css-z3frum a{padding:7px 12px 8px 14px;border:1px solid rgba(255, 255, 255, 0.6);color:rgba(255, 255, 255, 0.6);font-size:1.3rem;border-radius:999px;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-z3frum a:hover{border-color:#fecd35;color:#fecd35;-webkit-text-decoration:none;text-decoration:none;}</style><footer class="read-next-card-footer css-z3frum"><a href="/tags/test/">See all 2 posts<!-- --> →</a></footer></article><style data-emotion="css 1pe6fj0">.css-1pe6fj0{position:relative;-webkit-flex:1 1 301px;-ms-flex:1 1 301px;flex:1 1 301px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 0 40px;padding:0 20px 40px;min-height:220px;border-bottom:1px solid #eaeff1;-webkit-background-size:cover;background-size:cover;}@media (prefers-color-scheme: dark){.css-1pe6fj0{border-bottom-color:#2b2f36;}}</style><article class="post-card   css-1pe6fj0"><style data-emotion="css 19py1iz">.css-19py1iz{position:relative;display:block;overflow:hidden;border-radius:5px 5px 0 0;}</style><a class="post-card-image-link css-19py1iz" href="/post/2022-10-24-openID-Oauth/"><style data-emotion="css zj03fh">.css-zj03fh{width:auto;height:200px;background:#c5d2d9 no-repeat center center;-webkit-background-size:cover;background-size:cover;}</style><div class="post-card-image css-zj03fh"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:67.09677419354838%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCklEQVQ4y81TQWuDMBjND/dP7ODBo+DJw/Do2YGbVAS3IYxNhHroUltHB67qTN6WtF0joayFFhr4+D5e+N77kpcQnHmRixJyzreZKTU/jVA0/DWLYGxfb4kZ22Q1BLbDVWGiAoJA1jQF6hdN/dC0Kk72ZAJkqD6/Ud/dgEYOqlWL5aJCnufo+142DMOAruuQZRnKstRIR0euf5ufXkvwZwerx1vQjy9ED/ewbRuu68KyLJimCd/3YRgGPM9D0zSHCbt2jbfpO+qJA8wmEqvmFHEcIwgCJEmCNE1BKUUYhiiKQp9Qd5ijXW9UGTvO4dEdjlyWmWsCOzdVZ1Xn/51Q1iIre8e+S3L1X+8Hc5f3p3HjabsAAAAASUVORK5CYII=" alt="OpenID와 OAuth2.0 cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/f07050de231f4d8aa0d5c79b9fbcd2d4/3a443/openid.png 930w,
/static/f07050de231f4d8aa0d5c79b9fbcd2d4/6f2dd/openid.png 1490w" sizes="(max-width: 1490px) 100vw, 1490px" /><img loading="lazy" sizes="(max-width: 1490px) 100vw, 1490px" srcset="/static/f07050de231f4d8aa0d5c79b9fbcd2d4/3a443/openid.png 930w,
/static/f07050de231f4d8aa0d5c79b9fbcd2d4/6f2dd/openid.png 1490w" src="/static/f07050de231f4d8aa0d5c79b9fbcd2d4/6f2dd/openid.png" alt="OpenID와 OAuth2.0 cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><style data-emotion="css susx73">.css-susx73{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="post-card-content css-susx73"><style data-emotion="css 11xyrw0">.css-11xyrw0{position:relative;display:block;color:#15171A;}.css-11xyrw0:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="post-card-content-link css-11xyrw0" href="/post/2022-10-24-openID-Oauth/"><style data-emotion="css 1s5mbbt">.css-1s5mbbt{margin:15px 0 0;}</style><header class="post-card-header css-1s5mbbt"><style data-emotion="css 1ws4skr">.css-1ws4skr{height:25px;margin:0 0 0.2em;color:#3eb0ef;font-size:1.7rem;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;}</style><div class="post-card-primary-tag css-1ws4skr">#OpenID</div><style data-emotion="css 1pqz7yn">.css-1pqz7yn{margin:0 0 0.4em;line-height:1.15em;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}@media (prefers-color-scheme: dark){.css-1pqz7yn{color:rgba(255, 255, 255, 0.85);}}</style><h2 class="post-card-title css-1pqz7yn">OpenID와 OAuth2.0</h2></header><style data-emotion="css eyqgbm">.css-eyqgbm{font-family:Georgia,serif;}@media (prefers-color-scheme: dark){.css-eyqgbm{color:#90a2aa!important;}}</style><section class="post-card-excerpt css-eyqgbm"><p>…</p></section></a><style data-emotion="css k6f2l9">.css-k6f2l9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0;}</style><footer class="post-card-meta css-k6f2l9"><ul class="author-list css-teqkql"><li class="author-list-item css-1q168dw"><style data-emotion="css 1o16atw">.css-1o16atw{position:absolute;bottom:105%;z-index:999;display:block;padding:2px 8px;color:white;font-size:1.2rem;letter-spacing:0.2px;white-space:nowrap;background:#15171A;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.03) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:translateY(6px);-moz-transform:translateY(6px);-ms-transform:translateY(6px);transform:translateY(6px);pointer-events:none;}@media (max-width: 700px){.css-1o16atw{display:none;}}</style><div class="author-name-tooltip css-1o16atw">4기_써머</div><a class="author-avatar css-cdhz0m" href="/author/4-기-써머/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVQ4ywHEBDv7AIWTnV50ZEdlK0NYNmpxcVhdU1dkSVVdVFNkSI2Qi0JNPoKHe8HBviIjIxcYGB0fHTQzLkxGPmBgSV1qUQCruMpwgYAhMhw7UjZ1hHtSWExkcE5pcGxlclOWm5dVVU2GhH7AwsA1NTVBQD5bVVBqYFZmaFJeeFV2hWcAZYNaWG5NP1I1VmtOeYZ/Z2xpfIqMjZKekZabm6apYWBej4+Pv8PBV1xNbnNgaG5UXG9DYX1Db4dLbn9MAGh4RUpcOD1FM01bSW93c1dgZkxTZENFTkBFTk1TW0VJR4SGg7GysGtvXnd9amBzUWB2UGl0W3uEanqBawBoeUREUEQaLBsvQjJ4gHxDQUAWFBgVFBVGMSo9OjlWZU1PVktJSEpMTUZZalBUaU5eaVqOjoydnpuampoAZmpcWl5dUVdMW2Jci4eBTUhGCA4TTT852ZaDkHl1UWhLPkg4NDU5QUI7UGFCX2tQeXtojo57k5J/cntjAM7BtMm+sL6yp7OnnKSblUA9PgQJDjYsKat0YrGbkqqfnK2inq6in7GmpLmuq8G2s8S6tsS8tsa8tKyplwDV3cvY3szc38zq5NCupJY0LzBOREccGh+Vhnzx38nm1sPZyLXSvqnWwK3Uu6vPuavLuq/Kv7LFvrbXyMQAztrFztjD0NXD1djFaWdfm5ec9d7fOzA2eXdx3dnA29K7g4h/mpuO7d/E4NK64tG52savfm1jTFxVtamTAM7YxMnUvtHaxqqvnlJISMe7v/XPyn50e11WU8nBqq+rk6ekkKWgjMe8pNfOt9nRvc3DsJuJfoaAdbqpkQDY18TR0r3c3sd+fXJaU1nXwMH0xcGuoqcuKCusiXvCopGekoNycGeVinivp42hmoSWiHnBqpHMspfNspcAz9O9y8y20M64tbKdqZua0b7C6dXXu7S5U0lLloNwq5B+cGdiUk5KenBjrJGFiW5rXlJObGxmhoV9wb2mAMO5o72znLesl8Cznsmxq8SxteXr8trGyLmiobCkkqKfiLirhKGdf1VXUZZHUX0lNHRZUKWfiaWgkL63owCypZGuoY+noIyhnorMsq/AoJ6+oJzJnJLfqZ23m46Wi3PFv12ciGF6OE5kIS8oFh47R0qMiIaPkIyin5UAbmRjVFNUhXl1tKOTybm3xrG0qYOAq312xpOItod7u42F0K2e22x1+h5HwQQkiB4xeyU9UU5TjYGAeXR0AIBMV2BOVnljZqyJidXIzsy5wMO0vLuqscCvtaKJiDgxOZ58eduNgsoeOYUiNqAiON4XOsQ1TNxSaul1hgBrVl5fc3hdZ207QER6c3rau8LazNbZub/TuL7OtLVAPUcZHijDlYyaV1iWCCGDHTGEM0P/dIv/Z4DnQV4Ao0JTeUBORjE7KikwJi81aGRqzLK958LI3ri74czScGlwMCco0piLsoJ5ERYZHC4wl0ZT/01q/0Fhi0VNALpUaK9GWIY2RGA4QYEuQIUyRXxndLiAjeKboNvHzIxycxgTE76Cc6R0ahgbHTUzOHJCS4FQWYFIU1NUUADTbXzVZXbFZ3SbTluVVmWib4KbdIbYf5DslaCNdXobHiJBLy3ko5V7Yl8tMTQuLTInLjAjLjMkMTVBQ0iuAVaCDzkJEwAAAABJRU5ErkJggg==" alt="4기_써머" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/024b7ba0135427ca042dca2c37f88030/8ac63/summer.png 200w,
/static/024b7ba0135427ca042dca2c37f88030/3891b/summer.png 400w,
/static/024b7ba0135427ca042dca2c37f88030/84afe/summer.png 460w" sizes="(max-width: 460px) 100vw, 460px" /><img loading="lazy" sizes="(max-width: 460px) 100vw, 460px" srcset="/static/024b7ba0135427ca042dca2c37f88030/8ac63/summer.png 200w,
/static/024b7ba0135427ca042dca2c37f88030/3891b/summer.png 400w,
/static/024b7ba0135427ca042dca2c37f88030/84afe/summer.png 460w" src="/static/024b7ba0135427ca042dca2c37f88030/84afe/summer.png" alt="4기_써머" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><style data-emotion="css 12ys16c">.css-12ys16c{-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:4px 0 0 10px;color:#90a2aa;font-size:1.2rem;line-height:1.4em;font-weight:400;letter-spacing:0.2px;text-transform:uppercase;}.css-12ys16c span{margin:0;}.css-12ys16c a{color:#434952;font-weight:600;}@media (prefers-color-scheme: dark){.css-12ys16c a{color:rgba(255, 255, 255, 0.75);}}</style><div class="post-card-byline-content css-12ys16c"><span><a href="/author/4-기-써머/">4기_써머</a></span><span class="post-card-byline-date"><time dateTime="2022-10-24">24 Oct 2022</time> <span class="bull">•</span> <!-- -->4<!-- --> min read</span></div></footer></div></article><article class="post-card   css-1pe6fj0"><a class="post-card-image-link css-19py1iz" href="/post/2022-11-01-blue-green-deployment/"><div class="post-card-image css-zj03fh"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:75.05376344086021%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGUlEQVQ4y5VT22oUQRCd3/Qb/AH/wRdffRN8FyUQJC9JIEIQzItggllMzO7OZfuS6Z6+zezlWN2zk8y6CehDUU1X1elTVaczay3GZgxZPBsDRV45T97RvXmI/10ztuwpwOgbArgPHS7MBrlf9XG6M/Y/ACOLMaAIywRYhNVjfCfXPNQM532Go4LY7qLWkNuCgeHQ/j8y3M6q6QHYYgGtFGy32QGLvmmakfX52S71UbJp4L1HTWCN1hDfT2FqSfG4oKbPdRbOGvg1wC6OIM8/9AydcwhUPIA648ANx9ROUfgCM32H4vQdtKjgfEiAIQSssUJpf+O+42itgGE5skiXcY6iLBP1+GpwAcwwnOQnOLg9wFn5BeWGJBSZUU5VVahrhbC2+EY5P9hXOnv4doksvvj+7Wu8evkCs/kcUgpwxmkREqpTUG1vvLjEoirAGIMQnFqlrtYBN9U1btgEYUWA1GkmpMT58RGODz9iOp0lllrRZq2EDBFUU/sL5IdvoFgBF9rEMs63o9ldCWDWAKSwHlDTwH/d3uHq5wScizRPb/1uy8UZCltCaZWWFmva4Ej4wKfLJT5fL1HTOfitbELwaNuQwIalCBry3M2R2xylK0nkMgG6LWDw1PIGmFSGzKJdR4b2UTax1bFsEjAVxdbSQySPpM1RfCDSkcUH9n7KnhZ3hNs83A9eb+8j44FQ9tT3ee5rjcGe+3p/AJBNd4yxLfDJAAAAAElFTkSuQmCC" alt="무중단 배포 cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/2f584bd5b14ca2a9732f1798c9d9e0e2/3a443/after-infra-structure.png 930w,
/static/2f584bd5b14ca2a9732f1798c9d9e0e2/4d929/after-infra-structure.png 1860w,
/static/2f584bd5b14ca2a9732f1798c9d9e0e2/a76e0/after-infra-structure.png 2560w" sizes="(max-width: 2560px) 100vw, 2560px" /><img loading="lazy" sizes="(max-width: 2560px) 100vw, 2560px" srcset="/static/2f584bd5b14ca2a9732f1798c9d9e0e2/3a443/after-infra-structure.png 930w,
/static/2f584bd5b14ca2a9732f1798c9d9e0e2/4d929/after-infra-structure.png 1860w,
/static/2f584bd5b14ca2a9732f1798c9d9e0e2/a76e0/after-infra-structure.png 2560w" src="/static/2f584bd5b14ca2a9732f1798c9d9e0e2/a76e0/after-infra-structure.png" alt="무중단 배포 cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><div class="post-card-content css-susx73"><a class="post-card-content-link css-11xyrw0" href="/post/2022-11-01-blue-green-deployment/"><header class="post-card-header css-1s5mbbt"><div class="post-card-primary-tag css-1ws4skr">#무중단배포</div><h2 class="post-card-title css-1pqz7yn">무중단 배포</h2></header><section class="post-card-excerpt css-eyqgbm"><p>무중단 배포를 도입하게 된 계기 프로젝트를 론칭한 이후, 사용자의 피드백을 반영하다보니 운영 환경으로의 배포가 점차 잦아졌습니다. 
문제는 배포를 할 때마다 기존 서버를 내리고 새롭게 띄우는 과정에서 평균 2…</p></section></a><footer class="post-card-meta css-k6f2l9"><ul class="author-list css-teqkql"><li class="author-list-item css-1q168dw"><div class="author-name-tooltip css-1o16atw">4기_잉</div><a class="author-avatar css-cdhz0m" href="/author/4-기-잉/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAgHBQn/xAAYAQACAwAAAAAAAAAAAAAAAAACBQMEBv/aAAwDAQACEAMQAAAB7ekRXQ+cbX0wkJ+N9DiqDQQ0v//EABkQAAMBAQEAAAAAAAAAAAAAAAMEBQIGAf/aAAgBAQABBQK1XQk45Dp4t4AHs+j6mmvTjQm1MRl6g9C545TAhiwqoSs8Pf8A/8QAIxEAAgIBAwMFAAAAAAAAAAAAAQIDBBEAEiEFFFEVIzFB8P/aAAgBAwEBPwGt02xWq2+7kSG3SmjD0so822RkTe5jkKoqFlBHLbjtZVyM5Pg66gT6rcP2b1jJ8++3zpScDn9xr//EACQRAAIBAwIGAwAAAAAAAAAAAAECEQMEIQASBRMiQVJxkdHw/9oACAECAQE/AavELa4q0BbHnUq6sBcCVpgqpcIFZQzFgGM4G0SN2YgeX741b9ItgMCbYQMCNq49aIEnHf61/8QAKBAAAgIBBAECBgMAAAAAAAAAAQIDBBEABRIhEyMxBhQiMjNBQmFx/9oACAEBAAY/Am3DcrC1qkA9SVgzYaV4441AUFizuQAAP9wM6NjabsdpYJPHOmHjnryfpZoJQsicsEo2ODgZRj3od41uCvRO7VMxRy+D8cZRknM8f85XrAB8JjBI7OCuvh/fq6V4K2+UzHWgjWNLgh2pvlAbIjqwZVOo43d53JB5PyzpTk6vFpG9G1DAgB+nx2GAfKnIJH3Kf03vnrQEOR45rUQ7PtBZQKeOeCs3lbnwVQcDoaKJNhV9uv61/8QAHRABAQACAgMBAAAAAAAAAAAAAREAITFhQVFxgf/aAAgBAQABPyEIvAY5EHosVQIEGS+isZ5A1ASEj8H4esI7XaX5FY3rkLguQKloWbtpuiSofT8OsP0rsQpZjheSYAYquXupIBReow18kgDoa725/9oADAMBAAIAAwAAABDMP0L/xAAgEQEAAQMDBQAAAAAAAAAAAAABABEhMUFRYXGBkbHw/9oACAEDAQE/EHm4g7UwpnTJFYEBb1HPTjj3uRCFaiKu5N3vMzYNX7l8s//EAB8RAQABBAIDAQAAAAAAAAAAAAERACExQVFxgZGh0f/aAAgBAgEBPxBPDjQNEjgZ0gKMrIztTZosx35ivl9kNhBYtoi7y0iYPQ5/b7r/xAAcEAEBAAMAAwEAAAAAAAAAAAABEQAhMUFRcdH/2gAIAQEAAT8QfVfGQfdEtsRspckgCtudJU1gYOELrYUwtlV18xt+FA9j/wAzrDw9qxERdNgoTeCCzakR4RSd9/rujfEUzD7ixLK96Ef9WgrOdQWY6ik8oToVr8PGf//Z" alt="4기_잉" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/321f2fb3f306933bfd7ee26a44327f82/fd013/ing.jpg 200w,
/static/321f2fb3f306933bfd7ee26a44327f82/25252/ing.jpg 400w,
/static/321f2fb3f306933bfd7ee26a44327f82/2f1b1/ing.jpg 800w,
/static/321f2fb3f306933bfd7ee26a44327f82/0ff54/ing.jpg 1200w,
/static/321f2fb3f306933bfd7ee26a44327f82/06655/ing.jpg 1600w,
/static/321f2fb3f306933bfd7ee26a44327f82/7403c/ing.jpg 2316w" sizes="(max-width: 800px) 100vw, 800px" /><img loading="lazy" sizes="(max-width: 800px) 100vw, 800px" srcset="/static/321f2fb3f306933bfd7ee26a44327f82/fd013/ing.jpg 200w,
/static/321f2fb3f306933bfd7ee26a44327f82/25252/ing.jpg 400w,
/static/321f2fb3f306933bfd7ee26a44327f82/2f1b1/ing.jpg 800w,
/static/321f2fb3f306933bfd7ee26a44327f82/0ff54/ing.jpg 1200w,
/static/321f2fb3f306933bfd7ee26a44327f82/06655/ing.jpg 1600w,
/static/321f2fb3f306933bfd7ee26a44327f82/7403c/ing.jpg 2316w" src="/static/321f2fb3f306933bfd7ee26a44327f82/2f1b1/ing.jpg" alt="4기_잉" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><div class="post-card-byline-content css-12ys16c"><span><a href="/author/4-기-잉/">4기_잉</a></span><span class="post-card-byline-date"><time dateTime="2022-11-01">01 Nov 2022</time> <span class="bull">•</span> <!-- -->6<!-- --> min read</span></div></footer></div></article></div></div></aside><style data-emotion="css 1snipao">.css-1snipao{position:relative;padding:0 5vw;position:relative;padding-top:20px;padding-bottom:60px;color:#fff;background:#000;}</style><footer class="css-1snipao"><style data-emotion="css 1fhv7oo">.css-1fhv7oo{margin:0 auto;max-width:1040px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(255, 255, 255, 0.7);font-size:1.3rem;}.css-1fhv7oo a{color:rgba(255, 255, 255, 0.7);}.css-1fhv7oo a:hover{color:rgba(255, 255, 255, 1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 650px){.css-1fhv7oo{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-1fhv7oo"><section class="copyright"><a href="/">Tecoble</a> © <!-- -->2023<!-- --> <a href="/">| <!-- -->Tecoble<!-- --> <!-- -->is based on woowacourse</a></section><style data-emotion="css 29c7f9">.css-29c7f9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-29c7f9 a{position:relative;margin-left:20px;}.css-29c7f9 a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-29c7f9 a:first-of-type:before{display:none;}@media (max-width: 650px){.css-29c7f9 a:first-of-type{margin-left:0;}}</style><nav class="css-29c7f9"><a href="/">Latest Posts</a><a href="https://github.com/scttcper/gatsby-casper" target="_blank" rel="noopener noreferrer">Casper</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7YLT36LV0M"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7YLT36LV0M', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/2022-10-15-test-code-optimization/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f33cc994945b2249d5ee.js"],"app":["/app-7871a49fb71b5d2fd8af.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-f7da68947e50ce346751.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-947f5f80f30345c8f7f8.js"],"component---src-templates-author-tsx":["/component---src-templates-author-tsx-e3b8ed1aaa2c94077bfa.js"],"component---src-templates-index-tsx":["/component---src-templates-index-tsx-ead65a5aeec7d773bee7.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-a08628f9047d81b892e4.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-a3927cd825a62272db18.js"]};/*]]>*/</script><script src="/polyfill-f33cc994945b2249d5ee.js" nomodule=""></script><script src="/component---src-templates-post-tsx-a08628f9047d81b892e4.js" async=""></script><script src="/commons-4c188b18bcaae3f07bde.js" async=""></script><script src="/app-7871a49fb71b5d2fd8af.js" async=""></script><script src="/framework-2de79c8137b068b61a3a.js" async=""></script><script src="/webpack-runtime-674180cef417bd6b6e8f.js" async=""></script></body></html>