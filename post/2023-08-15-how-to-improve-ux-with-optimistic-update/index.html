<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.11.0"/><meta data-react-helmet="true" name="description" content="들어가며: 낙관적 업데이트, 왜 필요할까? 장바구니에 상품을 추가했는데, 왜 화면에는 바로 반영되지 않을까? 낙관적 업데이트의 필요성을 처음 느낀 순간은,  기능을 만들 때였습니다. ‘장바구니 상품 추가’를 위해 POST…"/><meta data-react-helmet="true" property="og:site_name" content="Tecoble"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="낙관적 업데이트로 사용자 경험을 개선해보자!"/><meta data-react-helmet="true" property="og:description" content="들어가며: 낙관적 업데이트, 왜 필요할까? 장바구니에 상품을 추가했는데, 왜 화면에는 바로 반영되지 않을까? 낙관적 업데이트의 필요성을 처음 느낀 순간은,  기능을 만들 때였습니다. ‘장바구니 상품 추가’를 위해 POST…"/><meta data-react-helmet="true" property="og:url" content="https://tecoble.techcourse.co.kr/post/2023-08-15-how-to-improve-ux-with-optimistic-update/"/><meta data-react-helmet="true" property="og:image" content="https://tecoble.techcourse.co.kr/static/3f2c78829b67496302b9dafa75d6ca87/2b2b7/how-to-improve-ux-with-optimistic-update.png"/><meta data-react-helmet="true" property="article:published_time" content="2023-10-05T12:00:00.000Z"/><meta data-react-helmet="true" property="article:tag" content="TanStack Query"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="낙관적 업데이트로 사용자 경험을 개선해보자!"/><meta data-react-helmet="true" name="twitter:description" content="들어가며: 낙관적 업데이트, 왜 필요할까? 장바구니에 상품을 추가했는데, 왜 화면에는 바로 반영되지 않을까? 낙관적 업데이트의 필요성을 처음 느낀 순간은,  기능을 만들 때였습니다. ‘장바구니 상품 추가’를 위해 POST…"/><meta data-react-helmet="true" name="twitter:url" content="https://tecoble.techcourse.co.kr/post/2023-08-15-how-to-improve-ux-with-optimistic-update/"/><meta data-react-helmet="true" name="twitter:image" content="https://tecoble.techcourse.co.kr/static/3f2c78829b67496302b9dafa75d6ca87/2b2b7/how-to-improve-ux-with-optimistic-update.png"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="5기_제로"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="TanStack Query"/><meta data-react-helmet="true" property="og:image:width" content="1"/><meta data-react-helmet="true" property="og:image:height" content="0.6069565217391304"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="canonical" href="https://tecoble.techcourse.co.kr/post/2023-08-15-how-to-improve-ux-with-optimistic-update/" data-baseprotocol="https:" data-basehost="tecoble.techcourse.co.kr"/><title data-react-helmet="true">낙관적 업데이트로 사용자 경험을 개선해보자!</title><link data-react-helmet="true" rel="icon" href="data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjhJREFUeNrEV4uRgkAMzdmAlGAJdqDXgSVYgiXQgSVYgiWgFYAVYAdqBXv7kDAhhGVFPDOT8QObvPyzRDU55xLPqefSfY7KWkdCkmrlufs/yhnET/0l87ykCLper1QUBV0uF7rf79Xv5fJ5dLVa0Xq9pkgqPP9S7ZInrDx3m83GwSlJkrg0bR65LMucF149CzHObbdbV5ZRkUyJY3673arDWuBut6ve5N8QfjgcOgoAcL/fO++N5l1pQF9OUAPFv9xnFZRBQaRV1bsMBJ8wro8aAOx6iyFwDMFbQyCiPdBnKRi500cIF2Qgf4IAoMTKAXhGK7W8FUo+9oSVE9QqTm/JYrFoJRy7Dp8saKgKYLUmyMUzHQqKjWcoRyzWIOA5ywtkvaRjGsqPkCd0OOAFcC8AdrE82NcfYhjyLEOkgS0AyFSUjJXFY9nyMBoW00w259PpRN5FrYZ9Pp/pHYJMJp4Tj8ej+W+mD/BgkcNnapIyZ/Rl6gDAqJWkQzIFSZktAIiRdjlm/Dsk9wPOh/l8bgNA/OEBCcI3IPJlOEq5L0MzoVtLiyyT4/HYKZMpGxHKPNiI+rrVFK2YB54G1QHA1uqePXYYQQ53UjncgsOItxlrzr8yjq0uqtuzCQCKIRAcWjaGFhIL6GAOaPQAMXYlw0KrAehZE9wHUBUyfq8spagk9qQEAJkaQFAqlMr7QOxaDsUcTpwBa+W8lqexVn3iYvLy1QzXMbRUXM14drx1Nfv25ZS+fT3/E2AAsWMCdac8y9AAAAAASUVORK5CYII=" type="image/x-icon"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion="css-global 1lsbqih">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:inherit;}a{background-color:transparent;}a:active,a:hover{outline:0;}b,strong{font-weight:bold;}i,em,dfn{font-style:italic;}h1{margin:0.67em 0;font-size:2em;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type='button'],input[type='reset'],input[type='submit']{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type='checkbox'],input[type='radio']{box-sizing:border-box;padding:0;}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{height:auto;}input[type='search']{box-sizing:content-box;-webkit-appearance:textfield;}input[type='search']::-webkit-search-cancel-button,input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{overflow:auto;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}body{overflow-x:hidden;color:#303a3e;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:'liga' on;}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed;}audio,canvas,iframe,img,svg,video{vertical-align:middle;}fieldset{margin:0;padding:0;border:0;}textarea{resize:vertical;}p,ul,ol,dl,blockquote{margin:0 0 1.5em 0;}ol,ul{padding-left:1.3em;padding-right:1.5em;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}ul{list-style:disc;}ol{list-style:decimal;}ul,ol{max-width:100%;}li{margin:0.5em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171A;font-weight:500;text-align:right;}dd{margin:0 0 5px 0;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em 0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:300;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote cite{font-weight:bold;}blockquote cite a{font-weight:normal;}a{color:#26a6ed;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:600;text-rendering:optimizeLegibility;}h1{margin:0 0 0.5em 0;font-size:5.5rem;font-weight:600;}@media (max-width: 500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em 0;font-size:2.2rem;}@media (max-width: 500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em 0;font-size:1.8rem;font-weight:500;}@media (max-width: 500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em 0;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}body{background:#fff;}@media (prefers-color-scheme: dark){body{color:rgba(255, 255, 255, 0.75);background:#191b1f;}img{opacity:0.9;}}</style><style data-emotion="css wv5on3">.css-wv5on3 .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-wv5on3 .site-main{background:#191b1f;}}</style><style data-emotion="css 1qvd43r">.css-1qvd43r{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-1qvd43r .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-1qvd43r .site-main{background:#191b1f;}}</style><div class="css-1qvd43r e1qe12yx0"><header class="site-header"><style data-emotion="css 1qxgdzi">.css-1qxgdzi{position:relative;padding:0 5vw;position:fixed;top:0;right:0;left:0;z-index:1000;background:#0a0b0c;}@media (max-width: 700px){.css-1qxgdzi{padding-right:0;padding-left:0;}}</style><div class="css-1qxgdzi"><style data-emotion="css y521qa">.css-y521qa{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-y521qa"><style data-emotion="css lcmrfl">.css-lcmrfl{position:relative;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;overflow-y:hidden;height:64px;font-size:1.3rem;}</style><nav class="css-lcmrfl"><style data-emotion="css crtwut">.css-crtwut{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;margin-right:10px;padding:10px 0 80px;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;white-space:nowrap;-ms-overflow-scrolling:touch;}@media (max-width: 700px){.css-crtwut{margin-right:0;padding-left:5vw;}}</style><div class="site-nav-left css-crtwut e16cumcd4"><style data-emotion="css 3oagtl">.css-3oagtl{position:relative;z-index:100;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:inline-block;margin-right:32px;padding:12px 0;color:#fff;font-size:1.7rem;line-height:1.8rem;font-weight:bold;letter-spacing:-0.5px;text-transform:none;}.css-3oagtl:hover{-webkit-text-decoration:none;text-decoration:none;}.css-3oagtl img{display:block;width:auto;height:21px;}</style><a class="site-nav-logo css-3oagtl" href="/"><img src="/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png" alt="Tecoble"/></a><style data-emotion="css 1xdepn">.css-1xdepn{position:relative;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;}</style><div class="css-1xdepn e16cumcd3"><style data-emotion="css ps6dy3">.css-ps6dy3{position:absolute;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-ps6dy3 li{display:block;margin:0;padding:0;}.css-ps6dy3 li a{position:relative;display:block;padding:12px 12px;color:#fff;opacity:0.8;-webkit-transition:opacity 0.35s ease-in-out;transition:opacity 0.35s ease-in-out;}.css-ps6dy3 li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-ps6dy3 li a:before{content:'';position:absolute;right:100%;bottom:8px;left:12px;height:1px;background:#fff;opacity:0.25;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-ps6dy3 li a:hover:before{right:12px;opacity:0.5;}</style><ul role="menu" class="css-ps6dy3"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="https://woowacourse.github.io/">woowacourse</a></li></ul><style data-emotion="css 1wu52sc">.css-1wu52sc{visibility:hidden;position:absolute;top:9px;color:#fff;font-size:1.7rem;font-weight:400;text-transform:none;opacity:0;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);-webkit-transform:translateY(175%);-moz-transform:translateY(175%);-ms-transform:translateY(175%);transform:translateY(175%);}.css-1wu52sc .dash{left:-25px;}.css-1wu52sc .dash:before{content:'– ';opacity:0.5;}</style><span class="nav-post-title css-1wu52sc e16cumcd0">낙관적 업데이트로 사용자 경험을 개선해보자!</span></div></div><style data-emotion="css 1p9q30u">.css-1p9q30u{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:10px 0;height:64px;}@media (max-width: 700px){.css-1p9q30u{display:none;}}</style><div class="css-1p9q30u e16cumcd2"><style data-emotion="css 1z0rm8f">.css-1z0rm8f{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-1z0rm8f e16cumcd1"></div></div></nav></div></div></header><style data-emotion="css 12lzzeq">.css-12lzzeq{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 5vw;}@media (prefers-color-scheme: dark){.css-12lzzeq{background:#191b1f;}}</style><main id="site-main" class="site-main css-12lzzeq"><div class="css-y521qa"><style data-emotion="css 1wcdnkk">.css-1wcdnkk{position:relative;z-index:50;}</style><article class="css-1wcdnkk"><style data-emotion="css 1ypjvfm">.css-1ypjvfm{position:relative;margin:0 auto;padding:70px 170px 50px;border-top-left-radius:3px;border-top-right-radius:3px;}@media (max-width: 1170px){.css-1ypjvfm{padding:60px 11vw 50px;}}@media (max-width: 800px){.css-1ypjvfm{padding-right:5vw;padding-left:5vw;}}@media (max-width: 500px){.css-1ypjvfm{padding:20px 0 35px;}}</style><header class="post-full-header css-1ypjvfm ew4hrjd5"><style data-emotion="css h2mu2u">.css-h2mu2u{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:2.5rem;line-height:1.4em;font-weight:600;text-transform:uppercase;}</style><section class="post-full-tags css-h2mu2u ew4hrjd4"><a href="/tags/tan-stack-query/">#TanStack Query</a>,  <a href="/tags/optimistic-update/">#optimistic-update</a>,  <a href="/tags/optimistic-ui/">#optimistic-UI</a></section><style data-emotion="css qia1z6">.css-qia1z6{margin:0 0 0.2em;color:#0b0c0e;}@media (max-width: 500px){.css-qia1z6{margin-top:0.2em;font-size:3.3rem;}}@media (prefers-color-scheme: dark){.css-qia1z6{color:rgba(255, 255, 255, 0.9);}}</style><h1 class="post-full-title css-qia1z6 ew4hrjd1">낙관적 업데이트로 사용자 경험을 개선해보자!</h1><style data-emotion="css 16sbnz0">.css-16sbnz0{margin:20px 0 0;color:var(--midgrey);font-family:Georgia,serif;font-size:2.3rem;line-height:1.4em;font-weight:300;}@media (max-width: 500px){.css-16sbnz0{font-size:1.9rem;line-height:1.5em;}}@media (prefers-color-scheme: dark){.css-16sbnz0{color:#90a2aa;}}</style><p class="post-full-custom-excerpt css-16sbnz0 ew4hrjd3"></p><style data-emotion="css 1pygz0x">.css-1pygz0x{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:35px 0 0;padding-top:15px;border-top:1px solid #e4eaed;}.css-1pygz0x .post-full-byline-content{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-1pygz0x .post-full-byline-content .author-list{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:0 12px 0 0;}.css-1pygz0x .post-full-byline-meta{margin:2px 0 0;color:#90a2aa;font-size:1.2rem;line-height:1.2em;letter-spacing:0.2px;text-transform:uppercase;}.css-1pygz0x .post-full-byline-meta h4{margin:0 0 3px;font-size:1.3rem;line-height:1.4em;font-weight:500;}.css-1pygz0x .post-full-byline-meta h4 a{color:#2c3036;}.css-1pygz0x .post-full-byline-meta h4 a:hover{color:#15171A;}.css-1pygz0x .post-full-byline-meta .bull{display:inline-block;margin:0 4px;opacity:0.6;}@media (prefers-color-scheme: dark){.css-1pygz0x{border-top-color:#3b4049;}.css-1pygz0x .post-full-byline-meta h4 a{color:rgba(255, 255, 255, 0.75);}.css-1pygz0x .post-full-byline-meta h4 a:hover{color:#fff;}}</style><div class="post-full-byline css-1pygz0x ew4hrjd2"><section class="post-full-byline-content"><style data-emotion="css 12fmpzj">.css-12fmpzj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 0 0 4px;padding:0;list-style:none;}</style><ul class="author-list css-12fmpzj e1y81fg50"><style data-emotion="css rzestn">.css-rzestn{position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin:0;padding:0;}.css-rzestn:hover .author-name-tooltip{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}</style><li class="author-list-item css-rzestn ekzlxzj1"><style data-emotion="css nqg22v">.css-nqg22v{position:absolute;bottom:130%;left:50%;z-index:600;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:-200px;width:400px;font-size:1.4rem;line-height:1.5em;background:white;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.06) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:scale(0.98) translateY(15px);-moz-transform:scale(0.98) translateY(15px);-ms-transform:scale(0.98) translateY(15px);transform:scale(0.98) translateY(15px);pointer-events:none;padding:20px 20px 22px;}.css-nqg22v:before{content:'';position:absolute;top:100%;left:50%;display:block;margin-left:-8px;width:0;height:0;border-top:8px solid #fff;border-right:8px solid transparent;border-left:8px solid transparent;}.css-nqg22v .author-info{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:0 0 0 20px;}.css-nqg22v .author-info h2{margin:8px 0 0;font-size:1.6rem;}.css-nqg22v .author-info p{margin:4px 0 0;color:color(var(--midgrey) l(-10%));}.css-nqg22v .author-info .bio h2{margin-top:0;}.css-nqg22v .author-info .bio p{margin-top:0.8em;}.css-nqg22v .author-profile-image{-webkit-flex:0 0 60px;-ms-flex:0 0 60px;flex:0 0 60px;margin:0;width:60px;height:60px;border:none;}@media (max-width: 1170px){.css-nqg22v{margin-left:-50px;width:430px;}.css-nqg22v:before{left:50px;}}@media (max-width: 650px){.css-nqg22v{display:none;}}@media (prefers-color-scheme: dark){.css-nqg22v{background:#22252a;box-shadow:0 12px 26px rgba(0, 0, 0, 0.4);}.css-nqg22v:before{border-top-color:#22252a;}}</style><div class="author-card css-nqg22v"><style data-emotion="css 1kq7wgl">.css-1kq7wgl{display:block;width:100%;height:100%;background:#e4eaed;border-radius:100%;object-fit:cover;}@media (prefers-color-scheme: dark){.css-1kq7wgl{background:#191b1f;}}</style><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:133.33333333333331%"></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#c8b8a8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/047c54c5e2848582e3dd68654a0cf79c/34de0/jero.webp 40w,/static/047c54c5e2848582e3dd68654a0cf79c/8ee79/jero.webp 80w,/static/047c54c5e2848582e3dd68654a0cf79c/d3719/jero.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/047c54c5e2848582e3dd68654a0cf79c/d1059/jero.jpg" data-srcset="/static/047c54c5e2848582e3dd68654a0cf79c/c47cb/jero.jpg 40w,/static/047c54c5e2848582e3dd68654a0cf79c/178b5/jero.jpg 80w,/static/047c54c5e2848582e3dd68654a0cf79c/d1059/jero.jpg 120w" alt="5기_제로"/></picture><noscript><picture><source type="image/webp" srcSet="/static/047c54c5e2848582e3dd68654a0cf79c/34de0/jero.webp 40w,/static/047c54c5e2848582e3dd68654a0cf79c/8ee79/jero.webp 80w,/static/047c54c5e2848582e3dd68654a0cf79c/d3719/jero.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/047c54c5e2848582e3dd68654a0cf79c/d1059/jero.jpg" srcSet="/static/047c54c5e2848582e3dd68654a0cf79c/c47cb/jero.jpg 40w,/static/047c54c5e2848582e3dd68654a0cf79c/178b5/jero.jpg 80w,/static/047c54c5e2848582e3dd68654a0cf79c/d1059/jero.jpg 120w" alt="5기_제로"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><div class="author-info"><div class="bio"><h2>5기_제로</h2><p>우아한테크코스 5기 제로(강인영)입니다 :)</p><p><a href="/author/5-기-제로/">More posts</a> by<!-- --> <!-- -->5기_제로<!-- -->.</p></div></div></div><style data-emotion="css 1smzq71">.css-1smzq71{display:block;overflow:hidden;margin:0 -4px;width:40px;height:40px;border:#fff 2px solid;border-radius:100%;-webkit-transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;}@media (max-width: 500px){.css-1smzq71{width:36px;height:36px;}}@media (prefers-color-scheme: dark){.css-1smzq71{border-color:#1a1c20;}}</style><a class="author-avatar css-1smzq71" href="/author/5-기-제로/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:133.33333333333331%"></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#c8b8a8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/047c54c5e2848582e3dd68654a0cf79c/34de0/jero.webp 40w,/static/047c54c5e2848582e3dd68654a0cf79c/8ee79/jero.webp 80w,/static/047c54c5e2848582e3dd68654a0cf79c/d3719/jero.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/047c54c5e2848582e3dd68654a0cf79c/d1059/jero.jpg" data-srcset="/static/047c54c5e2848582e3dd68654a0cf79c/c47cb/jero.jpg 40w,/static/047c54c5e2848582e3dd68654a0cf79c/178b5/jero.jpg 80w,/static/047c54c5e2848582e3dd68654a0cf79c/d1059/jero.jpg 120w" alt="5기_제로"/></picture><noscript><picture><source type="image/webp" srcSet="/static/047c54c5e2848582e3dd68654a0cf79c/34de0/jero.webp 40w,/static/047c54c5e2848582e3dd68654a0cf79c/8ee79/jero.webp 80w,/static/047c54c5e2848582e3dd68654a0cf79c/d3719/jero.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/047c54c5e2848582e3dd68654a0cf79c/d1059/jero.jpg" srcSet="/static/047c54c5e2848582e3dd68654a0cf79c/c47cb/jero.jpg 40w,/static/047c54c5e2848582e3dd68654a0cf79c/178b5/jero.jpg 80w,/static/047c54c5e2848582e3dd68654a0cf79c/d1059/jero.jpg 120w" alt="5기_제로"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><a href="/author/5-기-제로/">5기_제로</a></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2023-10-05">05 Oct 2023</time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->7<!-- --> min read</span></div></section></section></div></header><style data-emotion="css 1aw8std">.css-1aw8std{margin:25px 0 50px;height:560px;background:#c5d2d9 center center;-webkit-background-size:cover;background-size:cover;border-radius:5px;}@media (max-width: 1170px){.css-1aw8std{margin:25px -6vw 50px;border-radius:0;}.css-1aw8std img{max-width:1170px;}}@media (max-width: 800px){.css-1aw8std{height:400px;}}@media (max-width: 500px){.css-1aw8std{margin-bottom:4vw;height:350px;}}</style><figure class="css-1aw8std ew4hrjd0"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:60.69565217391304%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABw0lEQVR42q2TzUtUURTAXfcf+Be4addeCArCNgNGMi0KbCFtlCEroYVYMQxIxEyQLaYMXAilQikDgWJMKRYjBE30Mabjm7FhmI831nz07nv3/nrzZgZK34iIF+7nOfd3zj3n3A4O0ZRSCGE63TBMLEu21e3gmJsLUNVdaqxkYy7qZR5PLjIeesnw7TBLbz4657IpP5yHNrR1YTuV49wFP+f7AnSdGuBROOKcG8Jq2XYH1mXmnxpm5ZezF9WyPVpoOwW8V0Osx9PkdwXJbInUVgEtXaJmWO2ATVPpT6j1BcROAvPDPGysomV0vP0PiG9m+C5SJIpZMnemSa5+oyJdPFRNvwulGsHgDK+ePMWyoYvRFRZiGomUTu+Vh8Q3cujSIFcy2I5tkvyRpyrkfmArVu9iW5w842fy0mnEjR6e+3wEJ64z/2yEW4MDXPOF8HgDTM9FHf2KXUJ7E/NfDC1bmM8Wqb0Y5fdYPz/vDfI6fJnZ8bNM3e2mxzPEic6L3A/NOPqmSz26Zlk2Q1CtlPHcnCDy9j16JkH8S5LPXzVyhV3+DdWBwPoTlJSNsjEFkeU1svliW8CRfopS0jZiOV+u3g8C/wXUSXwkQwqu7QAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/avif" data-srcset="/static/3f2c78829b67496302b9dafa75d6ca87/74438/how-to-improve-ux-with-optimistic-update.avif 575w" sizes="100vw"/><source type="image/webp" data-srcset="/static/3f2c78829b67496302b9dafa75d6ca87/83532/how-to-improve-ux-with-optimistic-update.webp 575w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/3f2c78829b67496302b9dafa75d6ca87/2b2b7/how-to-improve-ux-with-optimistic-update.png" data-srcset="/static/3f2c78829b67496302b9dafa75d6ca87/2b2b7/how-to-improve-ux-with-optimistic-update.png 575w" alt="낙관적 업데이트로 사용자 경험을 개선해보자!"/></picture><noscript><picture><source type="image/avif" srcSet="/static/3f2c78829b67496302b9dafa75d6ca87/74438/how-to-improve-ux-with-optimistic-update.avif 575w" sizes="100vw"/><source type="image/webp" srcSet="/static/3f2c78829b67496302b9dafa75d6ca87/83532/how-to-improve-ux-with-optimistic-update.webp 575w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/3f2c78829b67496302b9dafa75d6ca87/2b2b7/how-to-improve-ux-with-optimistic-update.png" srcSet="/static/3f2c78829b67496302b9dafa75d6ca87/2b2b7/how-to-improve-ux-with-optimistic-update.png 575w" alt="낙관적 업데이트로 사용자 경험을 개선해보자!"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></figure><style data-emotion="css 1uqx25x">.css-1uqx25x{position:relative;margin:0 auto;padding:0 170px 6vw;min-height:230px;font-family:Georgia,serif;font-size:2rem;line-height:1.6em;background:#fff;}@media (max-width: 1170px){.css-1uqx25x{padding:0 11vw;}}@media (max-width: 800px){.css-1uqx25x{padding:0 5vw;font-size:1.8rem;}}@media (max-width: 500px){.css-1uqx25x{padding:0;}}@media (max-width: 500px){.css-1uqx25x .post-full-custom-excerpt{font-size:1.9rem;line-height:1.5em;}}.css-1uqx25x .no-image{padding-top:0;}.css-1uqx25x h1,.css-1uqx25x h2,.css-1uqx25x h3,.css-1uqx25x h4,.css-1uqx25x h5,.css-1uqx25x h6,.css-1uqx25x p,.css-1uqx25x ul,.css-1uqx25x ol,.css-1uqx25x dl,.css-1uqx25x pre,.css-1uqx25x blockquote,.css-1uqx25x .post-full-comments,.css-1uqx25x .footnotes{margin:0 0 1.5em 0;min-width:100%;}@media (max-width: 500px){.css-1uqx25x p,.css-1uqx25x ul,.css-1uqx25x ol,.css-1uqx25x dl,.css-1uqx25x pre,.css-1uqx25x .post-full-comments,.css-1uqx25x .footnotes{margin-bottom:1.28em;}}.css-1uqx25x li{word-break:break-word;}.css-1uqx25x li p{margin:0;}.css-1uqx25x a{color:#15171A;word-break:break-word;box-shadow:#15171A 0 -1px 0 inset;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1uqx25x a:hover{color:#3eb0ef;-webkit-text-decoration:none;text-decoration:none;box-shadow:#3eb0ef 0 -1px 0 inset;}.css-1uqx25x strong,.css-1uqx25x em{color:#0a0b0c;}.css-1uqx25x small{display:inline-block;line-height:1.6em;}.css-1uqx25x img,.css-1uqx25x video{display:block;margin:1.5em auto;width:100%;max-width:1040px;height:auto;}@media (max-width: 1040px){.css-1uqx25x img,.css-1uqx25x video{width:100%;}}.css-1uqx25x img[src$='#full']{max-width:none;width:100vw;}.css-1uqx25x img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1uqx25x iframe{margin:0 auto!important;}.css-1uqx25x blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:#3eb0ef 3px solid;}@media (max-width: 500px){.css-1uqx25x blockquote{padding:0 1.3em;}}.css-1uqx25x blockquote p{margin:0 0 1em 0;color:inherit;font-size:inherit;line-height:inherit;font-style:italic;}.css-1uqx25x blockquote p:last-child{margin-bottom:0;}.css-1uqx25x code{padding:0 5px 2px;font-size:0.8em;line-height:1em;font-weight:400!important;background:#e5eff5;border-radius:3px;}.css-1uqx25x p code{word-break:break-all;}.css-1uqx25x pre{overflow-x:auto;padding:20px;max-width:100%;color:#e5eff5;font-size:1.4rem;line-height:1.5em;border-radius:5px;}.css-1uqx25x pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1uqx25x pre code :not(span){color:inherit;}.css-1uqx25x .fluid-width-video-wrapper{margin:1.5em 0 3em;}.css-1uqx25x hr{margin:2em 0;}.css-1uqx25x hr:after{content:'';position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#e4eaed;box-shadow:#fff 0 0 0 5px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.css-1uqx25x hr+p{margin-top:1.2em;}.css-1uqx25x h1,.css-1uqx25x h2,.css-1uqx25x h3,.css-1uqx25x h4,.css-1uqx25x h5,.css-1uqx25x h6{color:#0a0b0c;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.css-1uqx25x h1{margin:0.5em 0 0.4em;font-size:4.2rem;line-height:1.25em;font-weight:600;}.css-1uqx25x p+h1{margin-top:0.8em;}@media (max-width: 800px){.css-1uqx25x h1{font-size:3.2rem;line-height:1.25em;}}.css-1uqx25x h2{margin:0.5em 0 0.4em;font-size:3.2rem;line-height:1.25em;font-weight:600;}.css-1uqx25x p+h2{margin-top:0.8em;}@media (max-width: 800px){.css-1uqx25x h2{margin-bottom:0.3em;font-size:2.8rem;line-height:1.25em;}}.css-1uqx25x h3{margin:0.5em 0 0.2em;font-size:2.5rem;line-height:1.3em;font-weight:600;}.css-1uqx25x h2+h3{margin-top:0.7em;}@media (max-width: 800px){.css-1uqx25x h3{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1uqx25x h4{margin:0.5em 0 0.2em;font-size:2.5rem;font-weight:600;}.css-1uqx25x h2+h4{margin-top:0.7em;}.css-1uqx25x h3+h4{margin-top:0;}@media (max-width: 800px){.css-1uqx25x h4{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1uqx25x h5{display:block;margin:0.5em 0;padding:0.4em 1em 0.9em;border:0;color:#3eb0ef;font-family:Georgia,serif;font-size:3.2rem;line-height:1.35em;text-align:center;}@media (min-width: 1180px){.css-1uqx25x h5{max-width:1060px;}}@media (max-width: 800px){.css-1uqx25x h5{margin-bottom:1em;margin-left:1.3em;padding:0 0 0.5em;font-size:2.4rem;text-align:initial;}}.css-1uqx25x h6{margin:0.5em 0 0.2em 0;font-size:2rem;font-weight:700;}@media (max-width: 800px){.css-1uqx25x h6{font-size:1.8rem;line-height:1.4em;}}.css-1uqx25x table{display:inline-block;overflow-x:auto;margin:0.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;}.css-1uqx25x table{-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 0 center,radial-gradient(ellipse at right, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 100% center;background-attachment:scroll,scroll;-webkit-background-size:10px 100%,10px 100%;background-size:10px 100%,10px 100%;background-repeat:no-repeat;}.css-1uqx25x table td:first-of-type{background-image:linear-gradient(
      to right,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1uqx25x table td:last-child{background-image:linear-gradient(
      to left,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-position:100% 0;background-position:100% 0;-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1uqx25x table th{color:#15171A;font-size:1.2rem;font-weight:700;letter-spacing:0.2px;text-align:left;text-transform:uppercase;background-color:#f4f8fb;}.css-1uqx25x table th,.css-1uqx25x table td{padding:6px 12px;border:#e1edf4 1px solid;}@media (prefers-color-scheme: dark){.css-1uqx25x{background:#191b1f;}.css-1uqx25x h1,.css-1uqx25x h2,.css-1uqx25x h3,.css-1uqx25x h4,.css-1uqx25x h6{color:rgba(255, 255, 255, 0.9);}.css-1uqx25x a{color:#fff;box-shadow:inset 0 -1px 0 #fff;}.css-1uqx25x strong{color:#fff;}.css-1uqx25x em{color:#fff;}.css-1uqx25x code{color:#fff;background:#000;}.css-1uqx25x hr{border-top-color:#2b2f36;}.css-1uqx25x figcaption{color:rgba(255, 255, 255, 0.6);}.css-1uqx25x table td:first-of-type{background-image:linear-gradient(to right, #191b1f 50%, #191b1f 100%);}.css-1uqx25x table td:last-child{background-image:linear-gradient(270deg, #191b1f 50%, rgba(25, 27, 31, 0));}.css-1uqx25x table th{color:rgba(255, 255, 255, 0.85);background-color:#2b2f36;}.css-1uqx25x table th,.css-1uqx25x table td{border:#2b2f36 1px solid;}.css-1uqx25x .kg-bookmark-container,.css-1uqx25x .kg-bookmark-container:hover{color:rgba(255, 255, 255, 0.75);box-shadow:0 0 1px rgba(255, 255, 255, 0.9);}}.css-1uqx25x code[class*='language-'],.css-1uqx25x pre[class*='language-']{color:white;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1uqx25x pre[class*='language-']{overflow:auto;}.css-1uqx25x *:not(pre)>code[class*='language-']{border-radius:0.3em;background:rgb(1, 22, 39);color:white;padding:0.15em 0.5em;white-space:normal;}.css-1uqx25x .token.attr-name{color:rgb(173, 219, 103);font-style:italic;}.css-1uqx25x .token.comment{color:rgb(128, 147, 147);}.css-1uqx25x .token.string,.css-1uqx25x .token.url{color:rgb(173, 219, 103);}.css-1uqx25x .token.variable{color:rgb(214, 222, 235);}.css-1uqx25x .token.number{color:rgb(247, 140, 108);}.css-1uqx25x .token.builtin,.css-1uqx25x .token.char,.css-1uqx25x .token.constant,.css-1uqx25x .token.function{color:rgb(130, 170, 255);}.css-1uqx25x .token.punctuation{color:rgb(199, 146, 234);}.css-1uqx25x .token.selector,.css-1uqx25x .token.doctype{color:rgb(199, 146, 234);font-style:'italic';}.css-1uqx25x .token.class-name{color:rgb(255, 203, 139);}.css-1uqx25x .token.tag,.css-1uqx25x .token.operator,.css-1uqx25x .token.keyword{color:#ffa7c4;}.css-1uqx25x .token.boolean{color:rgb(255, 88, 116);}.css-1uqx25x .token.property{color:rgb(128, 203, 196);}.css-1uqx25x .token.namespace{color:rgb(178, 204, 214);}.css-1uqx25x pre[data-line]{padding:1em 0 1em 3em;position:relative;}.css-1uqx25x .gatsby-highlight-code-line{background-color:hsla(207, 95%, 15%, 1);display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid #ffa7c4;}.css-1uqx25x .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto;}.css-1uqx25x .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}</style><section class="post-full-content css-1uqx25x eeqvxt70"><div><h2>들어가며: 낙관적 업데이트, 왜 필요할까?</h2>
<blockquote>
<p>장바구니에 상품을 추가했는데, 왜 화면에는 바로 반영되지 않을까?</p>
</blockquote>
<p>낙관적 업데이트의 필요성을 처음 느낀 순간은, <code class="language-text">장바구니에 상품 추가하기</code> 기능을 만들 때였습니다.</p>
<img width="294px" height="381px" src="/15656231a61159a4a143976d70e95530/2023-08-15-image1-without-optimistic.gif"/>
<p>‘장바구니 상품 추가’를 위해 POST 요청을 보내고, 이에 대한 <strong>응답이 오기까지 3초의 지연 시간</strong>이 있다고 해봅시다. 그리고 개발자 네로 씨는 이 응답을 기다렸다가, 응답에 따라 상태를 업데이트하여 UI를 변경하려고 합니다.</p>
<p>이러한 로직이라면, 화면을 보고 있는 사용자들은 위 그림처럼 3초를 기다렸다가, 3초 뒤에야 해당 상품이 장바구니에 담긴 것을 볼 수 있습니다.</p>
<p>사용자들은 이러한 기다림에 대해 불편함을 느꼈고, 네로 씨는 <code class="language-text">서버와의 통신과 상관없이, 화면(또는 UI) 먼저 바꿔줄 수는 없을까?</code> 라는 생각을 하게 됩니다.</p>
<img width="302px" height="381px" src="/3ca7cf80334548259b6ffe75cfd481c9/2023-08-15-image2-with-optimistic.gif"/>
<p>따라서 네로 씨는 서버의 응답이 오기 전에 상태를 먼저 바꿔서, 업데이트된 상태를 화면에 반영해 주기로 했습니다.</p>
<p>사용자들은 이제 위 그림처럼, 장바구니 아이콘을 누른 순간 즉시 ‘아 장바구니에 상품이 추가되었네!’ 라고 느끼게 됩니다.</p>
<p>바로 ‘낙관적 업데이트’를 통해 지연 시간에 대한 불편을 해소한 것이죠!</p>
<h2>낙관적 업데이트는 무엇인가?</h2>
<h3>낙관적 업데이트가 등장하기 이전에는…</h3>
<p><code class="language-text">낙관적 업데 이트(Optimistic Update)</code>는 웹 애플리케이션에서 <strong>사용자 경험을 향상</strong>시키기 위해 사용되는 개념입니다. 주로 네트워크 요청이나 데이터 업데이트와 관련하여 사용됩니다.</p>
<p>프론트엔드의 일반적인 상태 업데이트 방식은 다음과 같습니다.</p>
<ol>
<li>사용자가 어떤 동작(예: 게시글 작성, 댓글 수정, 북마크)을 수행합니다.</li>
<li>서버에 해당 변경 사항(mutation)을 요청하고 응답을 기다립니다.</li>
<li>서버의 응답에 따라 UI를 업데이트합니다.</li>
</ol>
<p>하지만 이 접근 방식은, 장바구니 예시처럼 사용자가 서버의 응답을 기다려야 하므로 네트워크 지연이나 서버 응답 속도가 느릴 경우에는 사용자 경험이 저하될 수 있습니다.</p>
<h3>사용자 경험 향상을 위한 방법, 낙관적 업데이트</h3>
<p><code class="language-text">낙관적 업데이트</code>는 이러한 문제를 해결하기 위한 방법으로, <strong>사용자의 동작에 대한 응답을 기다리지 않고 미리 UI를 업데이트하는 것</strong>입니다.</p>
<p>사용자가 어떤 동작을 수행했을 때, 서버 요청을 보내기 전에 먼저 UI를 업데이트합니다. 서버 응답 성공 시 새로운(업데이트된) 상태를 화면에 그리고, 실패 시에는 오류 메시지를 보여주고 기존의 상태를 유지합니다.</p>
<p>그 결과, 사용자는 동작에 대한 빠른 피드백을 받으므로 애플리케이션이 더 빠르게 반응한다고 느끼게 됩니다.</p>
<p>혹자는 아래와 같은 의문을 가질 수도 있습니다.</p>
<blockquote>
<p>요청에 대한 응답이 빠르게 오도록, 서버의 성능을 높이면 되지 않나요? 🤔</p>
</blockquote>
<p>서버의 응답이 아무리 빠르더라도, <strong>사용자가 어떤 네트워크 환경에 처해 있느냐</strong>에 따라 애플리케이션의 응답 속도가 달라집니다. 예를 들어 지하철  의 공공 와이파이로 접속한 경우, 어떨 때는 네트워크가 불안정할 수도 있죠.</p>
<p>따라서 서버의 응답에만 의존하여 상태(또는 UI)를 업데이트하는 것이 아니라, <code class="language-text">낙관적 업데이트</code> 와 같은 로직을 통해 각기 다른 사용자들의 환경에 대비하는 것이 좀 더 바람직해 보입니다.</p>
<h3>커뮤니티/SNS 서비스 속 낙관적 업데이트</h3>
<p><a href="https://votogether.com">VoTogether(보투게더)</a>라는 투표 중심의 커뮤니티 서비스를 만들면서, <strong>투표 선택지 수정 기능과 댓글 수정</strong> <strong>기능</strong>을 구현해야 했습니다.</p>
<p>그런데 투표 선택지 수정 및 댓글 수정 API 요청을 한 뒤, 이에 대한 응답이 성공적으로 오기 전까지는 사용자가 바라보는 UI가 즉각적으로 수정되지 않았습니다.</p>
<p>사용자는 UI가 업데이트되기를 몇 초간 기다려야 하는데, 이러한 기다림은 사용자 경험을 저하할 수 있다고 생각했습니다.</p>
<p>VoTogether 팀은 서버 데이터로 UI를 업데이트하는 경우가 많았기 때문에 <code class="language-text">TanStack Query</code>나 <code class="language-text">swr</code> 같은 서버 상태 관리 라이브러리를 도입하였고, <code class="language-text">TanStack Query</code>가 제공하는 메서드 중 <code class="language-text">useMutation</code>(onMutate, onError, onSettled)을 이용하여 ‘낙관적 업데이트’를 구현하기로 하였습니다.</p>
<p><code class="language-text">TanStack Query</code>를 사용하지 않고도 낙관적 업데이트를 구현할 수는 있지만, VoTogether 팀은 서버 상태에 대한 관리를 <code class="language-text">TanStack Query</code>를 이용하고 있기에 <a href="https://tanstack.com/query/v4/docs/react/guides/optimistic-updates">공식 문서</a>의 설명을 참고하여 낙관적 업데이트를 구현해 보았습니다!</p>
<h2>상태  관리 라이브러리 없이 구현하기</h2>
<p>먼저 <code class="language-text">TanStack Query</code> 를 사용하지 않고, react의 <code class="language-text">setState(useState)</code>으로만 투표 선택지 수정 기능을 구현해 봅시다.</p>
<ul>
<li>투표 선택지 컴포넌트(VoteOptionList.tsx, styled-components 코드는 생략됨)</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  options<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  selectedOption<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>option<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">updateSelectedOptionApi</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>newOption<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/updateSelectedOption&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      method<span class="token operator">:</span> <span class="token string">&#x27;PUT&#x27;</span><span class="token punctuation">,</span>
      headers<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;application/json&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> newOption <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;투표 선택지 수정 오류 발생&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">투표한 선택지는 : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newOption<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#x27;API error:&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#x27;투표 선택지 수정 중 오류가 발생했어요&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">VoteOptionList</span><span class="token punctuation">(</span><span class="token punctuation">{</span> options<span class="token punctuation">,</span> selectedOption<span class="token punctuation">,</span> onChange <span class="token punctuation">}</span><span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleOptionClick</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>option<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">onChange</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 선택한 선택지 바로 반영</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">await</span> <span class="token function">updateSelectedOptionApi</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 선택한 선택지 수정 API 요청 호출</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#x27;투표 선택지 수정 오류:&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">onChange</span><span class="token punctuation">(</span>selectedOption<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 업데이트 실패 시 선택지 원래대로 돌리기</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VoteListContainer</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>options<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>option<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VoteItem</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleOptionClick</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">OptionRadio</span></span>
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>voteOption<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>option<span class="token punctuation">}</span></span>
            <span class="token attr-name">checked</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selectedOption <span class="token operator">===</span> option<span class="token punctuation">}</span></span>
            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleOptionClick</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
          <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">OptionLabel</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>option<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">OptionLabel</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">VoteItem</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">VoteListContainer</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<ul>
<li>App.tsx (VoteOptionList 컴포넌트의 상위 요소)</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> VoteOptionList <span class="token keyword">from</span> <span class="token string">&#x27;./VoteOptionList&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#x27;취업하기&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;창업하기&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;대학원 진학하기&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>selectedOption<span class="token punctuation">,</span> setSelectedOption<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>options<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleOptionChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span>option<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setSelectedOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 선택한 선택지를 수정</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">진로가 고민됩니다🤔🥺</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VoteOptionList</span></span>
        <span class="token attr-name">options</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>options<span class="token punctuation">}</span></span>
        <span class="token attr-name">selectedOption</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selectedOption<span class="token punctuation">}</span></span>
        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleOptionChange<span class="token punctuation">}</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">투표한 선택지: </span><span class="token punctuation">{</span>selectedOption<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code></pre></div>
<p>위의 코드로 구현한 결과물은 아래와 같습니다.</p>
<img width="612px" height="426px" src="/e31351fbd92f8c94020f4013b958142e/2023-08-15-image3-without-query.gif"/>
<p>처음에는 ‘취업하기’라는 선택지였고, ‘창업하기’라는 선택지로 먼저 낙관적 업데이트를 진행합니다. 그 후 API 요청을 보내고, 응답을 기다리다가 오류가 발생하여 원래의 선택지(’취업하기’)로 되돌리는 모습입니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> <span class="token function-variable function">handleOptionClick</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>option<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">onChange</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 선택한 선택지 바로 반영</span>

  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">updateSelectedOptionApi</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 선택한 선택지 수정 API 요청 호출</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#x27;투표 선택지 수정 오류:&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onChange</span><span class="token punctuation">(</span>selectedOption<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 업데이트 실패 시 선택지 원래대로 돌리기</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>자세한 코드는 <a href="https://codesandbox.io/p/sandbox/xenodochial-hertz-pmllqg?file=%2Fsrc%2FApp.tsx%3A7%2C35">링크</a>에서 참고할 수 있습니다.</p>
<h2>TanStack Query로 구현하기</h2>
<p>이제 <code class="language-text">TanStack Query</code>를 이용하여 선택지 수정 기능에 대한 낙관적 업데이트를 구현해 봅시다.</p>
<ul>
<li>useEditVote.ts</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useMutation<span class="token punctuation">,</span> useQueryClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@tanstack/react-query&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// 선택지 수정 API 요청에 쓰이는 fetch 메서드</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">updateSelectedOptionApi</span><span class="token punctuation">(</span>newOption<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/updateSelectedOption&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">&#x27;PUT&#x27;</span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;application/json&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> newOption <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Failed to update selected option&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 선택지 수정 쿼리</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useEditVote</span> <span class="token operator">=</span> <span class="token punctuation">(</span>postId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token function">useQueryClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> queryKey <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#x27;posts&#x27;</span><span class="token punctuation">,</span> postId<span class="token punctuation">,</span> <span class="token string">&#x27;option&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> mutate<span class="token punctuation">,</span> isLoading<span class="token punctuation">,</span> isError<span class="token punctuation">,</span> error <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMutation</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>newOption<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">updateSelectedOptionApi</span><span class="token punctuation">(</span>newOption<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token function-variable function">onMutate</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>newOption<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 선택지 데이터에 대한 모든 퀴리요청을 취소하여 이전 서버 데이터가 낙관적 업데이트를 덮어쓰지 않도록 함 -&gt; refetch 취소시킴</span>
        <span class="token keyword">await</span> queryClient<span class="token punctuation">.</span><span class="token function">cancelQueries</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> prevOption <span class="token operator">=</span> queryClient<span class="token punctuation">.</span><span class="token function">getQueryData</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 기존 선택지 데이터의 snapshot</span>
        queryClient<span class="token punctuation">.</span><span class="token function">setQueryData</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">,</span> newOption<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 새로운 선택지 데이터로 낙관적 업데이트 실시</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span> prevOption <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// context를 return, context 예시에는 이전 스냅샷, 새로운 값(또는 롤백하는 함수)이 있음</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onError</span><span class="token operator">:</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> _<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 캐시를 저장된 값으로 롤백</span>
        queryClient<span class="token punctuation">.</span><span class="token function">setQueryData</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">,</span> context<span class="token operator">?.</span>prevOption<span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;선택지 수정에 실패했습니다. 다시 시도해주세요.&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onSuccess</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 쿼리 함수의 성공하면 -&gt; 기존 선택지 데이터 무효화</span>
        queryClient<span class="token punctuation">.</span><span class="token function">invalidateQueries</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> mutate<span class="token punctuation">,</span> isLoading<span class="token punctuation">,</span> isError<span class="token punctuation">,</span> error <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li>VoteOptionList.tsx</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">VoteOptionList</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  options<span class="token punctuation">,</span>
  selectedOption<span class="token punctuation">,</span>
  onChange<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> postIdExample <span class="token operator">=</span> <span class="token string">&quot;1234&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> mutate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useEditVote</span><span class="token punctuation">(</span>postIdExample<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleOptionClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span>option<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">onChange</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">mutate</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// .. 중략</span></code></pre></div>
<p>자세한 코드는 <a href="https://codesandbox.io/p/sandbox/intelligent-gates-f999p3?file=%2Fsrc%2FVoteOptionList.tsx%3A26%2C1">링크</a>에서 참고할 수 있습니다.</p>
<p><code class="language-text">TanStack Query</code>의 <a href="https://tanstack.com/query/v4/docs/react/guides/optimistic-updates">공식 문서</a>는 어떠한 매커니즘으로 낙관적 업데이트를 구현하는지 아래와 같이 설명하고 있습니다.</p>
<blockquote>
<p>낙관적으로 상태를 업데이트한 후 변경 작업을 수행할 때, 변경 작업이 실패할 가능성이 있습니다. 이러한 실패 케이스 대부분에서는 낙관적인 쿼리를 다시 가져와서 실제 서버 상태로 되돌릴 수 있습니다. 그러나 어떤 상황에서는 다시 가져오기가 올바르게 작동하지 않을 수 있으며, 변경 작업 오류가 다시 가져오기가 불가능한 종류의 서버 문제를 나타낼 수 있습니다. 이 경우에는 대신 업데이트를 롤백할 수 있습니다.
이를 위해 <code class="language-text">useMutation</code>의 <code class="language-text">onMutate</code> 핸들러 옵션을 사용하여 나중에 오류 및 <code class="language-text">onSettled</code> 핸들러로 전달될 값을 반환할 수 있습니다. 대부분의 경우 롤백 함수를 전달하는 것이 가장 유용합니다.</p>
</blockquote>
<p>이러한 업데이트 및 롤백에 대한 자세한 코드는, 이 <a href="https://tanstack.com/query/v4/docs/react/guides/optimistic-updates#updating-a-list-of-todos-when-adding-a-new-todo">예시 코드</a>에서 확인하실 수 있습니다.</p>
<h3>서버의 응답이 성공한 경우</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"> <span class="token function-variable function">onSuccess</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 쿼리 함수의 성공하면 -&gt; 기존 선택지 데이터 무효화</span>
      queryClient<span class="token punctuation">.</span><span class="token function">invalidateQueries</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></div>
<h3>서버의 응답이 실패한 경우</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token function-variable function">onError</span><span class="token operator">:</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> _<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 캐시를   저장된 값으로 롤백</span>
      queryClient<span class="token punctuation">.</span><span class="token function">setQueryData</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">,</span> context<span class="token operator">?.</span>prevOption<span class="token punctuation">)</span><span class="token punctuation">;</span>
      window<span class="token punctuation">.</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
        <span class="token string">&quot;선택지 수정에 실패했습니다. 다시 시도해주세요.&quot;</span><span class="token punctuation">,</span>
        error
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">TanStack Query</code>에서 진행되는 낙관적 업데이트는 흐름도는 아래와 같습니다.</p>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:757px">
      <a class="gatsby-resp-image-link" href="/static/537c881a4e0fe50884ff1f7e4d237ef5/70668/2023-08-15-image5-optimistic-update-flow.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:55.99999999999999%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVR42oWT3U7bQBCFef/XQWrLHSnlrlIFSaUikwaUNCa24984Xtu783V245ZSIVjpaO3x7plzZsZnvLHc0OP6DhmN7gbb99hji4jofkSsAen1oJ4b/Jmes7cIZRjojcUMYO2URC+Jc6DJokj4+k1YLIQs1ZhVQmuUWS/6y26CTGjKkvlNzOfZih93aza/1tR5QbpLaKs93xdwfj5ycWGpCnsidEpYVxXtoaFpakVDmee0SpbEMW1TUVUFpb7nRUGn3904YrujqofbW0d0L0F1sFxlKVdXM75cX3M5u+TDx0+q5o7dZkunSfD2xPuXybIJMe9MxAWisNvxRDhqcWNV8rB6YLNZs1bkqjBPU0zbYlXRWNeMfp/gl2/Ki7g+B0Jv2dvZ53vKqqQoT/YOijLL/ir7t/NM9l40MMTMidA3ILRRayMBQ7C0225pVkvy+Q1Noo0wHb2q7roOowldnmH3KTZ5wqYJzvixkVNB/4df3eFA/PhItJizvI9Yrn4G1YWWpNaSaGux6sxlOyXO3p/DMEJ/BpDnOWSy96rl9wh98a1a9CUIaJ//FKdxXzKP8G4MvwGk/VNCivUXBQAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="2023 08 15 image5 optimistic update flow" title="" src="/static/537c881a4e0fe50884ff1f7e4d237ef5/70668/2023-08-15-image5-optimistic-update-flow.png" srcSet="/static/537c881a4e0fe50884ff1f7e4d237ef5/0eb09/2023-08-15-image5-optimistic-update-flow.png 500w /static/537c881a4e0fe50884ff1f7e4d237ef5/70668/2023-08-15-image5-optimistic-update-flow.png 757w" sizes="(max-width: 757px) 100vw, 757px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
<h2>낙관적 업데이트는 언제 필요할까?</h2>
<h3>낙관적 업데이트가 필요한 경우</h3>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:835px">
      <a class="gatsby-resp-image-link" href="/static/4471825db9e550637299c77e515c8400/98650/2023-08-15-image6-optimistic-updated-example.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:30%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABW0lEQVR42k2RzXLaQBCEef93yTVVITEYgzFCIEVgEUqOLYP+kVZiJUGOX2aVSw5du10729PTM1Ltnbq7o9obSVmTK01W9ORVT1ZdhbekzY3L9Sa8+fd+6QRSU2uSS4PSotEajTujSkghyMqW6cLFPQS8TDJ+blIWtod3+ODxTXOMGuZLD/s1YDXLsZ4S7P2Rx6VLXNSU0rDSN0aJ6nkKNY5d8DxO2R3fmVs7Dr/PTJ+3BGHC8rNl41dYk4QXUxvKfbvnYbHFl7qV48sfTxy3jIxN1f2RDj2W+4vd4Z11rHGDBnsqDZwL376ceBO+yTscv8Z+yNl8XlmHV1YnTdEadz2VGdkIGqvOPmA8s4YR598z1l7JMmx4lXMxjrFmKbMfZoITq7WP9aEEmsnXs9QnQ47qf8FIcohyNSwhjmURZUckuZjlpOIsTgVJS6auw/JMVAZxpDmd9SBmBP8CRBSzMJGld2oAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="2023 08 15 image6 optimistic updated example" title="" src="/static/4471825db9e550637299c77e515c8400/98650/2023-08-15-image6-optimistic-updated-example.png" srcSet="/static/4471825db9e550637299c77e515c8400/0eb09/2023-08-15-image6-optimistic-updated-example.png 500w /static/4471825db9e550637299c77e515c8400/98650/2023-08-15-image6-optimistic-updated-example.png 835w" sizes="(max-width: 835px) 100vw, 835px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
<p>위 이미지의 <strong>메시지 전송, 좋아요, 즐겨찾기, 투두리스트 체크, 장바구니 담기, 게시글 비공개, 파일 업로드, 북마크</strong> 등은 모두, 낙관적 업데이트가 필요한 기능들입니다.</p>
<p>이러한 기능들의 공통점은, 모두 <strong>기존의 데이터에 업데이트(mutate)를 일으킨다</strong>는 점입니다. 사용자의 동작에 따라 발생한 데이터 업데이트는, 지연 시간(latency) 없이 즉각적인 피드백을 화면에 띄워야 사용자 만족도를 높일 수 있습니다.</p>
<blockquote>
<p>낙관적 업데이트가 굳이 필요한가요? 사용자가 기다리게 하는 것 역시 사용자 경험이 될 수 있지 않나요?</p>
</blockquote>
<p>위와 같은 궁금증이 들 수도 있습니다. 사실 지연 시간 또한 사용자 경험이 될 수 있습니다. 웹 애플리케이션 개념이 등장한 지 얼마 되지 않은 시절에는, 사용자들은 기다림이 문제가 된다는 것을 인지조차 하지 않았습니다.</p>
<p>그러나 세월이 흘러 지금처럼 매일 새로운 콘텐츠가 쏟아져 나오고, 데이터를 업데이트하는 기능들이 다양해지면서 피드백 없는 기다림은 불편 사항이 될 수밖에 없었죠.</p>
<h3>낙관적 업데이트를 지양해야 하는 경우</h3>
<p>물론 낙관적 업데이트가 모든 상태의 업데이트에 필요한 것은 아닙니다. 낙관적 업데이트가 필요하지 않거나, 심지어 사용을 지양해야 하는 경우도 존재합니다.</p>
<p>예를 들어 <strong>장바구니에 상품을 담고 결제를   진행</strong>한다고 해봅시다.</p>
<p>사용자가 결제 버튼을 클릭하면 어떻게 될까요? 일반적으로 결제 요청이 서버로 전송되고, ‘로딩 중’ 같은 문구나 로딩 스피너가 보일 것입니다.</p>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:249px">
      <a class="gatsby-resp-image-link" href="/static/8b5be119c499d6d848f229597f69e1df/14a1f/2023-08-15-image7-baemin-payment-loading.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:83.93574297188754%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABdUlEQVR42q1Uy2rCQBT139y5cqu/4tKV/kkVXYgg4qZRBF1kp1iL4qI02TTPeSbRns5MW0EpmFQDh5u5MzmcM/felDgVeCRKfyUpYQr0AuQismKEhBBIKZEkyTkKIcAYw+l0AuccLDch0R9yrNdr2LaN/X6PzeYF2+0WrutiNBrBcRwkIgEj/DYhjRmOxxM6nSfUajW0Wi1UKhU0m03M53PU63VMrSk+jzBncxN2u11Uq1X0+300Gg202230ej2Uy2UMBgPoh0T0NqGxwQV2ux1msxnCMEQQBDgcDsaqzrmOC8lzWtaI49gUJssyQ6ZBKUUURUjTVBWE56+yYAm8Dw+TyQSWZWG5XGKxWGA8Hpv1cDjEarVCKrP8CklMDKnv+wiDEHEUK5Uqqrzv+Qj8oFgf/ioVTBpQtZb63eSl2StMqO2wc6MzvHqempBvi4Xu8BqSCdiqoZ/f3iH/O8vX8GI1v0qVtvsQQknlj9UHKbz793UP4Rem1QXc3sQkBgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="2023 08 15 image7 baemin payment loading" title="" src="/static/8b5be119c499d6d848f229597f69e1df/14a1f/2023-08-15-image7-baemin-payment-loading.png" srcSet="/static/8b5be119c499d6d848f229597f69e1df/14a1f/2023-08-15-image7-baemin-payment-loading.png 249w" sizes="(max-width: 249px) 100vw, 249px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
<p>만약 결제 기능에 낙관적 업데이트를 적용한다면, 결제 응답과 상관없이 장바구니의 상품을 먼저 제거하는 등 UI 먼  저 업데이트하게 됩니다. 그 결과는 사용자는 결제했음에도 장바구니에 아직 상품들이 남아 있는 것을 발견합니다.</p>
<p>장바구니의 상품들 상태는 서버의 데이터를 GET 요청하여 보여주는데, 아직 서버의 데이터는 완전하게 업데이트를 끝내지 못했기 때문입니다.</p>
<p>이렇듯 서버 데이터와 화면의 상태 간 일관성이 중요한 경우, 낙관적 업데이트를 지양해야 합니다. 결제나 계정 정보 관리 등의 기능들은 일정 시간의 지연 시간이 필연적이라는 사실을, 많은 사용자가 그동안의 사용자 경험으로 인지하고 있는 부분입니다. 따라서 이러한 상황에는 낙관적 업데이트를 하여 사용자 경험을 저하하기보다는, 중요한 작업의 신뢰성을 유지하기 위해 ‘로딩 중’처럼 서버 응답을 기다리도록 하는 것이 안전합니다.</p>
<h2>마치며</h2>
<p>낙관적 업데이트는 사용자 경험을 개선하고 더 빠른 애플리케이션 응답을 제공하기 위한 좋은 전략 중 하나입니다.</p>
<p><code class="language-text">TanStack Query</code>는 낙관적 업데이트 기능을 제공하고 있고, 이러한 기능을 라이브러리 없이 직접 구현해 보는 것도 좋은 학습이 될 것이라 생각합니다!</p>
<p>나아가 낙관적 업데이트는 데이터의 종류를 고려해 보고 신중하게 구현해야 합니다. 만약 꼭 필요한 경우라면, 서버 응답 실패의 경우에도 오류 메시지를 사용자에게 보여주는 등 적절한 대처가 필요합니다.</p>
<hr/>
<h2>참고 자료</h2>
<p><a href="https://tanstack.com/query/v4/docs/react/guides/optimistic-updates">https://tanstack.com/query/v4/docs/react/guides/optimistic-updates</a></p>
<p><a href="https://ilxanlar.medium.com/better-ux-with-optimistic-ui-b72665e1afdf">https://ilxanlar.medium.com/better-ux-with-optimistic-ui-b72665e1afdf</a></p>
<p><a href="https://uxplanet.org/faster-user-experience-optimistic-ui-41b151feaa28">https://uxplanet.org/faster-user-experience-optimistic-ui-41b151feaa28</a></p>
<p><a href="https://uncertainty.oopy.io/optimistic-ui-with-react-query">https://uncertainty.oopy.io/optimistic-ui-with-react-query</a></p></div></section></article></div><div></div></main><style data-emotion="css dcfhc9">.css-dcfhc9{position:relative;padding:0 5vw;}</style><style data-emotion="css 1aa7tg3">.css-1aa7tg3{border-bottom:1px solid rgba(255, 255, 255, 0.1);background:#0a0b0c;position:relative;padding:0 5vw;}.css-1aa7tg3 .post-card{padding-bottom:0;border-bottom:none;}.css-1aa7tg3 .post-card:after{display:none;}.css-1aa7tg3 .post-card-primary-tag{color:#fff;opacity:0.6;}.css-1aa7tg3 .post-card-title{color:#fff;opacity:0.8;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1aa7tg3 .post-card:hover .post-card-image{opacity:1;}.css-1aa7tg3 .post-card-excerpt{color:rgba(255, 255, 255, 0.6);}.css-1aa7tg3 .static-avatar{border-color:#000;}.css-1aa7tg3 .post-card-byline-content{color:rgba(255, 255, 255, 0.6);}.css-1aa7tg3 .post-card-byline-content a{color:rgba(255, 255, 255, 0.8);}.css-1aa7tg3 .author-avatar{border-color:#0a0b0c;}.css-1aa7tg3 .author-profile-image{background:#0a0b0c;}@media (max-width: 650px){.css-1aa7tg3 .post-card{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:25px;padding:25px 0 0;border-bottom:1px solid rgba(255, 255, 255, 0.1);}}</style><aside class="read-next css-1aa7tg3 edbrc111"><div class="css-y521qa"><style data-emotion="css 1ehfk3g">.css-1ehfk3g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -25px;padding:60px 0 0 0;}</style><div class="read-next-feed css-1ehfk3g edbrc110"><style data-emotion="css 1yuxrrc">.css-1yuxrrc{position:relative;-webkit-flex:1 1 301px;-ms-flex:1 1 301px;flex:1 1 301px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 0 40px;padding:0 20px 40px;min-height:220px;border-bottom:1px solid #eaeff1;-webkit-background-size:cover;background-size:cover;}@media (prefers-color-scheme: dark){.css-1yuxrrc{border-bottom-color:#2b2f36;}}</style><article class="post-card   css-1yuxrrc"><style data-emotion="css c0hj8a">.css-c0hj8a{position:relative;display:block;overflow:hidden;border-radius:5px 5px 0 0;}</style><a class="post-card-image-link css-c0hj8a" href="/post/2023-09-22-AWS-EC2-(2)/"><style data-emotion="css 8kte6t">.css-8kte6t{width:auto;height:200px;background:#c5d2d9 no-repeat center center;-webkit-background-size:cover;background-size:cover;}</style><div class="post-card-image css-8kte6t e17we9q67"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:30%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAzElEQVR42mNgAAJWVlYGWVlZODbX1xaYmOhSf7AhqNvL1kQcWY6Tk5OBJOCoLWN/MFPv44E0rf9fW03+f263/OKlK2nKQC4INJGLOpKh9R9mIAhHmkp4MbGwsfJIak7mFpGP5BKScuYSUyplBAKKDOSWVGsGGhTNKSDpwi2h0cDAzMbEwMjKgILRgY2GhM2BTIM3cAM7bT62Zvgae7jYMxCDwYCNjQ3FUHFBXt4yD53yQ43BLdsWdgjtWDmZYcfKqWB8cNM8OBsTT2YAAIC3X83t/3j1AAAAAElFTkSuQmCC" alt=""/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/a5238a2dfa439bb2c0b0acf3648fea94/dd217/ec2.webp" data-srcset="/static/a5238a2dfa439bb2c0b0acf3648fea94/66ee5/ec2.webp 750w,/static/a5238a2dfa439bb2c0b0acf3648fea94/4156f/ec2.webp 1080w,/static/a5238a2dfa439bb2c0b0acf3648fea94/7c435/ec2.webp 1366w,/static/a5238a2dfa439bb2c0b0acf3648fea94/dd217/ec2.webp 1400w" alt="AWS 로그인부터 시작하는 인프라 구축하기 2편 cover image"/><noscript><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/a5238a2dfa439bb2c0b0acf3648fea94/dd217/ec2.webp" srcSet="/static/a5238a2dfa439bb2c0b0acf3648fea94/66ee5/ec2.webp 750w,/static/a5238a2dfa439bb2c0b0acf3648fea94/4156f/ec2.webp 1080w,/static/a5238a2dfa439bb2c0b0acf3648fea94/7c435/ec2.webp 1366w,/static/a5238a2dfa439bb2c0b0acf3648fea94/dd217/ec2.webp 1400w" alt="AWS 로그인부터 시작하는 인프라 구축하기 2편 cover image"/></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div></a><style data-emotion="css 1lh7kdz">.css-1lh7kdz{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="post-card-content css-1lh7kdz e17we9q66"><style data-emotion="css 1fjrpmt">.css-1fjrpmt{position:relative;display:block;color:#15171A;}.css-1fjrpmt:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="post-card-content-link css-1fjrpmt" href="/post/2023-09-22-AWS-EC2-(2)/"><style data-emotion="css 1w0j2bn">.css-1w0j2bn{margin:15px 0 0;}</style><header class="post-card-header css-1w0j2bn e17we9q60"><style data-emotion="css mmf1tx">.css-mmf1tx{height:25px;margin:0 0 0.2em;color:#3eb0ef;font-size:1.7rem;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;}</style><div class="post-card-primary-tag css-mmf1tx e17we9q65">#AWS</div><style data-emotion="css 3lgx4i">.css-3lgx4i{margin:0 0 0.4em;line-height:1.15em;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}@media (prefers-color-scheme: dark){.css-3lgx4i{color:rgba(255, 255, 255, 0.85);}}</style><h2 class="post-card-title css-3lgx4i e17we9q64">AWS 로그인부터 시작하는 인프라 구축하기 2편</h2></header><style data-emotion="css 10mgfrl">.css-10mgfrl{font-family:Georgia,serif;}@media (prefers-color-scheme: dark){.css-10mgfrl{color:#90a2aa!important;}}</style><section class="post-card-excerpt css-10mgfrl e17we9q63"><p>AWS 로그인부터 시작하는 인프라 구축하기 2편 : 서브넷 / 보안그룹 / 퍼블릭vs프라이빗 인스턴스 / 라우팅 테이블과 인터넷 게이트웨이 6. 서브넷 이해하기 인스턴스를 생성할 때, 설정한 VPC…</p></section></a><style data-emotion="css 143c7df">.css-143c7df{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0;}</style><footer class="post-card-meta css-143c7df e17we9q62"><ul class="author-list css-12fmpzj e1y81fg50"><li class="author-list-item css-rzestn ekzlxzj1"><style data-emotion="css 1ub0qw9">.css-1ub0qw9{position:absolute;bottom:105%;z-index:999;display:block;padding:2px 8px;color:white;font-size:1.2rem;letter-spacing:0.2px;white-space:nowrap;background:#15171A;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.03) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:translateY(6px);-moz-transform:translateY(6px);-ms-transform:translateY(6px);transform:translateY(6px);pointer-events:none;}@media (max-width: 700px){.css-1ub0qw9{display:none;}}</style><div class="author-name-tooltip css-1ub0qw9 ekzlxzj0">5기_이레</div><a class="author-avatar css-1smzq71" href="/author/5-기-이레/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:127.31092436974791%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFo0lEQVR42h2Q208biRnF55+o2j7scyt1q7Zqu49tomql7gIe32DZpJttlkR0N9kLF19m7JnxjO+XsccXaCCEEAHGt/F4xp6LPXgxNmCD7RSwPRgDxtFK/TtKKh0dfefh6NPvADL+UMCneNuUYPtMJPQFXPv/qLu7JYdO8uiKrkk5NF2OTFfe++d7wakyOS14dDwxCQiYvoDoeETNwWAeVjGwhrdpMqYxg+6jqb/++uuJP4ae35PCn+2Gp0qkTvDpZb+2QupLXq3g0AO8WV2A1HlIxZrGOOsEj6hymOrZJ7/DZzQvocdJ5zPG9UR+McOTYJHSlTwa2QPuBbV7Yd2uXwsULRoBHuPNYyIM8hZQxDXR2Y95/1xvyzvKkEPa/18udpkJiN6H5cAD2asquSYqJFiLaaqUGpBhdRFWlRCVaNOKNk3K9Mnqd9pRJqTEPefxUCcZveFiIzbaXIMk79R+SF/2g3ukphIEq5QG2MN1MgYK6ISIqSTbxMt/3SuR87fZyIBdfdcURg36pxNmmKcuU26ZerhPqXd96mrgDhuskCqAWRjnbaCIgiIGctBYhfx+kAxdJcnL3MrtQWJU3nhX2RyyoWvaV4l+WfaPl/2qw8jUwfJkLTwOcPN6EdEKKChYxvOQerBNjrLLV8ngTTJwTUdvCi/eMeFRNjhkgrWlryXXeIXUHkS0taWpanACqOD6IqIWEJDHJiRcd0Qtnr7xDVKRq0RouEMNE+RtmhrR4RFDHkSfys6/10jVcWi8FgAr3kmghGh4WCVhmgKiymOqnFVdcs5e07GLJDVMUjcpcpghbzPUdcIrBmdT/pl40Li2EtqImqrBp8Ce90HBqhUJVdGuKeJgiRhLL35cX4ZGmeggEbnKBAdJ30/ZYG19xb9T9Ug9tzxE2cPVVWMtNg2U3NO7rsmCTb+JPl4lFpYC3tDKVmgtzr2izuPBsw28FjIevn4V2a65pYFd7DlT2dTGYvPNV63XXwKJ+U9F/J9bdrcr1XGwA3v2Gs/d4MwVnuz4NgrhSDhG7bjibbtwg9PNpa3ofvqHc/q7Tm6+y3wL7PsfFd1fbBNPqRDpXs4SWw08fWrLdDG6j2YVOP2WYAYE03PyN1iCqaTnlILpjDN2C4sXvAE4efGktvSoEnsoB/VyZCbpfR7wvyToPpbqonQPZQcE2yfyPZfUd+TKuzm8w0Odwp0We4UF4EffP3KoXnB/znsfyJGvxMjjjXAMTysOWiHeP78iclcEe+ksXNmzhwxN9CTDOW9QRIMimQEefcSh07uhmSL1pLz2TXVzbjXyEkspaLaDZRWEURD20pYbEPm+s3i5nvZ28oZT3qSIJkWGgbME3E7MNxNzRzsLR/EfjraN/15KWFMXKK3cYWPZAZ5VcLbvKd0u7Jzov7ezK98qnKGbN3RECOhLjlMWbqVN9Z2F4+R8eR2KrIuO/DWeUVzstSN/4xBvfaXrZ6t797/wrLlDnbi/HTd1BajLw0BftJ0y0El6vhE3NHYWuRX4wSz12CWZ481vlktPIsWZsHR/9tUv/0xM6oydHaK/6WwlYKWIdAULoBQspzlTO2NsJIz15Jy87b3/qeuDjwJ/UMV+dS/wwZ+CH/4NQyD7etiXXLZU1i2thLuZNnUltMObgQsRO8vB7ay5kTLVk8Zq2mNEX/3i97Gf/5b62W+CH/4lgqKOXhG7I+wKSEParMsrXRa5KDrPWBOgCPYz1tpmzM0M1EiZq0lbfD32dAazzXkp2JNYwluivc7CTQFrMEhZWNs/SP2YRZuM5YwxA0rRel5A2gz8lrEeZ+A6DdczpuOcub61ePxmsZ1FT1hzk0PaAvpWgJs58yHr415DpZXnXc72frBzzvo2hzRp6JiGWrTlJIvUU9BBGj6kkSMabjBwi8Pu+q28tZE2tOiFcwY+yyH/4eD/AdEdfVdV4ws/AAAAAElFTkSuQmCC" alt=""/><picture><source type="image/webp" data-srcset="/static/94d165021200ede18e282c3241998010/38f3c/irae.webp 238w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/94d165021200ede18e282c3241998010/7d6d8/irae.jpg" data-srcset="/static/94d165021200ede18e282c3241998010/7d6d8/irae.jpg 238w" alt="5기_이레"/></picture><noscript><picture><source type="image/webp" srcSet="/static/94d165021200ede18e282c3241998010/38f3c/irae.webp 238w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/94d165021200ede18e282c3241998010/7d6d8/irae.jpg" srcSet="/static/94d165021200ede18e282c3241998010/7d6d8/irae.jpg 238w" alt="5기_이레"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></li></ul><style data-emotion="css 1rrg0pi">.css-1rrg0pi{-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:4px 0 0 10px;color:#90a2aa;font-size:1.2rem;line-height:1.4em;font-weight:400;letter-spacing:0.2px;text-transform:uppercase;}.css-1rrg0pi span{margin:0;}.css-1rrg0pi a{color:#434952;font-weight:600;}@media (prefers-color-scheme: dark){.css-1rrg0pi a{color:rgba(255, 255, 255, 0.75);}}</style><div class="post-card-byline-content css-1rrg0pi e17we9q61"><span><a href="/author/5-기-이레/">5기_이레</a></span><span class="post-card-byline-date"><time dateTime="2023-10-04">04 Oct 2023</time> <span class="bull">•</span> <!-- -->9<!-- --> min read</span></div></footer></div></article><article class="post-card   css-1yuxrrc"><a class="post-card-image-link css-c0hj8a" href="/post/2023-08-10-WHAT-IS-TCP/"><div class="post-card-image css-8kte6t e17we9q67"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:100%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjElEQVR42qVUy04UQRRtRhEfPKarqrsZeUXFRBkJCkYRhMQXIEEMGkxgoRENCxMWSnC6q6pTP+CGJSsTFWhu9Tg+Ilt/wH/Ce8fxEc0gZGpVXdX31Dn3nCrH2d+oc2oYv4t3dmoC+jW6V7cb2p/DEZq7BWgJTNH/A3yPh1QKWsJ114uSYV+XepmENq7gulBbcyIuDZT/W1yr3xNej4FDiFrnaugVstjvymTcVXbIlzCDBywxbe/5uMelvRgsvzn2X0ARwgCPYJ7pzbOeTvp4lFzLmU9HkeUlFtvLfpie5BKeMbkVc7NxfPcem52MkLCIBV+IiTMLB4ilY0yGR+kZYu9HHwOczzNlxzwDrZU+Ve9ni0z6mUwGRWRHECznqc1TroKrIra3qZeutnkHgZn83CZUOkrAVdiZDIugxw3hCl/5IaVJp6eZTO+TVIFzoe0DYkzOu2pzyFN2ltb4yoemf5nSqco+Esq+4iFMEziTxUEsGhPSLiDjNeonue1HGwFFCI2564XQXd0QlImyHrqq1FH+1uvIKp0UcmsBjVplYXoT5U80vlgXyLDD1Rv5XAE6q1u8+K2epBG7YBlOBNgvLtM7noTztE6MMOCdzLxtzhaSUS9Oh0WYTHYvrTb8neayduqd0O+nPAWPy+6WWdoLIoYBT6bj2UKxjwCp3ySVx/ZGNrYjVe8tXS/8cQJBpsjRrEq7BLpePgxj45ivB4MoOYcKnnBdnMbYNFZqq8emy5SylC8XC4WGpyS33QBDg2YInIBFnGrKK63vHuzKRpd5fZiAkMkS3Rz3pc2j0++whwWSSi1gBnr29Ti0RuDlkA0z280kH+M050dw6+frs+vt2ONJdTU+sgRQM0jt4ztakwusUlOJzwAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/webp" data-srcset="/static/6f324719a8679e503b3cd6a768972ec4/4f03f/roy_teaser.webp 750w,/static/6f324719a8679e503b3cd6a768972ec4/4f506/roy_teaser.webp 1080w,/static/6f324719a8679e503b3cd6a768972ec4/f0a0a/roy_teaser.webp 1366w,/static/6f324719a8679e503b3cd6a768972ec4/26222/roy_teaser.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/6f324719a8679e503b3cd6a768972ec4/7d307/roy_teaser.png" data-srcset="/static/6f324719a8679e503b3cd6a768972ec4/f054e/roy_teaser.png 750w,/static/6f324719a8679e503b3cd6a768972ec4/ae1c8/roy_teaser.png 1080w,/static/6f324719a8679e503b3cd6a768972ec4/d41bd/roy_teaser.png 1366w,/static/6f324719a8679e503b3cd6a768972ec4/7d307/roy_teaser.png 1920w" alt="전송 제어 프로토콜이란? cover image"/></picture><noscript><picture><source type="image/webp" srcSet="/static/6f324719a8679e503b3cd6a768972ec4/4f03f/roy_teaser.webp 750w,/static/6f324719a8679e503b3cd6a768972ec4/4f506/roy_teaser.webp 1080w,/static/6f324719a8679e503b3cd6a768972ec4/f0a0a/roy_teaser.webp 1366w,/static/6f324719a8679e503b3cd6a768972ec4/26222/roy_teaser.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/6f324719a8679e503b3cd6a768972ec4/7d307/roy_teaser.png" srcSet="/static/6f324719a8679e503b3cd6a768972ec4/f054e/roy_teaser.png 750w,/static/6f324719a8679e503b3cd6a768972ec4/ae1c8/roy_teaser.png 1080w,/static/6f324719a8679e503b3cd6a768972ec4/d41bd/roy_teaser.png 1366w,/static/6f324719a8679e503b3cd6a768972ec4/7d307/roy_teaser.png 1920w" alt="전송 제어 프로토콜이란? cover image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div></a><div class="post-card-content css-1lh7kdz e17we9q66"><a class="post-card-content-link css-1fjrpmt" href="/post/2023-08-10-WHAT-IS-TCP/"><header class="post-card-header css-1w0j2bn e17we9q60"><div class="post-card-primary-tag css-mmf1tx e17we9q65">#Network</div><h2 class="post-card-title css-3lgx4i e17we9q64">전송 제어 프로토콜이란?</h2></header><section class="post-card-excerpt css-10mgfrl e17we9q63"><p>OSI 7계층과 전송제어 프로토콜 데이터 통신은 여러 단계로 진행되는데, OSI 참조 모델은 그 과정을 7개 계층으로 나눈다.
1계층(물리 계층)은 ‘케이블이 연결된 상대에 대한 전기·기계적 신호 전달’ 제어를 담당한다.…</p></section></a><footer class="post-card-meta css-143c7df e17we9q62"><ul class="author-list css-12fmpzj e1y81fg50"><li class="author-list-item css-rzestn ekzlxzj1"><div class="author-name-tooltip css-1ub0qw9 ekzlxzj0">5기_로이</div><a class="author-avatar css-1smzq71" href="/author/5-기-로이/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1kq7wgl"><div aria-hidden="true" style="padding-top:133.33333333333331%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAbABQDASIAAhEBAxEB/8QAGgAAAgIDAAAAAAAAAAAAAAAAAAcECAMGCf/EABYBAQEBAAAAAAAAAAAAAAAAAAUEA//aAAwDAQACEAMQAAABxrjbpZEiALOCwNKOjyEMna0kERl//8QAHhAAAgMAAQUAAAAAAAAAAAAABAUBAwYHAAIREhb/2gAIAQEAAQUCUYg/PDNrm7a74FdTdnvGXRvQnBZBMtc1LRr3jE13Ch9cs8iHxrN8KMuZ5f1b4q1Gqsn/xAAkEQACAgEDBAIDAAAAAAAAAAABAgMREgQFIgAUITETcTJRYf/aAAgBAwEBPwHSdzqhqNHFJEfjSSZFLMvNFVyqEDFnOJaj+XJVORHTR7krFWtWBohQmIPi6uzX35/fT7zpNujlTsmk1Mk+njilEmCRxuSGscsmJwuwbHrCuTbmzMSUKkn0GDAfyygJ+6HX/8QAIxEAAgIBAwMFAAAAAAAAAAAAAQIDEQQSEyEABRQiJDFScf/aAAgBAgEBPwGfMx33HhQrMEIV2QaGY8RtKARIImZwpYU4XmjVdYje2x/KRmydmMZDwhtp5gqiR47lY6HYFlBZiAQCzHkwdokynjK5AiTakaS0EkkjAAj1GqUC6Abg/YE0nbo0VUDatIA1EFSfjkgMQPyz1//EACUQAAICAgICAgIDAQAAAAAAAAIDAQQFEhETACEUIwYiBzEzYf/aAAgBAQAGPwK7Ne1bVeJsEt5vZW6xUk1LCaRjqozglmTPsYvoGFRMEfisTKb78lVYVVV/maLZxbRIzD5cs+pe+z68yzsRPdES6GxpcS6hWaSrbgFvyLNuGq9EpkWNRlmwFE7EIzzzzEeA29/IWRy9s+KiMY60eRxXy9onWr8mq3riYhgwRWpmOr3AdwCGA/IbD7CU2LgjQUiy6vRbEKlPxmJqqli632ttMYIPkndmpzp1eJxZErLsBAObdx6Mm+sTHSREIsmsgp19a7LgoVK9v258x/4vhpU3L5HJVqiWmRjjatl7RrLeavYTqRbRByev7TIzzx4unkM3jb9XHjSpuchTis16teipS2Go2AgPm2BdYmwsmDK/YoCGCfkx+P8AZjsfGMoxChp1bENZENibG5BPEtDr2GJmN4k/7KfMBj6KV1qiPx/J3lLWMcjcOx+1rtnlxP8AqCRaTJMJ2kJiTOSzNnJqRdsRLPudXQTfqUHXyfXBTpsUDzM8DOsfr68EjqRM6DH+r/Ue/URDeIj/AJHrz//EABgQAQEBAQEAAAAAAAAAAAAAAAERACEx/9oACAEBAAE/IQFQiaJ0UdlED0lQoTgUSQkfsCS2fl8+usWVntijvtJAdsDXBY4uj8ixfCyztpWT08vXDnqfemKYc41OZKUN9Oj52q77I1xVmARd9tZdqsZWtUOuYpyeOLLrwlCjdsughioU4AUAAVgA8AN//9oADAMBAAIAAwAAABB/J37/xAAYEQEBAQEBAAAAAAAAAAAAAAABEQAhMf/aAAgBAwEBPxCgK9+BcArCCa/JBRMBgNxKSkBEpgR4vnJ/jSFVaJrjQLNHIJAPSNWHJ//EABgRAQEBAQEAAAAAAAAAAAAAAAERACEx/9oACAECAQE/EHAAVC20SFJmlVltRZEcldOQdXl9xCFBiMQ9zFRgeBj6TlRYA4Vl3//EABgQAQEBAQEAAAAAAAAAAAAAAAEAERAh/9oACAEBAAE/ENWUJsXDHbhDwdxL7b2vP9Rt44L5NCeIaKgJYiTTcrIkU0sRFicyrBR6WfYhEh9anIB4DUCo5hfslHukN0g4ZtvsbSzVAfRRQMezog0piWmg1gkCcFhQAE9AVJqcyGGK7C8Ec/l9fEF//9k=" alt=""/><picture><source type="image/webp" data-srcset="/static/1be0cd5036158133d1f178beaee9664e/4c1cf/roy_avatar.webp 750w,/static/1be0cd5036158133d1f178beaee9664e/2eb44/roy_avatar.webp 1080w,/static/1be0cd5036158133d1f178beaee9664e/120d8/roy_avatar.webp 1366w,/static/1be0cd5036158133d1f178beaee9664e/31d0c/roy_avatar.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/1be0cd5036158133d1f178beaee9664e/70fde/roy_avatar.jpg" data-srcset="/static/1be0cd5036158133d1f178beaee9664e/b0c6e/roy_avatar.jpg 750w,/static/1be0cd5036158133d1f178beaee9664e/b3149/roy_avatar.jpg 1080w,/static/1be0cd5036158133d1f178beaee9664e/c56d6/roy_avatar.jpg 1366w,/static/1be0cd5036158133d1f178beaee9664e/70fde/roy_avatar.jpg 1920w" alt="5기_로이"/></picture><noscript><picture><source type="image/webp" srcSet="/static/1be0cd5036158133d1f178beaee9664e/4c1cf/roy_avatar.webp 750w,/static/1be0cd5036158133d1f178beaee9664e/2eb44/roy_avatar.webp 1080w,/static/1be0cd5036158133d1f178beaee9664e/120d8/roy_avatar.webp 1366w,/static/1be0cd5036158133d1f178beaee9664e/31d0c/roy_avatar.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/1be0cd5036158133d1f178beaee9664e/70fde/roy_avatar.jpg" srcSet="/static/1be0cd5036158133d1f178beaee9664e/b0c6e/roy_avatar.jpg 750w,/static/1be0cd5036158133d1f178beaee9664e/b3149/roy_avatar.jpg 1080w,/static/1be0cd5036158133d1f178beaee9664e/c56d6/roy_avatar.jpg 1366w,/static/1be0cd5036158133d1f178beaee9664e/70fde/roy_avatar.jpg 1920w" alt="5기_로이"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></li></ul><div class="post-card-byline-content css-1rrg0pi e17we9q61"><span><a href="/author/5-기-로이/">5기_로이</a></span><span class="post-card-byline-date"><time dateTime="2023-10-11">11 Oct 2023</time> <span class="bull">•</span> <!-- -->4<!-- --> min read</span></div></footer></div></article></div></div></aside><style data-emotion="css 1turcvg">.css-1turcvg{position:relative;padding:0 5vw;position:relative;padding-top:20px;padding-bottom:60px;color:#fff;background:#000;}</style><footer class="css-1turcvg"><style data-emotion="css 1d3gyi8">.css-1d3gyi8{margin:0 auto;max-width:1040px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(255, 255, 255, 0.7);font-size:1.3rem;}.css-1d3gyi8 a{color:rgba(255, 255, 255, 0.7);}.css-1d3gyi8 a:hover{color:rgba(255, 255, 255, 1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 650px){.css-1d3gyi8{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-1d3gyi8"><section class="copyright"><a href="/">Tecoble</a> © <!-- -->2023<!-- --> <a href="/">| <!-- -->Tecoble<!-- --> <!-- -->is based on woowacourse</a></section><style data-emotion="css pwtbz1">.css-pwtbz1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-pwtbz1 a{position:relative;margin-left:20px;}.css-pwtbz1 a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-pwtbz1 a:first-of-type:before{display:none;}@media (max-width: 650px){.css-pwtbz1 a:first-of-type{margin-left:0;}}</style><nav class="css-pwtbz1 e19to57e0"><a href="/">Latest Posts</a><a href="https://github.com/scttcper/gatsby-casper" target="_blank" rel="noopener noreferrer">Casper</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7YLT36LV0M"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7YLT36LV0M', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/2023-08-15-how-to-improve-ux-with-optimistic-update/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-f868b9a2cfcc7d3f8a88.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-6b6465e9bd58f2a527bc.js\"],\"component---src-templates-author-tsx\":[],\"component---src-templates-index-tsx\":[\"/component---src-templates-index-tsx-5a0d030db642605a32bf.js\"],\"component---src-templates-post-tsx\":[\"/component---src-templates-post-tsx-f43acd1f7a8c92440a7c.js\"],\"component---src-templates-tags-tsx\":[\"/component---src-templates-tags-tsx-9f42085b0817aae400a6.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="ff32212908a9f1525254";</script><script src="/webpack-runtime-c4948ce4939a2c9854e7.js" async></script><script src="/framework-6abcadde3b049d27c933.js" async></script><script src="/app-f868b9a2cfcc7d3f8a88.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>