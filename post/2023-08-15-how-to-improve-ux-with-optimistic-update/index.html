<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.27.0"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://tecoble.techcourse.co.kr/post/2023-08-15-how-to-improve-ux-with-optimistic-update/" data-baseprotocol="https:" data-basehost="tecoble.techcourse.co.kr"/><title data-react-helmet="true">낙관적 업데이트로 사용자 경험을 개선해보자!</title><link data-react-helmet="true" rel="icon" href="data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjhJREFUeNrEV4uRgkAMzdmAlGAJdqDXgSVYgiXQgSVYgiWgFYAVYAdqBXv7kDAhhGVFPDOT8QObvPyzRDU55xLPqefSfY7KWkdCkmrlufs/yhnET/0l87ykCLper1QUBV0uF7rf79Xv5fJ5dLVa0Xq9pkgqPP9S7ZInrDx3m83GwSlJkrg0bR65LMucF149CzHObbdbV5ZRkUyJY3673arDWuBut6ve5N8QfjgcOgoAcL/fO++N5l1pQF9OUAPFv9xnFZRBQaRV1bsMBJ8wro8aAOx6iyFwDMFbQyCiPdBnKRi500cIF2Qgf4IAoMTKAXhGK7W8FUo+9oSVE9QqTm/JYrFoJRy7Dp8saKgKYLUmyMUzHQqKjWcoRyzWIOA5ywtkvaRjGsqPkCd0OOAFcC8AdrE82NcfYhjyLEOkgS0AyFSUjJXFY9nyMBoW00w259PpRN5FrYZ9Pp/pHYJMJp4Tj8ej+W+mD/BgkcNnapIyZ/Rl6gDAqJWkQzIFSZktAIiRdjlm/Dsk9wPOh/l8bgNA/OEBCcI3IPJlOEq5L0MzoVtLiyyT4/HYKZMpGxHKPNiI+rrVFK2YB54G1QHA1uqePXYYQQ53UjncgsOItxlrzr8yjq0uqtuzCQCKIRAcWjaGFhIL6GAOaPQAMXYlw0KrAehZE9wHUBUyfq8spagk9qQEAJkaQFAqlMr7QOxaDsUcTpwBa+W8lqexVn3iYvLy1QzXMbRUXM14drx1Nfv25ZS+fT3/E2AAsWMCdac8y9AAAAAASUVORK5CYII=" type="image/x-icon"/><meta data-react-helmet="true" name="description" content="들어가며: 낙관적 업데이트, 왜 필요할까? 장바구니에 상품을 추가했는데, 왜 화면에는 바로 반영되지 않을까? 낙관적 업데이트의 필요성을 처음 느낀 순간은,  기능을 만들 때였습니다. ‘장바구니 상품 추가’를 위해 POST…"/><meta data-react-helmet="true" property="og:site_name" content="Tecoble"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="낙관적 업데이트로 사용자 경험을 개선해보자!"/><meta data-react-helmet="true" property="og:description" content="들어가며: 낙관적 업데이트, 왜 필요할까? 장바구니에 상품을 추가했는데, 왜 화면에는 바로 반영되지 않을까? 낙관적 업데이트의 필요성을 처음 느낀 순간은,  기능을 만들 때였습니다. ‘장바구니 상품 추가’를 위해 POST…"/><meta data-react-helmet="true" property="og:url" content="https://post/2023-08-15-how-to-improve-ux-with-optimistic-update/"/><meta data-react-helmet="true" property="og:image" content="https://static/3f2c78829b67496302b9dafa75d6ca87/53716/how-to-improve-ux-with-optimistic-update.png"/><meta data-react-helmet="true" property="article:published_time" content="2023-10-05T12:00:00.000Z"/><meta data-react-helmet="true" property="article:tag" content="TanStack Query"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="낙관적 업데이트로 사용자 경험을 개선해보자!"/><meta data-react-helmet="true" name="twitter:description" content="들어가며: 낙관적 업데이트, 왜 필요할까? 장바구니에 상품을 추가했는데, 왜 화면에는 바로 반영되지 않을까? 낙관적 업데이트의 필요성을 처음 느낀 순간은,  기능을 만들 때였습니다. ‘장바구니 상품 추가’를 위해 POST…"/><meta data-react-helmet="true" name="twitter:url" content="https://post/2023-08-15-how-to-improve-ux-with-optimistic-update/"/><meta data-react-helmet="true" name="twitter:image" content="https://tecoble.techcourse.co.kr//static/3f2c78829b67496302b9dafa75d6ca87/53716/how-to-improve-ux-with-optimistic-update.png"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="5기_제로"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="TanStack Query"/><meta data-react-helmet="true" property="og:image:width" content="575"/><meta data-react-helmet="true" property="og:image:height" content="349"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-e218f35ef1d430a01707.js"/><link as="script" rel="preload" href="/framework-e95c51af9f100acf27a2.js"/><link as="script" rel="preload" href="/app-75480a9e9d3642235903.js"/><link as="script" rel="preload" href="/commons-ae9a61b44c79313aeb61.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-ff40b5ee0b4beb579c81.js"/><link as="fetch" rel="preload" href="/page-data/post/2023-08-15-how-to-improve-ux-with-optimistic-update/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2130001345.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4041952199.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion="css-global 8s70am">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:inherit;}a{background-color:transparent;}a:active,a:hover{outline:0;}b,strong{font-weight:bold;}i,em,dfn{font-style:italic;}h1{margin:0.67em 0;font-size:2em;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type='button'],input[type='reset'],input[type='submit']{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type='checkbox'],input[type='radio']{box-sizing:border-box;padding:0;}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{height:auto;}input[type='search']{box-sizing:content-box;-webkit-appearance:textfield;}input[type='search']::-webkit-search-cancel-button,input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{overflow:auto;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}body{overflow-x:hidden;color:#303a3e;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:'liga' on;}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed;}audio,canvas,iframe,img,svg,video{vertical-align:middle;}fieldset{margin:0;padding:0;border:0;}textarea{resize:vertical;}p,ul,ol,dl,blockquote{margin:0 0 1.5em 0;}ol,ul{padding-left:1.3em;padding-right:1.5em;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}ul{list-style:disc;}ol{list-style:decimal;}ul,ol{max-width:100%;}li{margin:0.5em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171A;font-weight:500;text-align:right;}dd{margin:0 0 5px 0;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em 0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:300;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote cite{font-weight:bold;}blockquote cite a{font-weight:normal;}a{color:#26a6ed;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:600;text-rendering:optimizeLegibility;}h1{margin:0 0 0.5em 0;font-size:5.5rem;font-weight:600;}@media (max-width: 500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em 0;font-size:2.2rem;}@media (max-width: 500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em 0;font-size:1.8rem;font-weight:500;}@media (max-width: 500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em 0;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}body{background:#fff;}@media (prefers-color-scheme: dark){body{color:rgba(255, 255, 255, 0.75);background:#191b1f;}img{opacity:0.9;}}</style><style data-emotion="css 12e1ozp">.css-12e1ozp .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-12e1ozp .site-main{background:#191b1f;}}</style><style data-emotion="css 159sn72">.css-159sn72{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-159sn72 .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-159sn72 .site-main{background:#191b1f;}}</style><div class="css-159sn72"><header class="site-header"><style data-emotion="css sdrsc">.css-sdrsc{position:relative;padding:0 5vw;position:fixed;top:0;right:0;left:0;z-index:1000;background:#0a0b0c;}@media (max-width: 700px){.css-sdrsc{padding-right:0;padding-left:0;}}</style><div class="css-sdrsc"><style data-emotion="css 1q5n7pp">.css-1q5n7pp{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-1q5n7pp"><style data-emotion="css 1phqi3w">.css-1phqi3w{position:relative;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;overflow-y:hidden;height:64px;font-size:1.3rem;}</style><nav class="css-1phqi3w"><style data-emotion="css vp1an1">.css-vp1an1{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;margin-right:10px;padding:10px 0 80px;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;white-space:nowrap;-ms-overflow-scrolling:touch;}@media (max-width: 700px){.css-vp1an1{margin-right:0;padding-left:5vw;}}</style><div class="site-nav-left css-vp1an1"><style data-emotion="css 1l8e9ha">.css-1l8e9ha{position:relative;z-index:100;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:inline-block;margin-right:32px;padding:12px 0;color:#fff;font-size:1.7rem;line-height:1.8rem;font-weight:bold;letter-spacing:-0.5px;text-transform:none;}.css-1l8e9ha:hover{-webkit-text-decoration:none;text-decoration:none;}.css-1l8e9ha img{display:block;width:auto;height:21px;}</style><a class="site-nav-logo css-1l8e9ha" href="/"><img src="/static/0b18bd94a62a12fdc81ea720c28722f6/3891b/tecoble.png" alt="Tecoble"/></a><style data-emotion="css 1muigz5">.css-1muigz5{position:relative;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;}</style><div class="css-1muigz5"><style data-emotion="css 1gas2t1">.css-1gas2t1{position:absolute;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-1gas2t1 li{display:block;margin:0;padding:0;}.css-1gas2t1 li a{position:relative;display:block;padding:12px 12px;color:#fff;opacity:0.8;-webkit-transition:opacity 0.35s ease-in-out;transition:opacity 0.35s ease-in-out;}.css-1gas2t1 li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-1gas2t1 li a:before{content:'';position:absolute;right:100%;bottom:8px;left:12px;height:1px;background:#fff;opacity:0.25;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-1gas2t1 li a:hover:before{right:12px;opacity:0.5;}</style><ul role="menu" class="css-1gas2t1"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="https://woowacourse.github.io/">woowacourse</a></li></ul><style data-emotion="css ybggi6">.css-ybggi6{visibility:hidden;position:absolute;top:9px;color:#fff;font-size:1.7rem;font-weight:400;text-transform:none;opacity:0;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);-webkit-transform:translateY(175%);-moz-transform:translateY(175%);-ms-transform:translateY(175%);transform:translateY(175%);}.css-ybggi6 .dash{left:-25px;}.css-ybggi6 .dash:before{content:'– ';opacity:0.5;}</style><span class="nav-post-title css-ybggi6">낙관적 업데이트로 사용자 경험을 개선해보자!</span></div></div><style data-emotion="css 19iu1ve">.css-19iu1ve{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:10px 0;height:64px;}@media (max-width: 700px){.css-19iu1ve{display:none;}}</style><div class="css-19iu1ve"><style data-emotion="css ienhkd">.css-ienhkd{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-ienhkd"></div></div></nav></div></div></header><style data-emotion="css zqbwy4">.css-zqbwy4{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 5vw;}@media (prefers-color-scheme: dark){.css-zqbwy4{background:#191b1f;}}</style><main id="site-main" class="site-main css-zqbwy4"><div class="css-1q5n7pp"><style data-emotion="css l1e7lw">.css-l1e7lw{position:relative;z-index:50;}</style><article class="css-l1e7lw"><style data-emotion="css rxh1cu">.css-rxh1cu{position:relative;margin:0 auto;padding:70px 170px 50px;border-top-left-radius:3px;border-top-right-radius:3px;}@media (max-width: 1170px){.css-rxh1cu{padding:60px 11vw 50px;}}@media (max-width: 800px){.css-rxh1cu{padding-right:5vw;padding-left:5vw;}}@media (max-width: 500px){.css-rxh1cu{padding:20px 0 35px;}}</style><header class="post-full-header css-rxh1cu"><style data-emotion="css 1ehbhhx">.css-1ehbhhx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:2.5rem;line-height:1.4em;font-weight:600;text-transform:uppercase;}</style><section class="post-full-tags css-1ehbhhx"><a href="/tags/tan-stack-query/">#TanStack Query</a><a href="/tags/optimistic-update/">, <!-- -->#optimistic-update</a><a href="/tags/optimistic-ui/">, <!-- -->#optimistic-UI</a></section><style data-emotion="css qs7bhz">.css-qs7bhz{margin:0 0 0.2em;color:#0b0c0e;}@media (max-width: 500px){.css-qs7bhz{margin-top:0.2em;font-size:3.3rem;}}@media (prefers-color-scheme: dark){.css-qs7bhz{color:rgba(255, 255, 255, 0.9);}}</style><h1 class="post-full-title css-qs7bhz">낙관적 업데이트로 사용자 경험을 개선해보자!</h1><style data-emotion="css 1v4p0ul">.css-1v4p0ul{margin:20px 0 0;color:var(--midgrey);font-family:Georgia,serif;font-size:2.3rem;line-height:1.4em;font-weight:300;}@media (max-width: 500px){.css-1v4p0ul{font-size:1.9rem;line-height:1.5em;}}@media (prefers-color-scheme: dark){.css-1v4p0ul{color:#90a2aa;}}</style><p class="post-full-custom-excerpt css-1v4p0ul"></p><style data-emotion="css cp69tq">.css-cp69tq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:35px 0 0;padding-top:15px;border-top:1px solid #e4eaed;}.css-cp69tq .post-full-byline-content{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-cp69tq .post-full-byline-content .author-list{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:0 12px 0 0;}.css-cp69tq .post-full-byline-meta{margin:2px 0 0;color:#90a2aa;font-size:1.2rem;line-height:1.2em;letter-spacing:0.2px;text-transform:uppercase;}.css-cp69tq .post-full-byline-meta h4{margin:0 0 3px;font-size:1.3rem;line-height:1.4em;font-weight:500;}.css-cp69tq .post-full-byline-meta h4 a{color:#2c3036;}.css-cp69tq .post-full-byline-meta h4 a:hover{color:#15171A;}.css-cp69tq .post-full-byline-meta .bull{display:inline-block;margin:0 4px;opacity:0.6;}@media (prefers-color-scheme: dark){.css-cp69tq{border-top-color:#3b4049;}.css-cp69tq .post-full-byline-meta h4 a{color:rgba(255, 255, 255, 0.75);}.css-cp69tq .post-full-byline-meta h4 a:hover{color:#fff;}}</style><div class="post-full-byline css-cp69tq"><section class="post-full-byline-content"><style data-emotion="css teqkql">.css-teqkql{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 0 0 4px;padding:0;list-style:none;}</style><ul class="author-list css-teqkql"><style data-emotion="css 1q168dw">.css-1q168dw{position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin:0;padding:0;}.css-1q168dw:hover .author-name-tooltip{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}</style><li class="author-list-item css-1q168dw"><style data-emotion="css 1xzzdyg">.css-1xzzdyg{position:absolute;bottom:130%;left:50%;z-index:600;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:-200px;width:400px;font-size:1.4rem;line-height:1.5em;background:white;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.06) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:scale(0.98) translateY(15px);-moz-transform:scale(0.98) translateY(15px);-ms-transform:scale(0.98) translateY(15px);transform:scale(0.98) translateY(15px);pointer-events:none;padding:20px 20px 22px;}.css-1xzzdyg:before{content:'';position:absolute;top:100%;left:50%;display:block;margin-left:-8px;width:0;height:0;border-top:8px solid #fff;border-right:8px solid transparent;border-left:8px solid transparent;}.css-1xzzdyg .author-info{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:0 0 0 20px;}.css-1xzzdyg .author-info h2{margin:8px 0 0;font-size:1.6rem;}.css-1xzzdyg .author-info p{margin:4px 0 0;color:color(var(--midgrey) l(-10%));}.css-1xzzdyg .author-info .bio h2{margin-top:0;}.css-1xzzdyg .author-info .bio p{margin-top:0.8em;}.css-1xzzdyg .author-profile-image{-webkit-flex:0 0 60px;-ms-flex:0 0 60px;flex:0 0 60px;margin:0;width:60px;height:60px;border:none;}@media (max-width: 1170px){.css-1xzzdyg{margin-left:-50px;width:430px;}.css-1xzzdyg:before{left:50px;}}@media (max-width: 650px){.css-1xzzdyg{display:none;}}@media (prefers-color-scheme: dark){.css-1xzzdyg{background:#22252a;box-shadow:0 12px 26px rgba(0, 0, 0, 0.4);}.css-1xzzdyg:before{border-top-color:#22252a;}}</style><div class="author-card css-1xzzdyg"><style data-emotion="css 121fnpm">.css-121fnpm{display:block;width:100%;height:100%;background:#e4eaed;border-radius:100%;object-fit:cover;}@media (prefers-color-scheme: dark){.css-121fnpm{background:#191b1f;}}</style><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:132.5%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAaABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAcDBQYI/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwYF/9oADAMBAAIQAxAAAAFopDteODqqo3QLrbOPuepy0kNwz3//xAAeEAADAAIBBQAAAAAAAAAAAAACAwUBBAYAERQWIv/aAAgBAQABBQLTzi7Ex7JancZUzSgzEyZoSKHFZcrz+P8AWsNRVXRlXV4y3uwvlyBElJESH//EACURAAEDAgYBBQAAAAAAAAAAAAECESEDQQASEzEyYQRRYnGCk//aAAgBAwEBPwGp5AQKed1BSwhRBbmmCwIdyAGzAuRlLwdcCAksIEWhrmzXPyd8VU6oA4sqnMngtJiYJbf1mcfar+1Xr3dY/8QAJhEAAgEDAwQBBQAAAAAAAAAAAQIDERIhBBQxABMiMgUkQUJRcv/aAAgBAgEBPwGH46XUvqNuxR442nhjbCt2nBZC5WS22O5q2SA2tfQeQ2hbyel5y9pNLj7U8UxWv4L/ACvA0p27s4F1Y51I4B7sTxGv7oHOPvx1tdPk7fS5JJ+lgySak+nJOT1//8QAJRAAAgICAQQCAgMAAAAAAAAAAQIDBBESEwAFIjEVIRRBBjJC/9oACAEBAAY/Am73FTavOkV7Wu+szpYpzy12VSow4eSDxwPIMOt6E1p2TuVqlLLVWNI04oU2VwNAvDYWSGT+xgm2STDYHXa69wcllKwE7s8blpAzBiW3w2SPY+urXahivUEcj6y2P3akbdEklkDLnyKgN4/5x1T7N2yHnrwXbRf8eXkkotauSSWJbUgkklYT2ZZDxt5vKhVQCAvRjjziEmIqIpnMbZ3ZG2VmDZfJUnIz66/NevUlSUwZheOR+Fa7s+8B+uWwc4O+qYGNMHPU/cbUs9qNJ+WUyspdJPlflK0MO3hHVXkmqiHZ3ii49AVXPU80v8RjMlmeSxJx99k4xJKcvoPj1KqXy+pz9sf1gDx8cxoTj6z7946k2VWwpYbAHDAjDDPojJwff30SygndvYB6/8QAGxABAQEBAQADAAAAAAAAAAAAAREhADFBUWH/2gAIAQEAAT8hOI2RX+q0+ZIupVHK7MpQN6PIhox4LPpVrdOWiHuy9GjWeD6fSl1I5w2AA1ypZ2Qh0BSJ3CUOLyRoMpxGau0oLOv7W/k7GvyH/liDsdC5S2QgR8iNBgHabwrhr9HfjsfXAPiHFR16IjNYg4VHD4O//9oADAMBAAIAAwAAABDo53L/xAAZEQEBAQEBAQAAAAAAAAAAAAABESEAQTH/2gAIAQMBAT8QWTRfAWoOMBCt7AkyKqwC6l9FNqhw6VJBQIOGCfUAxESkAgAAAAgA8gO//8QAGhEBAQADAQEAAAAAAAAAAAAAAREAITFBUf/aAAgBAgEBPxC9SqxptfC7IC5hBVtkazcJ40FJMozpMkoxAxtHC2DSyiKppWz0lT1V+T//xAAaEAEBAQEAAwAAAAAAAAAAAAABEQAhMUGh/9oACAEBAAE/EDLEp4d1O1Y5l2PLu/8A/WGeIJMIOVnYijiBrMLXSa7W3GOR94YehBjyrhbuxbytlGX1auMYMKExGz7LMPW5BTd4WYjRs1kfPyhhBLOwY9mvDDkqTZKwGigWBPj6wA3CDxToEjFKygKQ5SHo3//Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/047c54c5e2848582e3dd68654a0cf79c/b3d27/jero.jpg 40w,
/static/047c54c5e2848582e3dd68654a0cf79c/5a735/jero.jpg 80w,
/static/047c54c5e2848582e3dd68654a0cf79c/6e81a/jero.jpg 120w,
/static/047c54c5e2848582e3dd68654a0cf79c/faa31/jero.jpg 750w" sizes="(max-width: 750px) 100vw, 750px" /><img loading="lazy" sizes="(max-width: 750px) 100vw, 750px" srcset="/static/047c54c5e2848582e3dd68654a0cf79c/b3d27/jero.jpg 40w,
/static/047c54c5e2848582e3dd68654a0cf79c/5a735/jero.jpg 80w,
/static/047c54c5e2848582e3dd68654a0cf79c/6e81a/jero.jpg 120w,
/static/047c54c5e2848582e3dd68654a0cf79c/faa31/jero.jpg 750w" src="/static/047c54c5e2848582e3dd68654a0cf79c/faa31/jero.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="author-info"><div class="bio"><h2>5기_제로</h2><p>우아한테크코스 5기 제로(강인영)입니다 :)</p><p><a href="/author/5-기-제로/">More posts</a> by<!-- --> <!-- -->5기_제로<!-- -->.</p></div></div></div><style data-emotion="css cdhz0m">.css-cdhz0m{display:block;overflow:hidden;margin:0 -4px;width:40px;height:40px;border:#fff 2px solid;border-radius:100%;-webkit-transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;}@media (max-width: 500px){.css-cdhz0m{width:36px;height:36px;}}@media (prefers-color-scheme: dark){.css-cdhz0m{border-color:#1a1c20;}}</style><a class="author-avatar css-cdhz0m" href="/author/5-기-제로/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:132.5%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAaABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAcDBQYI/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwYF/9oADAMBAAIQAxAAAAFopDteODqqo3QLrbOPuepy0kNwz3//xAAeEAADAAIBBQAAAAAAAAAAAAACAwUBBAYAERQWIv/aAAgBAQABBQLTzi7Ex7JancZUzSgzEyZoSKHFZcrz+P8AWsNRVXRlXV4y3uwvlyBElJESH//EACURAAEDAgYBBQAAAAAAAAAAAAECESEDQQASEzEyYQRRYnGCk//aAAgBAwEBPwGp5AQKed1BSwhRBbmmCwIdyAGzAuRlLwdcCAksIEWhrmzXPyd8VU6oA4sqnMngtJiYJbf1mcfar+1Xr3dY/8QAJhEAAgEDAwQBBQAAAAAAAAAAAQIDERIhBBQxABMiMgUkQUJRcv/aAAgBAgEBPwGH46XUvqNuxR442nhjbCt2nBZC5WS22O5q2SA2tfQeQ2hbyel5y9pNLj7U8UxWv4L/ACvA0p27s4F1Y51I4B7sTxGv7oHOPvx1tdPk7fS5JJ+lgySak+nJOT1//8QAJRAAAgICAQQCAgMAAAAAAAAAAQIDBBESEwAFIjEVIRRBBjJC/9oACAEBAAY/Am73FTavOkV7Wu+szpYpzy12VSow4eSDxwPIMOt6E1p2TuVqlLLVWNI04oU2VwNAvDYWSGT+xgm2STDYHXa69wcllKwE7s8blpAzBiW3w2SPY+urXahivUEcj6y2P3akbdEklkDLnyKgN4/5x1T7N2yHnrwXbRf8eXkkotauSSWJbUgkklYT2ZZDxt5vKhVQCAvRjjziEmIqIpnMbZ3ZG2VmDZfJUnIz66/NevUlSUwZheOR+Fa7s+8B+uWwc4O+qYGNMHPU/cbUs9qNJ+WUyspdJPlflK0MO3hHVXkmqiHZ3ii49AVXPU80v8RjMlmeSxJx99k4xJKcvoPj1KqXy+pz9sf1gDx8cxoTj6z7946k2VWwpYbAHDAjDDPojJwff30SygndvYB6/8QAGxABAQEBAQADAAAAAAAAAAAAAREhADFBUWH/2gAIAQEAAT8hOI2RX+q0+ZIupVHK7MpQN6PIhox4LPpVrdOWiHuy9GjWeD6fSl1I5w2AA1ypZ2Qh0BSJ3CUOLyRoMpxGau0oLOv7W/k7GvyH/liDsdC5S2QgR8iNBgHabwrhr9HfjsfXAPiHFR16IjNYg4VHD4O//9oADAMBAAIAAwAAABDo53L/xAAZEQEBAQEBAQAAAAAAAAAAAAABESEAQTH/2gAIAQMBAT8QWTRfAWoOMBCt7AkyKqwC6l9FNqhw6VJBQIOGCfUAxESkAgAAAAgA8gO//8QAGhEBAQADAQEAAAAAAAAAAAAAAREAITFBUf/aAAgBAgEBPxC9SqxptfC7IC5hBVtkazcJ40FJMozpMkoxAxtHC2DSyiKppWz0lT1V+T//xAAaEAEBAQEAAwAAAAAAAAAAAAABEQAhMUGh/9oACAEBAAE/EDLEp4d1O1Y5l2PLu/8A/WGeIJMIOVnYijiBrMLXSa7W3GOR94YehBjyrhbuxbytlGX1auMYMKExGz7LMPW5BTd4WYjRs1kfPyhhBLOwY9mvDDkqTZKwGigWBPj6wA3CDxToEjFKygKQ5SHo3//Z" alt="5기_제로" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/047c54c5e2848582e3dd68654a0cf79c/b3d27/jero.jpg 40w,
/static/047c54c5e2848582e3dd68654a0cf79c/5a735/jero.jpg 80w,
/static/047c54c5e2848582e3dd68654a0cf79c/6e81a/jero.jpg 120w,
/static/047c54c5e2848582e3dd68654a0cf79c/faa31/jero.jpg 750w" sizes="(max-width: 750px) 100vw, 750px" /><img loading="lazy" sizes="(max-width: 750px) 100vw, 750px" srcset="/static/047c54c5e2848582e3dd68654a0cf79c/b3d27/jero.jpg 40w,
/static/047c54c5e2848582e3dd68654a0cf79c/5a735/jero.jpg 80w,
/static/047c54c5e2848582e3dd68654a0cf79c/6e81a/jero.jpg 120w,
/static/047c54c5e2848582e3dd68654a0cf79c/faa31/jero.jpg 750w" src="/static/047c54c5e2848582e3dd68654a0cf79c/faa31/jero.jpg" alt="5기_제로" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><a href="/author/5-기-제로/">5기_제로</a></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2023-10-05">05 Oct 2023</time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->9<!-- --> min read</span></div></section></section></div></header><style data-emotion="css 4wxe1t">.css-4wxe1t{margin:25px 0 50px;height:560px;background:#c5d2d9 center center;-webkit-background-size:cover;background-size:cover;border-radius:5px;}@media (max-width: 1170px){.css-4wxe1t{margin:25px -6vw 50px;border-radius:0;}.css-4wxe1t img{max-width:1170px;}}@media (max-width: 800px){.css-4wxe1t{height:400px;}}@media (max-width: 500px){.css-4wxe1t{margin-bottom:4vw;height:350px;}}</style><figure class="css-4wxe1t"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:60.69565217391304%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1klEQVQoz42TS08TURTH+wH8Bn4CN+5cs9IYNG4aTVlhCIaYKKIsiFsjZgwx1UhMCerChU+iBppgDDGBsACB+EgUqjWlhUInU+mM0sfM3Ds/ZzqT0trx8U9m7rnn3HPO/55zboS/wHGcxiqExBYC2xZIKVvszYjwD4Q5eZDSaUvaCOhtmg0NOWBS0ne5c+81SvwFA0NjvJpZDoK2M42EZfFliQzkzXyRzlMKx7sUDhw6y+3EVF1fs8SfGeIxc2W7VsUu/6gb7UrZ1dvkCyW6em/x9kMOTTfJFHbYzBTJbuhUaqI9oLvdY6d+hpUkVv4rcikJ6Xm2NYNYT5yP6S1SZo4vOyrbVx6xPrfKrmz1b7nyd73KyI2nPEuMI5anmJmb5/lizmVUJdo9yvuUii5NNMNifSVDJq1RDmMoguIuvMty8IjC3VgH1sXDTJw/x83RfibvD3L5whn6+uMcO3mVB4/f1M9XLNHW7ZYaejajZGC+vMbP4T4KyiWmx08zMXKUh8MdnIgOsG9/jOvxJ36XhQjvsq/0a7H3B9P9okMJkrMLGOo3Pq1lWU1toBV1wsYtdGy8KzheZrcMjrCZnl1EDQL8z8BHQg8FmZt9pPSfnPcEf69bM34Bynh7wY+/hXkAAAAASUVORK5CYII=" alt="낙관적 업데이트로 사용자 경험을 개선해보자!" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/3f2c78829b67496302b9dafa75d6ca87/53716/how-to-improve-ux-with-optimistic-update.png 575w" sizes="(max-width: 575px) 100vw, 575px" /><img loading="lazy" sizes="(max-width: 575px) 100vw, 575px" srcset="/static/3f2c78829b67496302b9dafa75d6ca87/53716/how-to-improve-ux-with-optimistic-update.png 575w" src="/static/3f2c78829b67496302b9dafa75d6ca87/53716/how-to-improve-ux-with-optimistic-update.png" alt="낙관적 업데이트로 사용자 경험을 개선해보자!" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></figure><style data-emotion="css 1hzbvd8">.css-1hzbvd8{position:relative;margin:0 auto;padding:0 170px 6vw;min-height:230px;font-family:Georgia,serif;font-size:2rem;line-height:1.6em;background:#fff;}@media (max-width: 1170px){.css-1hzbvd8{padding:0 11vw;}}@media (max-width: 800px){.css-1hzbvd8{padding:0 5vw;font-size:1.8rem;}}@media (max-width: 500px){.css-1hzbvd8{padding:0;}}@media (max-width: 500px){.css-1hzbvd8 .post-full-custom-excerpt{font-size:1.9rem;line-height:1.5em;}}.css-1hzbvd8 .no-image{padding-top:0;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h5,.css-1hzbvd8 h6,.css-1hzbvd8 p,.css-1hzbvd8 ul,.css-1hzbvd8 ol,.css-1hzbvd8 dl,.css-1hzbvd8 pre,.css-1hzbvd8 blockquote,.css-1hzbvd8 .post-full-comments,.css-1hzbvd8 .footnotes{margin:0 0 1.5em 0;min-width:100%;}@media (max-width: 500px){.css-1hzbvd8 p,.css-1hzbvd8 ul,.css-1hzbvd8 ol,.css-1hzbvd8 dl,.css-1hzbvd8 pre,.css-1hzbvd8 .post-full-comments,.css-1hzbvd8 .footnotes{margin-bottom:1.28em;}}.css-1hzbvd8 li{word-break:break-word;}.css-1hzbvd8 li p{margin:0;}.css-1hzbvd8 a{color:#15171A;word-break:break-word;box-shadow:#15171A 0 -1px 0 inset;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1hzbvd8 a:hover{color:#3eb0ef;-webkit-text-decoration:none;text-decoration:none;box-shadow:#3eb0ef 0 -1px 0 inset;}.css-1hzbvd8 strong,.css-1hzbvd8 em{color:#0a0b0c;}.css-1hzbvd8 small{display:inline-block;line-height:1.6em;}.css-1hzbvd8 img,.css-1hzbvd8 video{display:block;margin:1.5em auto;width:100%;max-width:1040px;height:auto;}@media (max-width: 1040px){.css-1hzbvd8 img,.css-1hzbvd8 video{width:100%;}}.css-1hzbvd8 img[src$='#full']{max-width:none;width:100vw;}.css-1hzbvd8 img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1hzbvd8 iframe{margin:0 auto!important;}.css-1hzbvd8 blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:#3eb0ef 3px solid;}@media (max-width: 500px){.css-1hzbvd8 blockquote{padding:0 1.3em;}}.css-1hzbvd8 blockquote p{margin:0 0 1em 0;color:inherit;font-size:inherit;line-height:inherit;font-style:italic;}.css-1hzbvd8 blockquote p:last-child{margin-bottom:0;}.css-1hzbvd8 code{padding:0 5px 2px;font-size:0.8em;line-height:1em;font-weight:400!important;background:#e5eff5;border-radius:3px;}.css-1hzbvd8 p code{word-break:break-all;}.css-1hzbvd8 pre{overflow-x:auto;padding:20px;max-width:100%;color:#e5eff5;font-size:1.4rem;line-height:1.5em;border-radius:5px;}.css-1hzbvd8 pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1hzbvd8 pre code :not(span){color:inherit;}.css-1hzbvd8 .fluid-width-video-wrapper{margin:1.5em 0 3em;}.css-1hzbvd8 hr{margin:2em 0;}.css-1hzbvd8 hr:after{content:'';position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#e4eaed;box-shadow:#fff 0 0 0 5px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.css-1hzbvd8 hr+p{margin-top:1.2em;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h5,.css-1hzbvd8 h6{color:#0a0b0c;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.css-1hzbvd8 h1{margin:0.5em 0 0.4em;font-size:4.2rem;line-height:1.25em;font-weight:600;}.css-1hzbvd8 p+h1{margin-top:0.8em;}@media (max-width: 800px){.css-1hzbvd8 h1{font-size:3.2rem;line-height:1.25em;}}.css-1hzbvd8 h2{margin:0.5em 0 0.4em;font-size:3.2rem;line-height:1.25em;font-weight:600;}.css-1hzbvd8 p+h2{margin-top:0.8em;}@media (max-width: 800px){.css-1hzbvd8 h2{margin-bottom:0.3em;font-size:2.8rem;line-height:1.25em;}}.css-1hzbvd8 h3{margin:0.5em 0 0.2em;font-size:2.5rem;line-height:1.3em;font-weight:600;}.css-1hzbvd8 h2+h3{margin-top:0.7em;}@media (max-width: 800px){.css-1hzbvd8 h3{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1hzbvd8 h4{margin:0.5em 0 0.2em;font-size:2.5rem;font-weight:600;}.css-1hzbvd8 h2+h4{margin-top:0.7em;}.css-1hzbvd8 h3+h4{margin-top:0;}@media (max-width: 800px){.css-1hzbvd8 h4{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1hzbvd8 h5{display:block;margin:0.5em 0;padding:0.4em 1em 0.9em;border:0;color:#3eb0ef;font-family:Georgia,serif;font-size:3.2rem;line-height:1.35em;text-align:center;}@media (min-width: 1180px){.css-1hzbvd8 h5{max-width:1060px;}}@media (max-width: 800px){.css-1hzbvd8 h5{margin-bottom:1em;margin-left:1.3em;padding:0 0 0.5em;font-size:2.4rem;text-align:initial;}}.css-1hzbvd8 h6{margin:0.5em 0 0.2em 0;font-size:2rem;font-weight:700;}@media (max-width: 800px){.css-1hzbvd8 h6{font-size:1.8rem;line-height:1.4em;}}.css-1hzbvd8 table{display:inline-block;overflow-x:auto;margin:0.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;}.css-1hzbvd8 table{-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 0 center,radial-gradient(ellipse at right, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 100% center;background-attachment:scroll,scroll;-webkit-background-size:10px 100%,10px 100%;background-size:10px 100%,10px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table td:first-of-type{background-image:linear-gradient(
      to right,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table td:last-child{background-image:linear-gradient(
      to left,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-position:100% 0;background-position:100% 0;-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1hzbvd8 table th{color:#15171A;font-size:1.2rem;font-weight:700;letter-spacing:0.2px;text-align:left;text-transform:uppercase;background-color:#f4f8fb;}.css-1hzbvd8 table th,.css-1hzbvd8 table td{padding:6px 12px;border:#e1edf4 1px solid;}@media (prefers-color-scheme: dark){.css-1hzbvd8{background:#191b1f;}.css-1hzbvd8 h1,.css-1hzbvd8 h2,.css-1hzbvd8 h3,.css-1hzbvd8 h4,.css-1hzbvd8 h6{color:rgba(255, 255, 255, 0.9);}.css-1hzbvd8 a{color:#fff;box-shadow:inset 0 -1px 0 #fff;}.css-1hzbvd8 strong{color:#fff;}.css-1hzbvd8 em{color:#fff;}.css-1hzbvd8 code{color:#fff;background:#000;}.css-1hzbvd8 hr{border-top-color:#2b2f36;}.css-1hzbvd8 figcaption{color:rgba(255, 255, 255, 0.6);}.css-1hzbvd8 table td:first-of-type{background-image:linear-gradient(to right, #191b1f 50%, #191b1f 100%);}.css-1hzbvd8 table td:last-child{background-image:linear-gradient(270deg, #191b1f 50%, rgba(25, 27, 31, 0));}.css-1hzbvd8 table th{color:rgba(255, 255, 255, 0.85);background-color:#2b2f36;}.css-1hzbvd8 table th,.css-1hzbvd8 table td{border:#2b2f36 1px solid;}.css-1hzbvd8 .kg-bookmark-container,.css-1hzbvd8 .kg-bookmark-container:hover{color:rgba(255, 255, 255, 0.75);box-shadow:0 0 1px rgba(255, 255, 255, 0.9);}}.css-1hzbvd8 code[class*='language-'],.css-1hzbvd8 pre[class*='language-']{color:white;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1hzbvd8 pre[class*='language-']{overflow:auto;}.css-1hzbvd8 *:not(pre)>code[class*='language-']{border-radius:0.3em;background:rgb(1, 22, 39);color:white;padding:0.15em 0.5em;white-space:normal;}.css-1hzbvd8 .token.attr-name{color:rgb(173, 219, 103);font-style:italic;}.css-1hzbvd8 .token.comment{color:rgb(128, 147, 147);}.css-1hzbvd8 .token.string,.css-1hzbvd8 .token.url{color:rgb(173, 219, 103);}.css-1hzbvd8 .token.variable{color:rgb(214, 222, 235);}.css-1hzbvd8 .token.number{color:rgb(247, 140, 108);}.css-1hzbvd8 .token.builtin,.css-1hzbvd8 .token.char,.css-1hzbvd8 .token.constant,.css-1hzbvd8 .token.function{color:rgb(130, 170, 255);}.css-1hzbvd8 .token.punctuation{color:rgb(199, 146, 234);}.css-1hzbvd8 .token.selector,.css-1hzbvd8 .token.doctype{color:rgb(199, 146, 234);font-style:'italic';}.css-1hzbvd8 .token.class-name{color:rgb(255, 203, 139);}.css-1hzbvd8 .token.tag,.css-1hzbvd8 .token.operator,.css-1hzbvd8 .token.keyword{color:#ffa7c4;}.css-1hzbvd8 .token.boolean{color:rgb(255, 88, 116);}.css-1hzbvd8 .token.property{color:rgb(128, 203, 196);}.css-1hzbvd8 .token.namespace{color:rgb(178, 204, 214);}.css-1hzbvd8 pre[data-line]{padding:1em 0 1em 3em;position:relative;}.css-1hzbvd8 .gatsby-highlight-code-line{background-color:hsla(207, 95%, 15%, 1);display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid #ffa7c4;}.css-1hzbvd8 .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto;}.css-1hzbvd8 .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}</style><section class="post-full-content css-1hzbvd8"><div><h2>들어가며: 낙관적 업데이트, 왜 필요할까?</h2>
<blockquote>
<p>장바구니에 상품을 추가했는데, 왜 화면에는 바로 반영되지 않을까?</p>
</blockquote>
<p>낙관적 업데이트의 필요성을 처음 느낀 순간은, <code class="language-text">장바구니에 상품 추가하기</code> 기능을 만들 때였습니다.</p>
<img width="294px" height="381px" src="/15656231a61159a4a143976d70e95530/2023-08-15-image1-without-optimistic.gif"/>
<p>‘장바구니 상품 추가’를 위해 POST 요청을 보내고, 이에 대한 <strong>응답이 오기까지 3초의 지연 시간</strong>이 있다고 해봅시다. 그리고 개발자 네로 씨는 이 응답을 기다렸다가, 응답에 따라 상태를 업데이트하여 UI를 변경하려고 합니다.</p>
<p>이러한 로직이라면, 화면을 보고 있는 사용자들은 위 그림처럼 3초를 기다렸다가, 3초 뒤에야 해당 상품이 장바구니에 담긴 것을 볼 수 있습니다.</p>
<p>사용자들은 이러한 기다림에 대해 불편함을 느꼈고, 네로 씨는 <code class="language-text">서버와의 통신과 상관없이, 화면(또는 UI) 먼저 바꿔줄 수는 없을까?</code> 라는 생각을 하게 됩니다.</p>
<img width="302px" height="381px" src="/3ca7cf80334548259b6ffe75cfd481c9/2023-08-15-image2-with-optimistic.gif"/>
<p>따라서 네로 씨는 서버의 응답이 오기 전에 상태를 먼저 바꿔서, 업데이트된 상태를 화면에 반영해 주기로 했습니다.</p>
<p>사용자들은 이제 위 그림처럼, 장바구니 아이콘을 누른 순간 즉시 ‘아 장바구니에 상품이 추가되었네!’ 라고 느끼게 됩니다.</p>
<p>바로 ‘낙관적 업데이트’를 통해 지연 시간에 대한 불편을 해소한 것이죠!</p>
<h2>낙관적 업데이트는 무엇인가?</h2>
<h3>낙관적 업데이트가 등장하기 이전에는…</h3>
<p><code class="language-text">낙관적 업데이트(Optimistic Update)</code>는 웹 애플리케이션에서 <strong>사용자 경험을 향상</strong>시키기 위해 사용되는 개념입니다. 주로 네트워크 요청이나 데이터 업데이트와 관련하여 사용됩니다.</p>
<p>프론트엔드의 일반적인 상태 업데이트 방식은 다음과 같습니다.</p>
<ol>
<li>사용자가 어떤 동작(예: 게시글 작성, 댓글 수정, 북마크)을 수행합니다.</li>
<li>서버에 해당 변경 사항(mutation)을 요청하고 응답을 기다립니다.</li>
<li>서버의 응답에 따라 UI를 업데이트합니다.</li>
</ol>
<p>하지만 이 접근 방식은, 장바구니 예시처럼 사용자가 서버의 응답을 기다려야 하므로 네트워크 지연이나 서버 응답 속도가 느릴 경우에는 사용자 경험이 저하될 수 있습니다.</p>
<h3>사용자 경험 향상을 위한 방법, 낙관적 업데이트</h3>
<p><code class="language-text">낙관적 업데이트</code>는 이러한 문제를 해결하기 위한 방법으로, <strong>사용자의 동작에 대한 응답을 기다리지 않고 미리 UI를 업데이트하는 것</strong>입니다.</p>
<p>사용자가 어떤 동작을 수행했을 때, 서버 요청을 보내기 전에 먼저 UI를 업데이트합니다. 서버 응답 성공 시 새로운(업데이트된) 상태를 화면에 그리고, 실패 시에는 오류 메시지를 보여주고 기존의 상태를 유지합니다.</p>
<p>그 결과, 사용자는 동작에 대한 빠른 피드백을 받으므로 애플리케이션이 더 빠르게 반응한다고 느끼게 됩니다.</p>
<p>혹자는 아래와 같은 의문을 가질 수도 있습니다.</p>
<blockquote>
<p>요청에 대한 응답이 빠르게 오도록, 서버의 성능을 높이면 되지 않나요? 🤔</p>
</blockquote>
<p>서버의 응답이 아무리 빠르더라도, <strong>사용자가 어떤 네트워크 환경에 처해 있느냐</strong>에 따라 애플리케이션의 응답 속도가 달라집니다. 예를 들어 지하철의 공공 와이파이로 접속한 경우, 어떨 때는 네트워크가 불안정할 수도 있죠.</p>
<p>따라서 서버의 응답에만 의존하여 상태(또는 UI)를 업데이트하는 것이 아니라, <code class="language-text">낙관적 업데이트</code> 와 같은 로직을 통해 각기 다른 사용자들의 환경에 대비하는 것이 좀 더 바람직해 보입니다.</p>
<h3>커뮤니티/SNS 서비스 속 낙관적 업데이트</h3>
<p><a href="https://votogether.com">VoTogether(보투게더)</a>라는 투표 중심의 커뮤니티 서비스를 만들면서, <strong>투표 선택지 수정 기능과 댓글 수정</strong> <strong>기능</strong>을 구현해야 했습니다.</p>
<p>그런데 투표 선택지 수정 및 댓글 수정 API 요청을 한 뒤, 이에 대한 응답이 성공적으로 오기 전까지는 사용자가 바라보는 UI가 즉각적으로 수정되지 않았습니다.</p>
<p>사용자는 UI가 업데이트되기를 몇 초간 기다려야 하는데, 이러한 기다림은 사용자 경험을 저하할 수 있다고 생각했습니다.</p>
<p>VoTogether 팀은 서버 데이터로 UI를 업데이트하는 경우가 많았기 때문에 <code class="language-text">TanStack Query</code>나 <code class="language-text">swr</code> 같은 서버 상태 관리 라이브러리를 도입하였고, <code class="language-text">TanStack Query</code>가 제공하는 메서드 중 <code class="language-text">useMutation</code>(onMutate, onError, onSettled)을 이용하여 ‘낙관적 업데이트’를 구현하기로 하였습니다.</p>
<p><code class="language-text">TanStack Query</code>를 사용하지 않고도 낙관적 업데이트를 구현할 수는 있지만, VoTogether 팀은 서버 상태에 대한 관리를 <code class="language-text">TanStack Query</code>를 이용하고 있기에 <a href="https://tanstack.com/query/v4/docs/react/guides/optimistic-updates">공식 문서</a>의 설명을 참고하여 낙관적 업데이트를 구현해 보았습니다!</p>
<h2>상태 관리 라이브러리 없이 구현하기</h2>
<p>먼저 <code class="language-text">TanStack Query</code> 를 사용하지 않고, react의 <code class="language-text">setState(useState)</code>으로만 투표 선택지 수정 기능을 구현해 봅시다.</p>
<ul>
<li>투표 선택지 컴포넌트(VoteOptionList.tsx, styled-components 코드는 생략됨)</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  options<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  selectedOption<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">option<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">updateSelectedOptionApi</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">newOption<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/updateSelectedOption&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      method<span class="token operator">:</span> <span class="token string">&#x27;PUT&#x27;</span><span class="token punctuation">,</span>
      headers<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">&#x27;Content-Type&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;application/json&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> newOption <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;투표 선택지 수정 오류 발생&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">투표한 선택지는 : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newOption<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#x27;API error:&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#x27;투표 선택지 수정 중 오류가 발생했어요&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">VoteOptionList</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> options<span class="token punctuation">,</span> selectedOption<span class="token punctuation">,</span> onChange <span class="token punctuation">}</span><span class="token operator">:</span> Props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleOptionClick</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">option<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">onChange</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 선택한 선택지 바로 반영</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">await</span> <span class="token function">updateSelectedOptionApi</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 선택한 선택지 수정 API 요청 호출</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#x27;투표 선택지 수정 오류:&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">onChange</span><span class="token punctuation">(</span>selectedOption<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 업데이트 실패 시 선택지 원래대로 돌리기</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VoteListContainer</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>options<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">option<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VoteItem</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleOptionClick</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">OptionRadio</span></span>
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>voteOption<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>option<span class="token punctuation">}</span></span>
            <span class="token attr-name">checked</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selectedOption <span class="token operator">===</span> option<span class="token punctuation">}</span></span>
            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleOptionClick</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
          <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">OptionLabel</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>option<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">OptionLabel</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">VoteItem</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">VoteListContainer</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<ul>
<li>App.tsx (VoteOptionList 컴포넌트의 상위 요소)</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> VoteOptionList <span class="token keyword">from</span> <span class="token string">&#x27;./VoteOptionList&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#x27;취업하기&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;창업하기&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;대학원 진학하기&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>selectedOption<span class="token punctuation">,</span> setSelectedOption<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>options<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleOptionChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">option<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setSelectedOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 선택한 선택지를 수정</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">진로가 고민됩니다🤔🥺</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VoteOptionList</span></span>
        <span class="token attr-name">options</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>options<span class="token punctuation">}</span></span>
        <span class="token attr-name">selectedOption</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selectedOption<span class="token punctuation">}</span></span>
        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleOptionChange<span class="token punctuation">}</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">투표한 선택지: </span><span class="token punctuation">{</span>selectedOption<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code></pre></div>
<p>위의 코드로 구현한 결과물은 아래와 같습니다.</p>
<img width="612px" height="426px" src="/e31351fbd92f8c94020f4013b958142e/2023-08-15-image3-without-query.gif"/>
<p>처음에는 ‘취업하기’라는 선택지였고, ‘창업하기’라는 선택지로 먼저 낙관적 업데이트를 진행합니다. 그 후 API 요청을 보내고, 응답을 기다리다가 오류가 발생하여 원래의 선택지(’취업하기’)로 되돌리는 모습입니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> <span class="token function-variable function">handleOptionClick</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">option<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">onChange</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 선택한 선택지 바로 반영</span>

  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">updateSelectedOptionApi</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 선택한 선택지 수정 API 요청 호출</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#x27;투표 선택지 수정 오류:&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onChange</span><span class="token punctuation">(</span>selectedOption<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 업데이트 실패 시 선택지 원래대로 돌리기</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>자세한 코드는 <a href="https://codesandbox.io/p/sandbox/xenodochial-hertz-pmllqg?file=%2Fsrc%2FApp.tsx%3A7%2C35">링크</a>에서 참고할 수 있습니다.</p>
<h2>TanStack Query로 구현하기</h2>
<p>이제 <code class="language-text">TanStack Query</code>를 이용하여 선택지 수정 기능에 대한 낙관적 업데이트를 구현해 봅시다.</p>
<ul>
<li>useEditVote.ts</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useMutation<span class="token punctuation">,</span> useQueryClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@tanstack/react-query&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// 선택지 수정 API 요청에 쓰이는 fetch 메서드</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">updateSelectedOptionApi</span><span class="token punctuation">(</span><span class="token parameter">newOption<span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/updateSelectedOption&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">&#x27;PUT&#x27;</span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&#x27;Content-Type&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;application/json&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> newOption <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Failed to update selected option&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 선택지 수정 쿼리</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useEditVote</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">postId<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token function">useQueryClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> queryKey <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#x27;posts&#x27;</span><span class="token punctuation">,</span> postId<span class="token punctuation">,</span> <span class="token string">&#x27;option&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> mutate<span class="token punctuation">,</span> isLoading<span class="token punctuation">,</span> isError<span class="token punctuation">,</span> error <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMutation</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">newOption<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">updateSelectedOptionApi</span><span class="token punctuation">(</span>newOption<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token function-variable function">onMutate</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">newOption<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 선택지 데이터에 대한 모든 퀴리요청을 취소하여 이전 서버 데이터가 낙관적 업데이트를 덮어쓰지 않도록 함 -&gt; refetch 취소시킴</span>
        <span class="token keyword">await</span> queryClient<span class="token punctuation">.</span><span class="token function">cancelQueries</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> prevOption <span class="token operator">=</span> queryClient<span class="token punctuation">.</span><span class="token function">getQueryData</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 기존 선택지 데이터의 snapshot</span>
        queryClient<span class="token punctuation">.</span><span class="token function">setQueryData</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">,</span> newOption<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 새로운 선택지 데이터로 낙관적 업데이트 실시</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span> prevOption <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// context를 return, context 예시에는 이전 스냅샷, 새로운 값(또는 롤백하는 함수)이 있음</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onError</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> _<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 캐시를 저장된 값으로 롤백</span>
        queryClient<span class="token punctuation">.</span><span class="token function">setQueryData</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">,</span> context<span class="token operator">?.</span>prevOption<span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;선택지 수정에 실패했습니다. 다시 시도해주세요.&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onSuccess</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 쿼리 함수의 성공하면 -&gt; 기존 선택지 데이터 무효화</span>
        queryClient<span class="token punctuation">.</span><span class="token function">invalidateQueries</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> mutate<span class="token punctuation">,</span> isLoading<span class="token punctuation">,</span> isError<span class="token punctuation">,</span> error <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li>VoteOptionList.tsx</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">VoteOptionList</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  options<span class="token punctuation">,</span>
  selectedOption<span class="token punctuation">,</span>
  onChange<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">:</span> Props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> postIdExample <span class="token operator">=</span> <span class="token string">&quot;1234&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> mutate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useEditVote</span><span class="token punctuation">(</span>postIdExample<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleOptionClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">option<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">onChange</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">mutate</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// .. 중략</span></code></pre></div>
<p>자세한 코드는 <a href="https://codesandbox.io/p/sandbox/intelligent-gates-f999p3?file=%2Fsrc%2FVoteOptionList.tsx%3A26%2C1">링크</a>에서 참고할 수 있습니다.</p>
<p><code class="language-text">TanStack Query</code>의 <a href="https://tanstack.com/query/v4/docs/react/guides/optimistic-updates">공식 문서</a>는 어떠한 매커니즘으로 낙관적 업데이트를 구현하는지 아래와 같이 설명하고 있습니다.</p>
<blockquote>
<p>낙관적으로 상태를 업데이트한 후 변경 작업을 수행할 때, 변경 작업이 실패할 가능성이 있습니다. 이러한 실패 케이스 대부분에서는 낙관적인 쿼리를 다시 가져와서 실제 서버 상태로 되돌릴 수 있습니다. 그러나 어떤 상황에서는 다시 가져오기가 올바르게 작동하지 않을 수 있으며, 변경 작업 오류가 다시 가져오기가 불가능한 종류의 서버 문제를 나타낼 수 있습니다. 이 경우에는 대신 업데이트를 롤백할 수 있습니다.
이를 위해 <code class="language-text">useMutation</code>의 <code class="language-text">onMutate</code> 핸들러 옵션을 사용하여 나중에 오류 및 <code class="language-text">onSettled</code> 핸들러로 전달될 값을 반환할 수 있습니다. 대부분의 경우 롤백 함수를 전달하는 것이 가장 유용합니다.</p>
</blockquote>
<p>이러한 업데이트 및 롤백에 대한 자세한 코드는, 이 <a href="https://tanstack.com/query/v4/docs/react/guides/optimistic-updates#updating-a-list-of-todos-when-adding-a-new-todo">예시 코드</a>에서 확인하실 수 있습니다.</p>
<h3>서버의 응답이 성공한 경우</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"> <span class="token function-variable function">onSuccess</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 쿼리 함수의 성공하면 -&gt; 기존 선택지 데이터 무효화</span>
      queryClient<span class="token punctuation">.</span><span class="token function">invalidateQueries</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></div>
<h3>서버의 응답이 실패한 경우</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token function-variable function">onError</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> _<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 캐시를 저장된 값으로 롤백</span>
      queryClient<span class="token punctuation">.</span><span class="token function">setQueryData</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">,</span> context<span class="token operator">?.</span>prevOption<span class="token punctuation">)</span><span class="token punctuation">;</span>
      window<span class="token punctuation">.</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
        <span class="token string">&quot;선택지 수정에 실패했습니다. 다시 시도해주세요.&quot;</span><span class="token punctuation">,</span>
        error
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">TanStack Query</code>에서 진행되는 낙관적 업데이트는 흐름도는 아래와 같습니다.</p>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:757px">
      <a class="gatsby-resp-image-link" href="/static/537c881a4e0fe50884ff1f7e4d237ef5/70668/2023-08-15-image5-optimistic-update-flow.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:55.99999999999999%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwUlEQVQoz21S2VLkMAzM//8PbzzAPnEVKdjiHGDnSMg9OZ3Djt1IdqYKdkhVl5JYlrpb8vDLY4yxcZ4mGDkCWkIriVkS+p4TMA8DJUh6V3SuKGWCpnyPL2utj2BLzgoD3ReDreGaKQUllW30ujK4vNbwfYM01cwAnu1ESXzZxdlFYtOUJf7ehTg/e8fD4xqb7RplXiBNUnRVjqdHg5MTidNThbrie1xwHBDHMZI0QZZliKIYQRCgKfbI4ogYthCiQdu2KOsaQ9dZpiyROdzfa6zejLNhHOE1RY6b6yvc+j4uLi+IzR/sdjukUYRRCMdWsxxtL2lSZOiblRkqSlIs2D/roaKDIAzJjxW22w3WmzWyNEWV5xhpADwERYW/w1g2w/LdLxCuoCaaHclgSUJ0BIGO30keFz3agGlykdiZ7/95hix5nkZHXfHkpINdF4mEZO9fn5H5NyhJRdU2GKhZT037cg+dJZiTCHO4g/oMXcHD3v0Ae8bOkB1JGOD95Rn/Pj7Ijg2qokBF02+ZPTXQTQ1dldB1BVbrHZb4v81eJimPj5Z/Vslvko/YLTgUtMbTdiseDkfymRWoZWA8bQvK4/gFdUFTR1ToZaoAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="2023 08 15 image5 optimistic update flow" title="2023 08 15 image5 optimistic update flow" src="/static/537c881a4e0fe50884ff1f7e4d237ef5/70668/2023-08-15-image5-optimistic-update-flow.png" srcSet="/static/537c881a4e0fe50884ff1f7e4d237ef5/0eb09/2023-08-15-image5-optimistic-update-flow.png 500w, /static/537c881a4e0fe50884ff1f7e4d237ef5/70668/2023-08-15-image5-optimistic-update-flow.png 757w" sizes="(max-width: 757px) 100vw, 757px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
<h2>낙관적 업데이트는 언제 필요할까?</h2>
<h3>낙관적 업데이트가 필요한 경우</h3>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:835px">
      <a class="gatsby-resp-image-link" href="/static/4471825db9e550637299c77e515c8400/98650/2023-08-15-image6-optimistic-updated-example.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:30%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYUlEQVQY0zWRy3KbQBBF9f9/kmU2qSQOMdYTiQIUZElO9AKBBhhAw9NeHo+kyuJW19T0nL53elA276j2naLpCYRE5IoobhFZQ5SV+lxxLjqyquOc5gh51fcNl6TlontDkfNgfNzrQFY98bUnjBW/nj289T/GPyM8N8a0HPy3E7/3NZugwDSXLNYHJmaCNQyZOj7DmXeH3gbnmjU45y3joMaxUmaGYLndMXZfWe/OPI9cdqeEyb7CWeXYo5TpqcE75szcFcbUY3MUzJw1E9tHqpZBWfdU2q5UjZ64wt8emEct7lZhvyQsbcn3LwH7nWIhGpw/GmwkLMIaO9RvjhWyfkQubpFvuaXqmHsbnl7m+JuA4bcL9muBFVWsPIllCiZGzOjpgv/3xEI7so4l9qHC+Kr7f8T3HZT/gYV2mZQ1qdbNdio70mtHov9E6prppaT5Q9m1ufelqn9ItiRapQYW2ukny1+yqaN35bMAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="2023 08 15 image6 optimistic updated example" title="2023 08 15 image6 optimistic updated example" src="/static/4471825db9e550637299c77e515c8400/98650/2023-08-15-image6-optimistic-updated-example.png" srcSet="/static/4471825db9e550637299c77e515c8400/0eb09/2023-08-15-image6-optimistic-updated-example.png 500w, /static/4471825db9e550637299c77e515c8400/98650/2023-08-15-image6-optimistic-updated-example.png 835w" sizes="(max-width: 835px) 100vw, 835px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
<p>위 이미지의 <strong>메시지 전송, 좋아요, 즐겨찾기, 투두리스트 체크, 장바구니 담기, 게시글 비공개, 파일 업로드, 북마크</strong> 등은 모두, 낙관적 업데이트가 필요한 기능들입니다.</p>
<p>이러한 기능들의 공통점은, 모두 <strong>기존의 데이터에 업데이트(mutate)를 일으킨다</strong>는 점입니다. 사용자의 동작에 따라 발생한 데이터 업데이트는, 지연 시간(latency) 없이 즉각적인 피드백을 화면에 띄워야 사용자 만족도를 높일 수 있습니다.</p>
<blockquote>
<p>낙관적 업데이트가 굳이 필요한가요? 사용자가 기다리게 하는 것 역시 사용자 경험이 될 수 있지 않나요?</p>
</blockquote>
<p>위와 같은 궁금증이 들 수도 있습니다. 사실 지연 시간 또한 사용자 경험이 될 수 있습니다. 웹 애플리케이션 개념이 등장한 지 얼마 되지 않은 시절에는, 사용자들은 기다림이 문제가 된다는 것을 인지조차 하지 않았습니다.</p>
<p>그러나 세월이 흘러 지금처럼 매일 새로운 콘텐츠가 쏟아져 나오고, 데이터를 업데이트하는 기능들이 다양해지면서 피드백 없는 기다림은 불편 사항이 될 수밖에 없었죠.</p>
<h3>낙관적 업데이트를 지양해야 하는 경우</h3>
<p>물론 낙관적 업데이트가 모든 상태의 업데이트에 필요한 것은 아닙니다. 낙관적 업데이트가 필요하지 않거나, 심지어 사용을 지양해야 하는 경우도 존재합니다.</p>
<p>예를 들어 <strong>장바구니에 상품을 담고 결제를 진행</strong>한다고 해봅시다.</p>
<p>사용자가 결제 버튼을 클릭하면 어떻게 될까요? 일반적으로 결제 요청이 서버로 전송되고, ‘로딩 중’ 같은 문구나 로딩 스피너가 보일 것입니다.</p>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:249px">
      <a class="gatsby-resp-image-link" href="/static/8b5be119c499d6d848f229597f69e1df/14a1f/2023-08-15-image7-baemin-payment-loading.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:83.93574297188754%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABoklEQVQ4y51Ty26CQBTtp7mqn2BM/As/wg9wY+LCf7AxxqVaTdWkxGXRjQnWhYDAvEBDT5lRAviCdnFyhzt3DueeufPCqUAMJiPhSOcegam629qXTAGRpByUUHiud4ZHVCRRlHBdV+3HZ9iVgCwhPRMSQhAEAY7HI3zfV5Hz6DBjCMMQlLKk/hlhvCmVaJqGxWKB9XqN5XKp4mazQa/Xw35vQjA/X6EE9ZhS1Gq1UKvV0Gg0UCqV0Gw20e/3Ua1WoX1qCE8/qrYg4UkRVioVRVKv19Fut9HpdFAuv2I8fgdCgLg0x0NyIY680nVdtSy9tCwLhmEozGYzWKaVtEwLeChv0vM8CCFgmiZs24bjOAryckj6lvMIfR5g973DYDDAaDTCfD7HZDpRrQ+HQ3TfuljpKxzFqdilyLWcu4N9UHAvMxjPn8w5Bzd/Dq/nUXokIdc0gn9Zx3n24EUlCinPDGsMEX3bkcqvyEueyhdQmLwUninkmG4NfGx3CKif+dlThTetx8RSoUeV0ntPrTghSQjEHUv+TMgfePV/hanIrnLP8AslVgTKwYsXvQAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="2023 08 15 image7 baemin payment loading" title="2023 08 15 image7 baemin payment loading" src="/static/8b5be119c499d6d848f229597f69e1df/14a1f/2023-08-15-image7-baemin-payment-loading.png" srcSet="/static/8b5be119c499d6d848f229597f69e1df/14a1f/2023-08-15-image7-baemin-payment-loading.png 249w" sizes="(max-width: 249px) 100vw, 249px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
<p>만약 결제 기능에 낙관적 업데이트를 적용한다면, 결제 응답과 상관없이 장바구니의 상품을 먼저 제거하는 등 UI 먼저 업데이트하게 됩니다. 그 결과는 사용자는 결제했음에도 장바구니에 아직 상품들이 남아 있는 것을 발견합니다.</p>
<p>장바구니의 상품들 상태는 서버의 데이터를 GET 요청하여 보여주는데, 아직 서버의 데이터는 완전하게 업데이트를 끝내지 못했기 때문입니다.</p>
<p>이렇듯 서버 데이터와 화면의 상태 간 일관성이 중요한 경우, 낙관적 업데이트를 지양해야 합니다. 결제나 계정 정보 관리 등의 기능들은 일정 시간의 지연 시간이 필연적이라는 사실을, 많은 사용자가 그동안의 사용자 경험으로 인지하고 있는 부분입니다. 따라서 이러한 상황에는 낙관적 업데이트를 하여 사용자 경험을 저하하기보다는, 중요한 작업의 신뢰성을 유지하기 위해 ‘로딩 중’처럼 서버 응답을 기다리도록 하는 것이 안전합니다.</p>
<h2>마치며</h2>
<p>낙관적 업데이트는 사용자 경험을 개선하고 더 빠른 애플리케이션 응답을 제공하기 위한 좋은 전략 중 하나입니다.</p>
<p><code class="language-text">TanStack Query</code>는 낙관적 업데이트 기능을 제공하고 있고, 이러한 기능을 라이브러리 없이 직접 구현해 보는 것도 좋은 학습이 될 것이라 생각합니다!</p>
<p>나아가 낙관적 업데이트는 데이터의 종류를 고려해 보고 신중하게 구현해야 합니다. 만약 꼭 필요한 경우라면, 서버 응답 실패의 경우에도 오류 메시지를 사용자에게 보여주는 등 적절한 대처가 필요합니다.</p>
<hr/>
<h2>참고 자료</h2>
<p><a href="https://tanstack.com/query/v4/docs/react/guides/optimistic-updates">https://tanstack.com/query/v4/docs/react/guides/optimistic-updates</a></p>
<p><a href="https://ilxanlar.medium.com/better-ux-with-optimistic-ui-b72665e1afdf">https://ilxanlar.medium.com/better-ux-with-optimistic-ui-b72665e1afdf</a></p>
<p><a href="https://uxplanet.org/faster-user-experience-optimistic-ui-41b151feaa28">https://uxplanet.org/faster-user-experience-optimistic-ui-41b151feaa28</a></p>
<p><a href="https://uncertainty.oopy.io/optimistic-ui-with-react-query">https://uncertainty.oopy.io/optimistic-ui-with-react-query</a></p></div></section></article></div><div></div></main><style data-emotion="css 3pb1mm">.css-3pb1mm{position:relative;padding:0 5vw;}</style><style data-emotion="css rtegya">.css-rtegya{border-bottom:1px solid rgba(255, 255, 255, 0.1);background:#0a0b0c;position:relative;padding:0 5vw;}.css-rtegya .post-card{padding-bottom:0;border-bottom:none;}.css-rtegya .post-card:after{display:none;}.css-rtegya .post-card-primary-tag{color:#fff;opacity:0.6;}.css-rtegya .post-card-title{color:#fff;opacity:0.8;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-rtegya .post-card:hover .post-card-image{opacity:1;}.css-rtegya .post-card-excerpt{color:rgba(255, 255, 255, 0.6);}.css-rtegya .static-avatar{border-color:#000;}.css-rtegya .post-card-byline-content{color:rgba(255, 255, 255, 0.6);}.css-rtegya .post-card-byline-content a{color:rgba(255, 255, 255, 0.8);}.css-rtegya .author-avatar{border-color:#0a0b0c;}.css-rtegya .author-profile-image{background:#0a0b0c;}@media (max-width: 650px){.css-rtegya .post-card{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:25px;padding:25px 0 0;border-bottom:1px solid rgba(255, 255, 255, 0.1);}}</style><aside class="read-next css-rtegya"><div class="css-1q5n7pp"><style data-emotion="css si41tf">.css-si41tf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -25px;padding:60px 0 0 0;}</style><div class="read-next-feed css-si41tf"><style data-emotion="css 1pe6fj0">.css-1pe6fj0{position:relative;-webkit-flex:1 1 301px;-ms-flex:1 1 301px;flex:1 1 301px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 0 40px;padding:0 20px 40px;min-height:220px;border-bottom:1px solid #eaeff1;-webkit-background-size:cover;background-size:cover;}@media (prefers-color-scheme: dark){.css-1pe6fj0{border-bottom-color:#2b2f36;}}</style><article class="post-card   css-1pe6fj0"><style data-emotion="css 19py1iz">.css-19py1iz{position:relative;display:block;overflow:hidden;border-radius:5px 5px 0 0;}</style><a class="post-card-image-link css-19py1iz" href="/post/2023-09-22-AWS-EC2-(2)/"><style data-emotion="css zj03fh">.css-zj03fh{width:auto;height:200px;background:#c5d2d9 no-repeat center center;-webkit-background-size:cover;background-size:cover;}</style><div class="post-card-image css-zj03fh"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:30%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABV0lEQVQY02P48fMjAwj///+f4XiWFuORHEOGHSn6QvvTtNtf1hm1/5/qIPC324zhXJE+o2pQAkNQSiGDuLYFA7+SGSOPkhkDj6IZAy8QwwHMwF0pOkybEnQYtibpuh3N1H5/JF3z/9t6w/9fW02ev28x0zxfBtJkwsCvasnAo6DPxKtoCjYMp4G70/RYtiXrAl2nl38sU+v/0XTNH2/qDX99aTH+/3+CqS0Dg7mAsLJZFa+CaTQQewJxHNAwXoiBpkgG/noDxnsQBuZhMdAGaKCgkLJpHVBzAtAwfyCdBXQZBy8uA3en6jJvhnjZE+jlL0hefvOhxUz7Ya0Zw6IkY2ZguDECDeAQUDZn5pYFelvOjEFY3QLVwO9AfDBVk+F0rh7j8VwDhl2pumIH0rT7gZHS93+Sncj/XnOGt43GjCIqxsAwMwWHGb+SOQOvqjkDnwYQKyPCEAAp75qjk2ajoQAAAABJRU5ErkJggg==" alt="AWS 로그인부터 시작하는 인프라 구축하기 2편 cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/a5238a2dfa439bb2c0b0acf3648fea94/3a443/ec2.png 930w,
/static/a5238a2dfa439bb2c0b0acf3648fea94/27231/ec2.png 1400w" sizes="(max-width: 1400px) 100vw, 1400px" /><img loading="lazy" sizes="(max-width: 1400px) 100vw, 1400px" srcset="/static/a5238a2dfa439bb2c0b0acf3648fea94/3a443/ec2.png 930w,
/static/a5238a2dfa439bb2c0b0acf3648fea94/27231/ec2.png 1400w" src="/static/a5238a2dfa439bb2c0b0acf3648fea94/27231/ec2.png" alt="AWS 로그인부터 시작하는 인프라 구축하기 2편 cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><style data-emotion="css susx73">.css-susx73{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="post-card-content css-susx73"><style data-emotion="css 11xyrw0">.css-11xyrw0{position:relative;display:block;color:#15171A;}.css-11xyrw0:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="post-card-content-link css-11xyrw0" href="/post/2023-09-22-AWS-EC2-(2)/"><style data-emotion="css 1s5mbbt">.css-1s5mbbt{margin:15px 0 0;}</style><header class="post-card-header css-1s5mbbt"><style data-emotion="css 1ws4skr">.css-1ws4skr{height:25px;margin:0 0 0.2em;color:#3eb0ef;font-size:1.7rem;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;}</style><div class="post-card-primary-tag css-1ws4skr">#AWS</div><style data-emotion="css 1pqz7yn">.css-1pqz7yn{margin:0 0 0.4em;line-height:1.15em;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}@media (prefers-color-scheme: dark){.css-1pqz7yn{color:rgba(255, 255, 255, 0.85);}}</style><h2 class="post-card-title css-1pqz7yn">AWS 로그인부터 시작하는 인프라 구축하기 2편</h2></header><style data-emotion="css eyqgbm">.css-eyqgbm{font-family:Georgia,serif;}@media (prefers-color-scheme: dark){.css-eyqgbm{color:#90a2aa!important;}}</style><section class="post-card-excerpt css-eyqgbm"><p>AWS 로그인부터 시작하는 인프라 구축하기 2편 : 서브넷 / 보안그룹 / 퍼블릭vs프라이빗 인스턴스 / 라우팅 테이블과 인터넷 게이트웨이 6. 서브넷 이해하기 인스턴스를 생성할 때, 설정한 VPC…</p></section></a><style data-emotion="css k6f2l9">.css-k6f2l9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0;}</style><footer class="post-card-meta css-k6f2l9"><ul class="author-list css-teqkql"><li class="author-list-item css-1q168dw"><style data-emotion="css 1o16atw">.css-1o16atw{position:absolute;bottom:105%;z-index:999;display:block;padding:2px 8px;color:white;font-size:1.2rem;letter-spacing:0.2px;white-space:nowrap;background:#15171A;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.03) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:translateY(6px);-moz-transform:translateY(6px);-ms-transform:translateY(6px);transform:translateY(6px);pointer-events:none;}@media (max-width: 700px){.css-1o16atw{display:none;}}</style><div class="author-name-tooltip css-1o16atw">5기_이레</div><a class="author-avatar css-cdhz0m" href="/author/5-기-이레/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:127.5%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF2UlEQVQ4yx2SWW8bhxWF5xcUfelL0YcCBQo0aIuiRR4SJC91k7QId8pM7DSN7VhBbHlRJJHDWTjkkBTFdbiIkqylkmpL4jKchcMZznBRJFKiJG5auImiSEqp/0jpAhcH9+XDuefeCwgmLW/SCJgqhahSkIKF1bxFzSIK9MsP7v/1vWfKv4Rf3skEv8gHdTnfmOgey3k1+76xrEuTto8BPKrlUQ2PKpOQgoPkDKQWcPXm87+N//1Pqo/eG//8fcd3H4sjMng3Q2jSLk3OM4K1eY9GnB3BRhUPKVOQjDPKUqgijSlI9PMX8veX9A8598vdRbCwOF1YneC9iqx/ZKjKOpV7hLoQ0v7oVQMiIhdhWRqSSYhKQJRpXBMc/+RwCWlvO4cx93XU+ZYNDehA1vNg13sv71Zk5+R7PuXBvKroVwJZWJmFFVmTQsQ1kkW9M/3p+pTuJzrQjXqa5EKHXbkRl2+5+bNNTHLrioGxHz2qPZ96xBf9KiCPq3MWVRqTi2aFaJatPb2zFwKHVPCKW3t7Jv10nHhbTQ75wDXpzAf/ue9X5l3Kok+7TygLPjmQROS8RSma39Uodimk78cD/Zi3Ry8NC1u3u5ujumH9fdpTmH+Q98h3vYpSSFda0h0GZUAa1oomrWBSCqiMh1VXW94baqEX8w9i3n481E8ujCLc0sSQIYqLE5JDsefTFkNjxbCuSMiBvFmVwZQipkpbFJJVc0C8PN1w9uKh66h/GA0OY8QNGbhNhG5p72Hocd7+2YFXXibkRa9y36UDBETBwwrJrBYwBYcpWVQh2R/3qXA3HhjEAoO47ybhvUkEriNunnga9T15E0BfrS6thdGifxx492GoRrQqMza1hI9UFtd/drhgvCFDvWiwRxK9qOu/lL+wvuKOHjozl3O5GzN7sLoycxD+EsjNfZF33OUtY6+xh8v4zLzXTazs+NYi7Jq/sU2cb+JFwlDa+Hdw+9CR6VvFri3OxDemaq8f1TYfAEn0nog/2LI7HWTLzl3bmAHODnCmb4m3XJt8IBgMByKz23WbOMCp6sJWqEBONqgXTXa6xbwYOX+dcXy9ZR0P+AnHImvdquDkhSXRMlNdjG5DZN3K9Kx0e1YYmGPMfnyyw4MXnKHFz3QEPVBa/OZg4V/74a9yhDYb+jbifO7xrOJU1xxvYVQLS15Zk11rqu2QunZ2dzdpaQpQk4eawkybnwZ4my5puZt23k+77+fnH0rBbzYD8zjZsVEdnLo009c2todzV7PCtZUuMZS1JekbgqEjGtqSEWDguwyiy/oeScSj/OqTwn8mV0LLZrJjpppmqmOiO6bklYW9tnLdWan7hnK1ecO5YOyIYCcHA7Xtqer2ZCUyebQzVdoeqWEpvIPGLjGq/f/YVzjdtjCXs+IAps+/Au3c6rMOb2il9E0JAi445Iw11uKG452pk+jU3rpxYT1t4/p4ouNg+3ZuYE8P3bmhIVK+89jvxbxn2876jqEpGJsCDDSS6DkDV8ip44j+JDKTegV9+8PiRKiAkmdT68Vna8XnawXZTOSXH9hVavCSnOttz1Uj8GXG1BIQ4CJpPGfBOqk/iRqOYj9k3jg//nT21x96P7y3/Id/eH/zEfH7T6zfP8FduHvFBe2ugrUte5UE2xI2MgcaHHLBwnXaeBIDj2P6Ytw1Mb38iz8u/Px3/p/9lvjVn+e/e25tiHhTQtoZUzW9Xs6+arBoJ2NrpMDR2KYLFqmzYDUBncSMxbh1Y21VobF9/8inf+oJO20n/OwJZ6wI2Alt2hVf7xcjR0nzOW85Z0CgKZguUmidgU4ZtJyAjxJwMQruRcGDDUN5HaxRWIUzVjm0nsbqaaTCYSVpkdqEM8sTLc4CtHhTg0NPWVONhssUVKWRKmMaNYek8TABH1NImYFrnLmSwuo8UiZnquT0aQKqk8gFhwLNFNZIoTUaKUUMFWq0dqhMwqU4dESOSPQoAZZZUzWJVpJQhYFLO4YaDZ4mwXcHToL/A38OoQCmq5kHAAAAAElFTkSuQmCC" alt="5기_이레" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/94d165021200ede18e282c3241998010/8ac63/irae.png 200w,
/static/94d165021200ede18e282c3241998010/f026d/irae.png 238w" sizes="(max-width: 238px) 100vw, 238px" /><img loading="lazy" sizes="(max-width: 238px) 100vw, 238px" srcset="/static/94d165021200ede18e282c3241998010/8ac63/irae.png 200w,
/static/94d165021200ede18e282c3241998010/f026d/irae.png 238w" src="/static/94d165021200ede18e282c3241998010/f026d/irae.png" alt="5기_이레" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><style data-emotion="css 12ys16c">.css-12ys16c{-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:4px 0 0 10px;color:#90a2aa;font-size:1.2rem;line-height:1.4em;font-weight:400;letter-spacing:0.2px;text-transform:uppercase;}.css-12ys16c span{margin:0;}.css-12ys16c a{color:#434952;font-weight:600;}@media (prefers-color-scheme: dark){.css-12ys16c a{color:rgba(255, 255, 255, 0.75);}}</style><div class="post-card-byline-content css-12ys16c"><span><a href="/author/5-기-이레/">5기_이레</a></span><span class="post-card-byline-date"><time dateTime="2023-10-04">04 Oct 2023</time> <span class="bull">•</span> <!-- -->14<!-- --> min read</span></div></footer></div></article><article class="post-card   css-1pe6fj0"><a class="post-card-image-link css-19py1iz" href="/post/2023-08-10-WHAT-IS-TCP/"><div class="post-card-image css-zj03fh"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGklEQVQ4y52Uz2sTQRTHdy2K2AY0M0Yt1eDPVqqVUtNKtQhWahFaaqkoSkE92UuFnkwmIh578g/w0qPZSY+Cf56fN/MS4ibbRhc+zNvd2e9835u3kyS5yzSyHnwayZIijr0QSI4SGFp48MTWCcaTen8Kzg0lmEuzE58xztdghtjCEmzBnL4fGU7Q+Y7oTeL78IR4EdbhI7yGG3AXRvucDrB/CzbgNmJ3YJn4LOOcistC2/CVuKrfpAMFy/WWjK/gF7w09dYIH86Ka+v8JfvlUNI8zf1bspBFx+U763y/Q+vanXgWlsUZEy8wlmGeeBUuEk9Zl40x5zw8gKcDUu6uUFXBcXVVhTXiJbgGm7Bgmsx32Tzz1mC7Z/fT3vxTJm/BPmzY4MTfI37Ouxcs+j3UMDJhxH3cKObkamijG3G6yMQdSauy/1ueXSEmJf8eDohXYYVvKtpK03C5cJcrpXB/NbRFrJfs9LoRpw1/XQWneF9ifGxcuxae9bRPvmVMcOD8O3ikzidtrOEzIINsIvZqFt2LYL2VmtghfYIlFdzUDSpbbRu5104Q92+kzrIZtnmYdMSKGttqXSa1gRc0pZWwAVIS5x3saesUN3a3J+OOT8MneBj+jkb2A76FhRpe+q8m/7Mt/PUkrZha2q1ndCSjtMgHkFKMhR5tto8/F/vd/nU2dtOyn3/+i6DPnTz/ecAeddDanPDo7kGhyB8BSNPrLwqMGQAAAABJRU5ErkJggg==" alt="전송 제어 프로토콜이란? cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/6f324719a8679e503b3cd6a768972ec4/3a443/roy_teaser.png 930w,
/static/6f324719a8679e503b3cd6a768972ec4/4d929/roy_teaser.png 1860w,
/static/6f324719a8679e503b3cd6a768972ec4/b3177/roy_teaser.png 2500w" sizes="(max-width: 2500px) 100vw, 2500px" /><img loading="lazy" sizes="(max-width: 2500px) 100vw, 2500px" srcset="/static/6f324719a8679e503b3cd6a768972ec4/3a443/roy_teaser.png 930w,
/static/6f324719a8679e503b3cd6a768972ec4/4d929/roy_teaser.png 1860w,
/static/6f324719a8679e503b3cd6a768972ec4/b3177/roy_teaser.png 2500w" src="/static/6f324719a8679e503b3cd6a768972ec4/b3177/roy_teaser.png" alt="전송 제어 프로토콜이란? cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><div class="post-card-content css-susx73"><a class="post-card-content-link css-11xyrw0" href="/post/2023-08-10-WHAT-IS-TCP/"><header class="post-card-header css-1s5mbbt"><div class="post-card-primary-tag css-1ws4skr">#Network</div><h2 class="post-card-title css-1pqz7yn">전송 제어 프로토콜이란?</h2></header><section class="post-card-excerpt css-eyqgbm"><p>OSI 7계층과 전송제어 프로토콜 데이터 통신은 여러 단계로 진행되는데, OSI 참조 모델은 그 과정을 7개 계층으로 나눈다.
1계층(물리 계층)은 ‘케이블이 연결된 상대에 대한 전기·기계적 신호 전달’ 제어를 담당한다.…</p></section></a><footer class="post-card-meta css-k6f2l9"><ul class="author-list css-teqkql"><li class="author-list-item css-1q168dw"><div class="author-name-tooltip css-1o16atw">5기_로이</div><a class="author-avatar css-cdhz0m" href="/author/5-기-로이/"><div class="author-profile-image css-121fnpm gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:133.5%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAbABQDASIAAhEBAxEB/8QAGwAAAgIDAQAAAAAAAAAAAAAAAAgDBwQFBgn/xAAWAQEBAQAAAAAAAAAAAAAAAAAFBAP/2gAMAwEAAhADEAAAAYq56rYEyL4M6LApX6O0NHg6shjCcn//xAAcEAACAgMBAQAAAAAAAAAAAAAEBQMGAQIHFhL/2gAIAQEAAQUCUUg6vDtpW7afwIMM1cx5dG8CcGElbtq1s1a7iERzChZ6v0Vli3X0QZcfWflvSpUSqXP/xAAkEQACAgECBQUAAAAAAAAAAAABAgMREgQFABQhImETMTJRcf/aAAgBAwEBPwHS8zqRqNJFJEfSSSZELOneiq5VCBiznHKj8u5VORHDLuSsVYlWBohQuIPizdfV9eH3nSbdHKvJNJqZZ9PHFKJMFjjYsr5DuyYtj1INj2wxpm3MsxYpVm6BBA8WVBP7XH//xAAjEQACAgEDAwUAAAAAAAAAAAABAgMRBAASIQUTIhQkMVFS/9oACAECAQE/AZ8yBzI8KFZgjBHZBsZz4xtLREgiJZVJG1gvIutYre2x/VIzZPZjGQ0IcxNMFUSNHbsdjPbKCzEKaLE86g6RJlNGy5AiTtSPL4dySRwAV5NUoAagG4b9XwnT0jVUDbgorcQQT8ckBiBf1ev/xAAmEAACAgEDAwQDAQAAAAAAAAACAwEEBRESEwAGFCEiIzEHM1Fh/9oACAEBAAY/Ar01rNtd2WBK3m5lXjFSWLUE0jHaszgwkmzyGvgHhidx9KxJKvvyNVhVQv6zRbOKaJMYHlyz4g37n15k+RM8wxL4bGy2llCqyVW3hDfIs2oauC1UyLGwZbBqkJ3SIz/RjoXZD8hZHLWy0qJxTLZ5HE+ZqJba3lVm8f0wN5WtY4/WA5QAMB3BYfYSm1bgKCk2XIoNiEyia7U1VE1daOVttjBB0k6GbTnZxdKxUwOZNSFsbex1bJWKxtbqRCLJrImdvpt1XBQqV7vdr1Q7Yw8qdl8jkq1RLDIxxtWy9o1lPYv1Cdpnu0ZJRHuKRnXSF08jmsbkKuPGlTc6utpWa9atRUpbDUbAQvzbAvsTYWTRlfqKFwwT6ZHb0zjcfGPo6I8Gna5GcZa2OQwLTlDj3DEzG+CP7Oeu3cfSQuvVVg8teBYD7ouG6NbUuLVxP+MZFhskgnUgmCIpnM2ckpFyxBM+d1dBN+NYcep8cFOzcUDrroM7Y9ukdCR1IKdgx+1/1/IiG6RH+R1//8QAGhABAQEBAQEBAAAAAAAAAAAAAREAITFBUf/aAAgBAQABPyE6uiy8twc3kO1Jz1GRrTVgJgAL2tS6gD1WjmZ5WtNJLCArbHo+cwr2XDDO0f8AnsK1TjY7l/RCfGBiZKaozqgmdsG4ECe8BbWWKIEs7u+0twentQmQ6JN0WqHnPUOBEttXQRhKuUAAoABWAB4Ab//aAAwDAQACAAMAAAAQc/L9/8QAGhEBAQADAQEAAAAAAAAAAAAAAREAITFBYf/aAAgBAwEBPxC1utBCxBPwJKxcAowJSyDwkACqV+C0U9wssKq0MW0tlu4aSCSgvYQM/8QAGBEBAQEBAQAAAAAAAAAAAAAAAREAITH/2gAIAQIBAT8QGAQIajXbmWARjZOUh245gpAJV9FxIC5N+EGOBupQKET9JQhYQUBfd//EABcQAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQEAAT8QmF8yLBGmREGpPG7mChzj3HgiQsaQ7tV6WkRIUCVctyGNeJdMFpF93nyxqEAlmt8yo/KlFH1gH2IozI/YQ07fwB5yAYujrriCoZO//YKqt7GZH2wyS9j2jcXa02uyECPDB2GF5S2IA//Z" alt="5기_로이" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/1be0cd5036158133d1f178beaee9664e/fd013/roy_avatar.jpg 200w,
/static/1be0cd5036158133d1f178beaee9664e/25252/roy_avatar.jpg 400w,
/static/1be0cd5036158133d1f178beaee9664e/2f1b1/roy_avatar.jpg 800w,
/static/1be0cd5036158133d1f178beaee9664e/0ff54/roy_avatar.jpg 1200w,
/static/1be0cd5036158133d1f178beaee9664e/06655/roy_avatar.jpg 1600w,
/static/1be0cd5036158133d1f178beaee9664e/16018/roy_avatar.jpg 3024w" sizes="(max-width: 800px) 100vw, 800px" /><img loading="lazy" sizes="(max-width: 800px) 100vw, 800px" srcset="/static/1be0cd5036158133d1f178beaee9664e/fd013/roy_avatar.jpg 200w,
/static/1be0cd5036158133d1f178beaee9664e/25252/roy_avatar.jpg 400w,
/static/1be0cd5036158133d1f178beaee9664e/2f1b1/roy_avatar.jpg 800w,
/static/1be0cd5036158133d1f178beaee9664e/0ff54/roy_avatar.jpg 1200w,
/static/1be0cd5036158133d1f178beaee9664e/06655/roy_avatar.jpg 1600w,
/static/1be0cd5036158133d1f178beaee9664e/16018/roy_avatar.jpg 3024w" src="/static/1be0cd5036158133d1f178beaee9664e/2f1b1/roy_avatar.jpg" alt="5기_로이" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><div class="post-card-byline-content css-12ys16c"><span><a href="/author/5-기-로이/">5기_로이</a></span><span class="post-card-byline-date"><time dateTime="2023-10-11">11 Oct 2023</time> <span class="bull">•</span> <!-- -->6<!-- --> min read</span></div></footer></div></article></div></div></aside><style data-emotion="css 1snipao">.css-1snipao{position:relative;padding:0 5vw;position:relative;padding-top:20px;padding-bottom:60px;color:#fff;background:#000;}</style><footer class="css-1snipao"><style data-emotion="css 1fhv7oo">.css-1fhv7oo{margin:0 auto;max-width:1040px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(255, 255, 255, 0.7);font-size:1.3rem;}.css-1fhv7oo a{color:rgba(255, 255, 255, 0.7);}.css-1fhv7oo a:hover{color:rgba(255, 255, 255, 1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 650px){.css-1fhv7oo{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-1fhv7oo"><section class="copyright"><a href="/">Tecoble</a> © <!-- -->2023<!-- --> <a href="/">| <!-- -->Tecoble<!-- --> <!-- -->is based on woowacourse</a></section><style data-emotion="css 29c7f9">.css-29c7f9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-29c7f9 a{position:relative;margin-left:20px;}.css-29c7f9 a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-29c7f9 a:first-of-type:before{display:none;}@media (max-width: 650px){.css-29c7f9 a:first-of-type{margin-left:0;}}</style><nav class="css-29c7f9"><a href="/">Latest Posts</a><a href="https://github.com/scttcper/gatsby-casper" target="_blank" rel="noopener noreferrer">Casper</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7YLT36LV0M"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7YLT36LV0M', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/2023-08-15-how-to-improve-ux-with-optimistic-update/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e0a20f4eb97a7c0e40f5.js"],"app":["/app-75480a9e9d3642235903.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-f06130ec43fe48500909.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-c84777ec31d7064ba372.js"],"component---src-templates-author-tsx":["/component---src-templates-author-tsx-340b4c1abefea9bb5466.js"],"component---src-templates-index-tsx":["/component---src-templates-index-tsx-c8a3e34117d34ee008a1.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-ff40b5ee0b4beb579c81.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-177bde21d0aca876fd98.js"]};/*]]>*/</script><script src="/polyfill-e0a20f4eb97a7c0e40f5.js" nomodule=""></script><script src="/component---src-templates-post-tsx-ff40b5ee0b4beb579c81.js" async=""></script><script src="/commons-ae9a61b44c79313aeb61.js" async=""></script><script src="/app-75480a9e9d3642235903.js" async=""></script><script src="/framework-e95c51af9f100acf27a2.js" async=""></script><script src="/webpack-runtime-e218f35ef1d430a01707.js" async=""></script></body></html>